import base64;exec base64.b64decode('IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KaW1wb3J0IGJhc2U2NAppbXBvcnQgb3MKaW1wb3J0IHJlCmltcG9ydCBnbG9iCmltcG9ydCBzcWxpdGUzCmltcG9ydCBzeXMKaW1wb3J0IHVuaWNvZGVkYXRhCmltcG9ydCB1cmxwYXJzZQpmcm9tIHVybHBhcnNlIGltcG9ydCBwYXJzZV9xc2wKaWYgOTcgLSA5NzogT09vT29PMG8wbzBPTyArIElJSUkgLiBJaSAlIG9PTwppbXBvcnQgZGF0ZXRpbWUKaW1wb3J0IHhibWMKaW1wb3J0IHhibWNhZGRvbgppbXBvcnQgeGJtY2d1aQppbXBvcnQgeGJtY3BsdWdpbgppbXBvcnQgYW5vcgppbXBvcnQgdHJhY2ViYWNrCmlmIDEgLSAxOiBJSSAtIGlpSUlpMWkxSWlpIC0gSTEgLSBJSW9vb08wb29PMG9vICogT09PCmltcG9ydCBpdGhpbAppZiA1IC0gNTogaTFpSTEgKyBvMDBvTzBvbzBPME8wIC0gaWkxSTFpaTFJaUlpMSAlIG9vb09vTyAtIElpSUkxSWlJCl9fc2V0dGluZ3NfXyA9IHhibWNhZGRvbiAuIEFkZG9uICggaWQgPSAicGx1Z2luLnZpZGVvLnBhbGFudGlyIiApCmlmIDg1IC0gODU6IG9vCmRlZiBPb09vT28gKCB2YWx1ZSApIDoKIGlmIG5vdCB2YWx1ZSBvciB2YWx1ZSA9PSAnbm9uZScgOgogIGlmIDczIC0gNzM6IElpMUkgLyBJMUlpSTFJSUkxMWkgKyBvb09vb08wT09PICUgSWlJSTFpMUkgLyBvbzBvICUgSWlJSTFpMUkKICByZXR1cm4gJ2dvbGQnCiBlbHNlIDoKICBpZiA2NyAtIDY3OiBpMWlJMSArIGkxaUkxICUgb28wbyAqIGlpMUkxaWkxSWlJaTEKICB0cnkgOgogICByZXR1cm4gdmFsdWUgLiBzcGxpdCAoICddJyApIFsgMSBdIC4gc3BsaXQgKCAnWycgKSBbIDAgXQogIGV4Y2VwdCA6CiAgIGlmIDg1IC0gODU6IElJb29vTzBvb08wb28gLiBJaUlJMWkxSQogICByZXR1cm4gdmFsdWUKICAgaWYgOCAtIDg6IG9PTyAqIElpCiAgIGlmIDI2IC0gMjY6IG8wMG9PMG9vME8wTzAgLSBJSW9vb08wb29PMG9vCnRyeSA6CiBPME8wMDAwMDBPbyA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdNYWluVmlldycgKSApCiBJMUlJID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBfX3NldHRpbmdzX18gLiBnZXRTZXR0aW5nICggJ0Rvd25WaWV3JyApICkKIEkxaUkxaWlpSWlJMSA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdGYXZWaWV3JyApICkKIE9PME8wID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBfX3NldHRpbmdzX18gLiBnZXRTZXR0aW5nICggJ1BlbGlzVmlldycgKSApCiBpaTFpMWlpMUkgPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnRXBpc29kZXNWaWV3JyApICkKIG8wbzAwMDBPMCA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdMaXN0VmlldycgKSApCiBvTzBPMG8wb29PID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBfX3NldHRpbmdzX18gLiBnZXRTZXR0aW5nICggJ1Nlcmllc1ZpZXcnICkgKQogaTFJaUkxaWlpID0gT29Pb09vICggeGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBfX3NldHRpbmdzX18gLiBnZXRTZXR0aW5nICggJ01lbnVDb2xvcicgKSApICkKIGlpaTFJSSA9IE9vT29PbyAoIHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdUYWdDb2xvcicgKSApICkKIEkxMTFpMTFJMUkgPSBPb09vT28gKCB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnU2VydmVyQ29sb3InICkgKSApCiBpMTFpaSA9IE9vT29PbyAoIHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdBbHRDb2xvcicgKSApICkKIG8wTzBvTzAgPSBPb09vT28gKCB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnQXVkaW9Db2xvcicgKSApICkKIElJSWkxMTExaUkgPSBPb09vT28gKCB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnQ2F0ZWdvcnlDb2xvcicgKSApICkKIGlpSUlpaWlJMTEgPSBPb09vT28gKCB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnRGF0ZUNvbG9yJyApICkgKQogTzAwTzAwMCA9IE9vT29PbyAoIHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdDYXBpQ29sb3InICkgKSApCiBPME9PTyA9IE9vT29PbyAoIHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdQZWxpQ29sb3InICkgKSApCiBpZiA0IC0gNDogb29Pb29PME9PTwogaWYgbm90IG8wbzAwMDBPMCBvciBvMG8wMDAwTzAgPT0gJ25vbmUnIDoKICBvMG8wMDAwTzAgPSAnNTAyJwogaWYgbm90IG9PME8wbzBvb08gb3Igb08wTzBvMG9vTyA9PSAnbm9uZScgOgogIG9PME8wbzBvb08gPSAnNTE1JwogaWYgbm90IE8wTzAwMDAwME9vIG9yIE8wTzAwMDAwME9vID09ICdub25lJyA6CiAgTzBPMDAwMDAwT28gPSAnNTAwJwogaWYgbm90IEkxSUkgb3IgSTFJSSA9PSAnbm9uZScgOgogIEkxSUkgPSAnNTAwJwogaWYgbm90IEkxaUkxaWlpSWlJMSBvciBJMWlJMWlpaUlpSTEgPT0gJ25vbmUnIDoKICBJMWlJMWlpaUlpSTEgPSAnNTAwJwogaWYgbm90IE9PME8wIG9yIE9PME8wID09ICdub25lJyA6CiAgT08wTzAgPSAnNTAyJwogaWYgbm90IGlpMWkxaWkxSSBvciBpaTFpMWlpMUkgPT0gJ25vbmUnIDoKICBpaTFpMWlpMUkgPSAnNTAyJwpleGNlcHQgOgogeGJtYyAuIGxvZyAoICdFUlJPUiBQcm9jZXNpbmcgaW5pdGlhbCBjb25maWd1cmF0aW9uJyApCiB0cmFjZWJhY2sgLiBwcmludF9leGMgKCBmaWxlID0gc3lzIC4gc3Rkb3V0ICkKIGlmIDUzIC0gNTM6IG9vT29vTzBPT08KIGlmIDg1IC0gODU6IG9vT29vTzBPT08gKyBJSUlJCiBpZiAzMiAtIDMyOiBJaUlJMWkxSSAtIGlpSUlpMWkxSWlpICogSUkgKyBPT08gLSBpaUlJaTFpMUlpaQp0cnkgOgogaW1wb3J0IGpzb24KZXhjZXB0IDoKIGltcG9ydCBzaW1wbGVqc29uIGFzIGpzb24KIGlmIDI4IC0gMjg6IElJSUkKZGVmIE9vb29PME8gKCBzICkgOgogaWYgOTUgLSA5NTogSWlJSTFJaUkgJSBJMUlpSTFJSUkxMWkKIHJldHVybiAnJyAuIGpvaW4gKCAoIGMgZm9yIGMgaW4gdW5pY29kZWRhdGEgLiBub3JtYWxpemUgKCAnTkZEJyAsIHMgKSBpZiB1bmljb2RlZGF0YSAuIGNhdGVnb3J5ICggYyApICE9ICdNbicgKSApCiBpZiAzOSAtIDM5OiBJSW9vb08wb29PMG9vCiBpZiA0MCAtIDQwOiBpaTFJMWlpMUlpSWkxICogb28gLyBJMQpkZWYgSTFpSUkxaTFpICggYmFzICkgOgogaXRoaWwgLiBJMTExMTFJaWlJSUkxICggYmFzICkKIGlmIDQxIC0gNDE6IGkxaUkxIC0gT09PICUgb29Pb29PME9PTyAtIElJb29vTzBvb08wb28gKyBvb09vb08wT09PCiBpZiAzMyAtIDMzOiBvbyArIG9PTyAvIG9vT29vTzBPT08gKyBJaSArIGlpMUkxaWkxSWlJaTEgLiBpaTFJMWlpMUlpSWkxCmRlZiBJSUkxMUlpICggKSA6CiBpbXBvcnQgeGJtYwogb08wID0geGJtYyAuIEtleWJvYXJkICggIiIgKQogb08wIC4gZG9Nb2RhbCAoICkKIGkxSWlJMTFpMUlpaSA9ICcnCiBpZiAoIG9PMCAuIGlzQ29uZmlybWVkICggKSApIDoKICBpMUlpSTExaTFJaWkgPSBvTzAgLiBnZXRUZXh0ICggKQogcmV0dXJuIGkxSWlJMTFpMUlpaQogaWYgNzEgLSA3MTogT09vT29PMG8wbzBPTyAqIG9PTyAqIElpCiBpZiA5MiAtIDkyOiBvMDBvTzBvbzBPME8wIC4gb28wbyAqIE9PTyAqIElpIC8gb28KIGlmIDEwMCAtIDEwMDogSTEgKiBPT29Pb08wbzBvME9PCm9vb09PTyA9ICd1dGYtOCcKaWkgPSAnLnRtcCcKb09PTzBPMCA9ICdhY3Rpb24nCk9PTzAwT29vMCA9IHhibWNhZGRvbiAuIEFkZG9uICggKQpJaUlpID0gT09PMDBPb28wIC4gZ2V0QWRkb25JbmZvICggJ3ZlcnNpb24nICkKSTFpMTFpSWkxMUlpMUkxID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBPT08wME9vbzAgLiBnZXRBZGRvbkluZm8gKCAncGF0aCcgKSAuIGRlY29kZSAoIG9vb09PTyApICkKb09vTyA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggT09PMDBPb28wIC4gZ2V0QWRkb25JbmZvICggJ3Byb2ZpbGUnICkgLiBkZWNvZGUgKCBvb29PT08gKSApCmlpaTExaTFJSWkgPSBvcyAuIHBhdGggLiBqb2luICggSTFpMTFpSWkxMUlpMUkxICwgInJlc291cmNlcy9tZWRpYS8iICkKaWYgNCAtIDQ6IG9vMG8gJSBJaUlJMUlpSQppMTFpID0gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnSlhNdmJXOXlhV0VsY3c9PScgKSAlICggb09vTyAsIGlpICkKaUlpSWlpaUlpMUkxSSA9ICclcy9icmVlLmZhdicgJSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnZmF2UGF0aCcgKSApCmlpSTFJaUkxaWlJSTEgPSAnJXMvYnJlZS5mYXZkJyAlIHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdmYXZQYXRoJyApICkKaUlJaUlpSTFJMUkgPSAnJXMvYnJlZS5mYXZwJyAlIHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdmYXZQYXRoJyApICkKaWlJaWkxSUlpMUkgPSAnJXMvYnJlZS5mYXZzJyAlIHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdmYXZQYXRoJyApICkKaUlpaUlpMWkxaTFpMSA9ICclcy9icmVlLmR3bicgJSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnZmF2UGF0aCcgKSApCklJaTExSWkxID0gWyAic2VyaWVfaWQiICwgIm5vbWJyZSIgLCAibGluayIgLCAibm9tYnJlIiAsICJhbm5vIiAsICJzaW5vcHNpcyIgLCAiY2FyYXR1bGEiICwgInBvc3RlciIgLCAiaGFzX2NvbnRlbnQiICwgImF1ZGlvIiAsCiAiY2F0ZWdvcnkiICwgImRhdGUodXBkYXRlZCkiICwgInRtZGIiIF0KTzBPbzBvT08gPSBbICJwZWxpX2lkIiAsICJub21icmUiICwgImxpbmsiICwgIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwgImNhcmF0dWxhIiAsICJwb3N0ZXIiICwgIidOJyIgLCAiYXVkaW8iICwgImNhdGVnb3J5IiAsCiAiZGF0ZSh1cGRhdGVkKSIgLCAiYWN0aXZlIiBdCmlpSTExMTFJSWlpSSA9IFsgInBlbGlfaWQiICwgImF1ZGlvIiAsICInJyIgLCAidGFncyIgLCAiJyciICwgIicnIiAsICJsaW5rIiAsICIncXVhbGl0eSciICwgIm5vbWJyZSIgLCAiYW5ubyIgLAogInNpbm9wc2lzIiAsCiAiY2FyYXR1bGEiICwgInBvc3RlciIgLCAidXBkYXRlZCIgLCAicHVudG9zIiAsICJjYXRlZ29yeSIgLCAiYWN0aXZlIiAsICJ0bWRiIiAsCiAiZ3JvdXBfaWQiICwgImNvdW50KCopIiAsICJncm91cF9jb25jYXQodGFncywnIycpIiAsICJncm91cF9jb25jYXQoYXVkaW8sJyMnKSIKIF0Kb29vMG9vT29PME9vID0gMjAwCklJSWkxMSA9ICIsIENBU0UgV2hlbiB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMTkyIEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMTk4IFRoZW4gJ0EnV2hlbiB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjA0IEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjA3IFRoZW4gJ0knV2hlbiB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjAwIEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjAzIFRoZW4gJ0UnV2hlbiB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjE3IEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjIwIFRoZW4gJ1UnV2hlbiB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjEwIEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjE0IFRoZW4gJ08nIFdIRU4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDY1IEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gOTAgVEhFTiB1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkgRUxTRSAnITAtOS4uJyAgRU5EIGFsZmEgIgpJaWkxID0gJ3NlcmllcycKSWlJSWkxSTFJaSA9ICdwZWxpc0dyb3VwJwppZiA5NyAtIDk3OiBJSUlJIC4gSWkxSSAqIG9vCmlmIG5vdCBvcyAuIHBhdGggLiBleGlzdHMgKCBvT29PICkgOgogdHJ5IDoKICBvcyAuIG1ha2VkaXJzICggb09vTyApCiBleGNlcHQgOgogIHBhc3MKSTFpSTExSSA9IHN5cyAuIGFyZ3YgWyAwIF0KaWlJSWlpSUkxID0gaW50ICggc3lzIC4gYXJndiBbIDEgXSApCnRyeSA6CiBpZiA2NiAtIDY2OiBpMWlJMSAlIEkxICogSTEKIE9PbzBvbyA9IGFub3IgLiBJMWkxSTFpSTExSSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICgKICdjMlZzWldOMElHbGtVR0YwYUNCbWNtOXRJSEJoZEdnZ2QyaGxjbVVnYzNSeVVHRjBhRDBpY0d4MVoybHVPaTh2Y0d4MVoybHVMblpwWkdWdkxuQmhiR0Z1ZEdseUx5ST0nICkgKSBbIDEgXSBbIDAgXSBbIDAgXQpleGNlcHQgOgogT09vMG9vID0gMAogaWYgNiAtIDY6IElpSUkxaTFJIC8gb09PIC8gSWkxSQogaWYgMTAgLSAxMDogb29vT29PICsgb28gKiBvbwpkZWYgb29vMCAoIHBhdGggLCB0eXBlID0gJ3InICkgOgogb09Pb08wMG9PMCA9IG9wZW4gKCBzdHIgKCBwYXRoICkgLCB0eXBlICkKIE8wT09vMG9vMDBPME8gPSBvT09vTzAwb08wIC4gcmVhZCAoICkKIG9PT29PMDBvTzAgLiBjbG9zZSAoICkKIHJldHVybiBPME9PbzBvbzAwTzBPCiBpZiA3OSAtIDc5OiBJaTFJICsgT09PICsgSWlJSTFJaUkgLSBJSSAuIGlpMUkxaWkxSWlJaTEgLyBJSQogaWYgMjMgLSAyMzogbzAwb08wb28wTzBPMCAtIGlpMUkxaWkxSWlJaTEgLiBJaTFJICsgb29vT29PCmlmIG9zIC4gcGF0aCAuIGV4aXN0cyAoIGlJaUlpaWlJaTFJMUkgKSA9PSBUcnVlIDoKIGkxMWlpaSA9IGpzb24gLiBsb2FkcyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggb29vMCAoIGlJaUlpaWlJaTFJMUkgKSApICkKZWxzZSA6CiBpMTFpaWkgPSB7IH0KIGlmIDc4IC0gNzg6IEkxSWlJMUlJSTExaSArIE9PTyAtIG9PTwppZiBvcyAuIHBhdGggLiBleGlzdHMgKCBpSUlpSWlJMUkxSSApID09IFRydWUgOgogSWlpSWkxMWlJSUkxID0ganNvbiAuIGxvYWRzICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBvb28wICggaUlJaUlpSTFJMUkgKSApICkKZWxzZSA6CiBJaWlJaTExaUlJSTEgPSB7IH0KIGlmIDQyIC0gNDI6IElpMUkgKiBvb29Pb08gLiBJaUlJMUlpSSArIElJSUkgKiBPT29Pb08wbzBvME9PCmlmIG9zIC4gcGF0aCAuIGV4aXN0cyAoIGlpSTFJaUkxaWlJSTEgKSA9PSBUcnVlIDoKIG9vSUlJSSA9IGpzb24gLiBsb2FkcyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggb29vMCAoIGlpSTFJaUkxaWlJSTEgKSApICkKZWxzZSA6CiBvb0lJSUkgPSB7IH0KIGlmIDU2IC0gNTY6IElpSUkxaTFJICUgSWlJSTFJaUkgLiBJSSAvIE9PTwppZiBvcyAuIHBhdGggLiBleGlzdHMgKCBpaUlpaTFJSWkxSSApID09IFRydWUgOgogaTExID0ganNvbiAuIGxvYWRzICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBvb28wICggaWlJaWkxSUlpMUkgKSApICkKZWxzZSA6CiBpMTEgPSB7IH0KIGlmIDggLSA4OiBJaUlJMUlpSSArIElpMUkgKiBvT08gLSBJaUlJMWkxSSAtIGlpSUlpMWkxSWlpCiBpZiAxNCAtIDE0OiBvbyAvIElpMUkgLyBJaUlJMWkxSSAvIElJIC8gb09PIC8gbzAwb08wb28wTzBPMApkZWYgTzAwMDAwME8wT29PbyAoIG5vbWJyZSAsIGNhcmF0dWxhID0gTm9uZSAsIHBvc3RlciA9IE5vbmUgLCB2aWRlbyA9IHsgfSAsIGlzUGxheWFibGUgPSBGYWxzZSApIDoKIE9vT08wT08wbzBPID0geGJtY2d1aSAuIExpc3RJdGVtICggbGFiZWwgPSBub21icmUgLCBpY29uSW1hZ2UgPSBjYXJhdHVsYSApCiBpZiBjYXJhdHVsYSBhbmQgcG9zdGVyIDoKICBPb09PME9PMG8wTyAuIHNldEFydCAoIElJaWlJSTExMWkgKCBjYXJhdHVsYSAsIHBvc3RlciApICkKIGlmIGxlbiAoIHZpZGVvICkgPiAwIDoKICBPb09PME9PMG8wTyAuIHNldEluZm8gKCAndmlkZW8nICwgdmlkZW8gKQogaWYgaXNQbGF5YWJsZSA6CiAgT29PTzBPTzBvME8gLiBzZXRQcm9wZXJ0eSAoICdJc1BsYXlhYmxlJyAsICd0cnVlJyApCiByZXR1cm4gT29PTzBPTzBvME8KIGlmIDExIC0gMTE6IElpSUkxaTFJCmRlZiBJSTFJaTExaTFJaTFJICggc2FnYU5hbWUgKSA6CiBJaTExaTFpSWlJSTExID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBfX3NldHRpbmdzX18gLiBnZXRTZXR0aW5nICggJ2ZhdlNhZ2EnICkgKQogaWYgNjIgLSA2MjogaWlJSWkxaTFJaWkgLyBpMWlJMSAlIElJSUkKIE9vMDBvME8wb09vMCA9IFsgXQogaWYgSWkxMWkxaUlpSUkxMSA9PSAnJyBvciBJaTExaTFpSWlJSTExID09ICdmYWxzZScgOgogIE9vMDBvME8wb09vMCA9IFsgKCAnQcOxYWRpciBhbCBNZW51JyAsICdYQk1DLlJ1blBsdWdpbiglcz9hY3Rpb249dG9fc2FnYSZzYWdhPSVzKScgJSAoCiBJMWlJMTFJICwgc2FnYU5hbWUgKSApIF0KIGVsaWYgc2FnYU5hbWUgPT0gSWkxMWkxaUlpSUkxMSA6CiAgT28wMG8wTzBvT28wID0gWyAoICdFbGltaW5hciBkZWwgTWVudScgLCAnWEJNQy5SdW5QbHVnaW4oJXM/YWN0aW9uPXRvX3NhZ2Emc2FnYT1mYWxzZSknICUgKAogSTFpSTExSSApICkgXQogcmV0dXJuIE9vMDBvME8wb09vMAogaWYgMTAwIC0gMTAwOiBJSSAqIE9Pb09vTzBvMG8wT08gKyBPT08gKiBpaTFJMWlpMUlpSWkxICogT09PCmRlZiBPMG9vMDAgKCBzYWdhTmFtZSApIDoKIGlmIDgwIC0gODA6IElpSUkxSWlJICogaWlJSWkxaTFJaWkgLyBvT08gLyBJMUlpSTFJSUkxMWkgLyBPT08gKyBvMDBvTzBvbzBPME8wCiBpZiBzYWdhTmFtZSA6CiAgX19zZXR0aW5nc19fIC4gc2V0U2V0dGluZyAoICdmYXZTYWdhJyAsIHNhZ2FOYW1lICkKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiWEJNQy5Db250YWluZXIuUmVmcmVzaCIgKQogIGlmIDgxIC0gODE6IElJIC0gaWkxSTFpaTFJaUlpMSAvIElpMUkgKyBvb29Pb08KICBpZiA1MSAtIDUxOiBJaUlJMUlpSSArIElJICsgb28wbyAuIElJCiAgaWYgODYgLSA4NjogT09PIC8gSWlJSTFJaUkgKiBJaUlJMUlpSSAqIG8wMG9PMG9vME8wTzAKICBpZiA5MCAtIDkwOiBJMSAtIG9vMG8gJSBPT29Pb08wbzBvME9PIC0gT09PIC4gaTFpSTEgLyBJSUlJCmRlZiBJaW9vbyAoIGlkRmlsZSAsIGlkUGF0aCAsIGZpbGVOYW1lICwgdG9fd2F0Y2ggKSA6CiBpZiB0b193YXRjaCA6CiAgT28wMG8wTzBvT28wID0gKCAnTWFyY2FyIGNvbW8gdmlzdG8nICwgJ1hCTUMuUnVuUGx1Z2luKCVzP2FjdGlvbj10b193YXRjaCZpZEZpbGU9JXMmaWRQYXRoPSVzJmZpbGVOYW1lPSVzKScgJSAoCiBJMWlJMTFJICwgaWRGaWxlICwgaWRQYXRoICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBmaWxlTmFtZSApICkgKQogZWxzZSA6CiAgaWYgMTAgLSAxMDogSUlJSQogIE9vMDBvME8wb09vMCA9ICggJ01hcmNhciBjb21vIG5vIHZpc3RvJyAsCiAnWEJNQy5SdW5QbHVnaW4oJXM/YWN0aW9uPXRvX3Vud2F0Y2gmaWRGaWxlPSVzJmlkUGF0aD0lcyZmaWxlTmFtZT0lcyknICUgKAogSTFpSTExSSAsIGlkRmlsZSAsIGlkUGF0aCAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggZmlsZU5hbWUgKSApICkKIHJldHVybiBPbzAwbzBPMG9PbzAKIGlmIDcyIC0gNzI6IG9PTyAtIE9PTyAuIG9vb09vTwogaWYgNjAgLSA2MDogb29vT29PIC8gaWkxSTFpaTFJaUlpMSAqIG9vb09vTwpkZWYgaTFJSTEgKCBpZEZpbGUgLCBpZFBhdGggLCBmaWxlTmFtZSAsIHRvX3dhdGNoICkgOgogZmlsZU5hbWUgPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIGZpbGVOYW1lICkKIGlmIHRvX3dhdGNoIDoKICBpaUlpSWlpaUkgPSAxCiBlbHNlIDoKICBpaUlpSWlpaUkgPSAwCiBpZiBpbnQgKCBpZEZpbGUgKSA+IDAgOgogIEkxSSA9ICJ1cGRhdGUgZmlsZXMgc2V0IHBsYXlDb3VudD0lcyB3aGVyZSBpZEZpbGU9JXMgQU5EIGlkUGF0aD0lcyBBTkQgc3RyRmlsZW5hbWU9JyVzJyIgJSAoCiBpaUlpSWlpaUkgLCBpZEZpbGUgLCBpZFBhdGggLCBmaWxlTmFtZSApCiBlbHNlIDoKICBJMUkgPSAiaW5zZXJ0IGludG8gZmlsZXMgKGlkRmlsZSwgaWRQYXRoLCBzdHJGaWxlbmFtZSwgcGxheUNvdW50LCBsYXN0UGxheWVkKSBWQUxVRVMgKCVzLCAlcywgJyVzJywgJXMsICVzKSIgJSAoCiAnKHNlbGVjdCBtYXggKGlkRmlsZSkgKzEgZnJvbSBmaWxlcyknICwgaWRQYXRoICwgZmlsZU5hbWUgLCBpaUlpSWlpaUkgLCAiZGF0ZXRpbWUoJ25vdycpIiApCiBhbm9yIC4gSTFpMUkxaUkxMUkgKCBJMUkgKQogeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIlhCTUMuQ29udGFpbmVyLlJlZnJlc2giICkKIGlmIDc5IC0gNzk6IElJCiBpZiAxOCAtIDE4OiBJSSArIEkxICUgaWlJSWkxaTFJaWkgLSBJaSAqIElJSUkgLiBJaUlJMWkxSQpkZWYgTzBPMDAwbyAoICkgOgogaUlJaUlJSTFpID0gWyAnJXMvYnJlZS5mYXYnICUgb09vTyAsICclcy9icmVlLmZhdmQnICUgb09vTyAsICclcy9icmVlLmZhdnAnICUgb09vTyAsICclcy9icmVlLmZhdnMnICUgb09vTyAsICclcy9icmVlLmR3bicgJSBvT29PICwgJyVzL3NldHRpbmdzLnhtbCcgJSBvT29PIF0KIGlmIDkgLSA5OiBpMWlJMSAuIGkxaUkxCiBpZiAxIC0gMTogaWlJSWkxaTFJaWkgLiBvb09vb08wT09PIC8gb29Pb29PME9PTwogaWYgODIgLSA4MjogSWlJSTFJaUkgLiBJSSAuIElpSUkxaTFJIC0gSTFJaUkxSUlJMTFpCiBJSUlJSSA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdjb3B5UGF0aCcgKSApCiBpbXBvcnQgemlwZmlsZQogaW1wb3J0IHRpbWUKIGlmIElJSUlJIDoKICBJSUlJSSA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggSUlJSUkgKQogIGlmIDM5IC0gMzk6IG9PTyAqIElJSUkgJSBJaTFJIC0gb28wbyAvIE9Pb09vTzBvMG8wT08KICBPT28wbyA9ICIlcy9QYWxhbnRpcl9CYWNrdXBfJXMuemlwIiAlICggSUlJSUkgLCB0aW1lIC4gc3RyZnRpbWUgKCAiJWQtJW0tJVlfJUglTSVTIiApICkKICBPb08wTyA9IHppcGZpbGUgLiBaaXBGaWxlICggT09vMG8gLCAidyIgKQogIGZvciBPb09vT09vME9PMCBpbiBpSUlpSUlJMWkgOgogICBpZiBvcyAuIHBhdGggLiBleGlzdHMgKCBPb09vT09vME9PMCApIDoKICAgIG9vbzAwbzBPMG8wbyA9IE9vT29PT28wT08wIC4gc3BsaXQgKCAnLycgKQogICAgT29PME8gLiB3cml0ZSAoIE9vT29PT28wT08wICwgb29vMDBvME8wbzBvIFsgbGVuICggb29vMDBvME8wbzBvICkgLSAxIF0gLCBjb21wcmVzc190eXBlID0gemlwZmlsZSAuIFpJUF9ERUZMQVRFRCApCiAgT29PME8gLiBjbG9zZSAoICkKICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCAnQ29waWEgUmVhbGl6YWRhIGVuIDogJXMnICUgT09vMG8gLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCAxMDAwMCApCiBlbHNlIDoKICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCAnRXN0YWJsZXpjYSBsYSBydXRhIHBhcmEgbGEgY29waWEnICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNzAwMCApCiAgaWYgNDIgLSA0MjogaTFpSTEgLyBpMWlJMSArIG9vb09vTyAvIG8wMG9PMG9vME8wTzAKICBpZiA5MCAtIDkwOiBvbzBvICogb28wbyAlIGlpMUkxaWkxSWlJaTEKICBpZiA4NiAtIDg2OiBPT29Pb08wbzBvME9PIC4gSWlJSTFJaUkgLSBPT08gLSBJSUlJCmRlZiBvT09vT08gKCApIDoKIGlJSTFpSUlpSWkxMUkgPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnY29weVBhdGgnICkgKQogSWlJMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKIHRyeSA6CiAgSUlJSUkgPSBJaUkxaUkgLiBicm93c2UgKCB0eXBlID0gMSAsIGhlYWRpbmcgPSBfX3NldHRpbmdzX18gLiBnZXRMb2NhbGl6ZWRTdHJpbmcgKCAzNDAwMyApICwKIHNoYXJlcyA9ICdmaWxlcycgLCBtYXNrID0gJy56aXAnICwgdXNlVGh1bWJzID0gRmFsc2UgLCB0cmVhdEFzRm9sZGVyID0gRmFsc2UgLCBkZWZhdWx0dCA9IGlJSTFpSUlpSWkxMUkgLAogZW5hYmxlTXVsdGlwbGUgPSBGYWxzZSApCiBleGNlcHQgVHlwZUVycm9yIDoKICBJSUlJSSA9IElpSTFpSSAuIGJyb3dzZSAoIHR5cGUgPSAxICwgaGVhZGluZyA9IF9fc2V0dGluZ3NfXyAuIGdldExvY2FsaXplZFN0cmluZyAoIDM0MDAzICkgLAogc19zaGFyZXMgPSAnZmlsZXMnICwgbWFzayA9ICcuemlwJyAsIHVzZVRodW1icyA9IEZhbHNlICwgdHJlYXRBc0ZvbGRlciA9IEZhbHNlICwKIGRlZmF1bHR0ID0gaUlJMWlJSWlJaTExSSAsCiBlbmFibGVNdWx0aXBsZSA9IEZhbHNlICkKIGlmICdQYWxhbnRpcl9CYWNrdXBfJyBpbiBJSUlJSSA6CiAgaW1wb3J0IHppcGZpbGUKICBpSSA9IHppcGZpbGUgLiBaaXBGaWxlICggSUlJSUkgLCAncicgKQogIGlJIC4gZXh0cmFjdGFsbCAoIG9Pb08gKQogIGlJIC4gY2xvc2UgKCApCiAgeGJtY2d1aSAuIERpYWxvZyAoICkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgJ0NvcGlhIFJlc3RhdXJhZGEgOiAlcycgJSBJSUlJSSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDcwMDAgKQogZWxpZiBJSUlJSSAuIGVuZHN3aXRoICggJy56aXAnICkgOgogIHhibWNndWkgLiBEaWFsb2cgKCApIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsICdFbCBmaWNoZXJvIGRlYmUgc2VyIFBhbGFudGlyX0JhY2t1cF8uLi4gSW52YWxpZG8gJXMnICUgSUlJSUkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX1dBUk5JTkcgLCA3MDAwICkKICBpZiA0IC0gNDogSWlJSTFpMUkgLyBPT29Pb08wbzBvME9PIC0gSWkxSSAtIEkxSWlJMUlJSTExaQogIGlmIDIyIC0gMjI6IG9vMG8gKiBvT08gLiBJaTFJIC0gaTFpSTEgLSBJaSAtIG8wMG9PMG9vME8wTzAKICBpZiAyMyAtIDIzOiBpaTFJMWlpMUlpSWkxICsgb29Pb29PME9PTyArIE9Pb09vTzBvMG8wT08KICBpZiA2MyAtIDYzOiBJaTFJIC0gSWkxSSAqIGkxaUkxIC4gSWkgLSBvMDBvTzBvbzBPME8wCiAgaWYgMiAtIDI6IG9vb09vTyArIGlpMUkxaWkxSWlJaTEgLiBJaUlJMUlpSSAlIGkxaUkxCmRlZiBJaUlJaUkgKCBpZCAsIHR5cGUgLCBub21icmUgLCB1cmwgLCBjYXJhdHVsYSAsIHBvc3RlciAsIHJlbW92ZSApIDoKIHRyeSA6CiAgbm9tYnJlID0gbm9tYnJlIC4gZW5jb2RlICggJ3V0Zi04JyAsICdpZ25vcmUnICkKIGV4Y2VwdCAoIFVuaWNvZGVFbmNvZGVFcnJvciAsIFVuaWNvZGVEZWNvZGVFcnJvciApIDoKICBwYXNzCiAgaWYgNzIgLSA3MjogSUlvb29PMG9vTzBvbwogaWYgbm90IGNhcmF0dWxhIDoKICBjYXJhdHVsYSA9ICdOb25lJwogaWYgbm90IHBvc3RlciA6CiAgcG9zdGVyID0gJ05vbmUnCiBpZiBub3QgcmVtb3ZlIDoKICBPbzAwbzBPMG9PbzAgPSAoICdEZXNjYXJnYSBlbiBQYWxhbnRpcicgLAogJ1hCTUMuUnVuUGx1Z2luKCVzP2FjdGlvbj1hZGREb3dubG9hZCZpZD0lcyZub21icmU9JXMmdXJsPSVzJmNhcmF0dWxhPSVzJnBvc3Rlcj0lcyZ0eXBlPSVzKScgJSAoCiBJMWlJMTFJICwgaWQgLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIG5vbWJyZSApICwgdXJsICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBjYXJhdHVsYSApICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBwb3N0ZXIgKSAsIHR5cGUgKSApCiBlbHNlIDoKICBPbzAwbzBPMG9PbzAgPSAoICdCb3JyYXIgZGVzY2FyZ2EnICwKICdYQk1DLlJ1blBsdWdpbiglcz9hY3Rpb249cm1Eb3dubG9hZCZpZD0lcyZub21icmU9JXMmY2FyYXR1bGE9JXMmcG9zdGVyPSVzJnR5cGU9JXMpJyAlICgKIEkxaUkxMUkgLCBpZCAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggbm9tYnJlICkgLAogYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBjYXJhdHVsYSApICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBwb3N0ZXIgKSAsIHR5cGUgKSApCiAgaWYgNjQgLSA2NDogT09vT29PMG8wbzBPTyAuIElJICUgSUlJSQogcmV0dXJuIE9vMDBvME8wb09vMAogaWYgMTYgLSAxNjogSWlJSTFJaUkgKiBJMSAqIEkxCmRlZiBvb29vMG8gKCBvcHRpb25zICkgOgogaWYgNjYgLSA2NjogSTEgLyBvb29Pb08KIHRyeSA6CiAgaTFJSTExSUkxMUkgPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnRG93bmxvYWRQYXRoJyApICkKICBPT08wMG9PMDBPb08wID0ganNvbiAuIGxvYWRzICggb29vMCAoIGlJaWlJaTFpMWkxaTEgKSApCiAgaWYgMjMgLSAyMzogSWkxSSAlIElJIC8gb29vT29PCiAgaWYgODIgLSA4MjogaWkxSTFpaTFJaUlpMSAlIElJb29vTzBvb08wb28KICBpZiAxMSAtIDExOiBPT08gLyBpMWlJMSAtIG9vT29vTzBPT08gLyBvb29Pb08KICBpZiA5MCAtIDkwOiBvbyAqIElJSUkgKyBPT08gJSBJSUlJIC0gb09PCiAgaWYgNzAgLSA3MDogSUlJSSArIGlpMUkxaWkxSWlJaTEgKiBJaUlJMWkxSSAlIG9vT29vTzBPT08gKyBPT29Pb08wbzBvME9PIC0gSTEKICBvcyAuIHJlbW92ZSAoICclcyVzJyAlICggaTFJSTExSUkxMUkgLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIG9wdGlvbnMgWyAnbm9tYnJlJyBdICkgKSApCiAgT09PMDBvTzAwT29PMCAuIHBvcCAoIG9wdGlvbnMgWyAnbm9tYnJlJyBdICwgTm9uZSApCiAgT28wID0gb3BlbiAoIGlJaWlJaTFpMWkxaTEgLCAidyIgKQogIE9vMCAuIHdyaXRlICgganNvbiAuIGR1bXBzICggT09PMDBvTzAwT29PMCApICkKICBpZiA2MiAtIDYyOiBvbzBvICUgb29Pb29PME9PTyAtIGkxaUkxIC8gaTFpSTEgLiBpaUlJaTFpMUlpaQogIE9vMCAuIGNsb3NlICggKQogIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLkNvbnRhaW5lci5SZWZyZXNoIiApCiBleGNlcHQgOgogIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogIHhibWMgLiBsb2cgKCAnW2FkZG9uLlBhbGFudGlyXSBFcnJvciBPcHMgJXMnICUgb3B0aW9ucyApCiAgcmV0dXJuCiAgaWYgODAgLSA4MDogT09vT29PMG8wbzBPTyAvIElJSUkgKiBJaTFJICUgb29vT29PIC4gbzAwb08wb28wTzBPMApkZWYgT09vTzBvbzBvbzAwICggZG93bmxvYWRfZmlsZSApIDoKIG8wME8wbzAwbyA9IF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnTWF4TnVtRG93bmxvYWRzJyApCiBpMSA9IF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnTWF4U2l6ZURvd25sb2FkcycgKQogaWYgMjkgLSAyOTogSUkgKiBJaSArIElJIC4gb28gKiBJaUlJMWkxSQogaWYgOTggLSA5ODogb29Pb29PME9PTyAlIElJIC8gb28gLyBJaUlJMWkxSQogaWYgNTcgLSA1NzogSUlJSSAuIElJCiBpZiA1MyAtIDUzOiBJSUlJICsgb28gKiBpMWlJMSAuIG9PTyAtIElpSUkxSWlJIC4gSUlJSQogT28wMG8wMDBPID0gc2V0ICggKQogaTFJSTExSUkxMUkgPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnRG93bmxvYWRQYXRoJyApICkKIGZvciBPbzBPbzAgaW4gZG93bmxvYWRfZmlsZSAuIGtleXMgKCApIDoKICBPbzAwbzAwME8gLiBhZGQgKCBPbzBPbzAgKQogIGlmIDQyIC0gNDI6IGlpSUlpMWkxSWlpICUgbzAwb08wb28wTzBPMCAtIE9Pb09vTzBvMG8wT08KIGlpaSA9IHNldCAoICkKIGlmIDM2IC0gMzY6IG9vb09vTwogT09PbzAwb29vME9vID0gb09vICggY29uZmlybWF0aW9uTWVzc2FnZSA9IEZhbHNlICkKIGlmIDE2IC0gMTY6IElJIC4gSTFJaUkxSUlJMTFpCiBPTyA9IDAKIGlmIE9PT28wMG9vbzBPbyA6CiAgZm9yIGlpaUlpSWkxSSBpbiBvcyAuIGxpc3RkaXIgKCBpMUlJMTFJSTExSSApIDoKICAgaWlpIC4gYWRkICggb3MgLiBwYXRoIC4gc3BsaXRleHQgKCBpaWlJaUlpMUkgKSBbIDAgXSApCiAgIGlmIDUwIC0gNTA6IElJIC0gSTFJaUkxSUlJMTFpICogb29Pb29PME9PTyAvIElJSUkgLiBvb09vb08wT09PIC4gSWlJSTFpMUkKICBpZiBpbnQgKCBvMDBPMG8wMG8gKSA8PSBsZW4gKCBPbzAwbzAwME8gJiBzZXQgKCBpaWkgKSApIGFuZCBpbnQgKCBvMDBPMG8wMG8gKSA8IDExIDoKICAgbzAgPSAnTWF4aW1vIG51bWVybyBkZSBkZXNjYXJnYXMgc3VwZXJhZG8nCiAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIG8wICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9XQVJOSU5HICwgNTAwMCApCiAgIHJldHVybiBGYWxzZQogICBpZiA0NiAtIDQ2OiBvbzBvICogaWkxSTFpaTFJaUlpMSAuIG9vb09vTyAqIG9PTyAlIE9PTwogIE9PID0gc3VtICggb3MgLiBwYXRoIC4gZ2V0c2l6ZSAoICclcyVzJyAlICggaTFJSTExSUkxMUkgLCBmICkgKSBmb3IgZiBpbiBvcyAuIGxpc3RkaXIgKCBpMUlJMTFJSTExSSApIGlmIG9zIC4gcGF0aCAuIGlzZmlsZSAoICclcyVzJyAlICggaTFJSTExSUkxMUkgLCBmICkgKSBhbmQgb3MgLiBwYXRoIC4gc3BsaXRleHQgKCBmICkgWyAwIF0gaW4gT28wMG8wMDBPICkKICBpZiA1NyAtIDU3OiBpMWlJMSAtIElJSUkgLSBJSSAqIGlpSUlpMWkxSWlpICogSUlJSQogIGlmIDQ5IC0gNDk6IEkxSWlJMUlJSTExaSArIGlpSUlpMWkxSWlpCiAgaWYgaTEgIT0gJzYnIGFuZCBpMSAhPSAnSWxpbWl0YWRvJyBhbmQgaTEgIT0gJ1VubGltaXRlZCcgOgogICBpZiBpMSA9PSAnMCcgOgogICAgaTEgPSAxMDI0CiAgIGVsaWYgaTEgPT0gJzEnIDoKICAgIGkxID0gMTAyNCAqIDIKICAgZWxpZiBpMSA9PSAnMicgOgogICAgaTEgPSAxMDI0ICogMwogICBlbGlmIGkxID09ICczJyA6CiAgICBpMSA9IDEwMjQgKiA1CiAgIGVsaWYgaTEgPT0gJzQnIDoKICAgIGkxID0gMTAyNCAqIDEwCiAgIGVsaWYgaTEgPT0gJzUnIDoKICAgIGkxID0gMTAyNCAqIDIwCiAgIGVsc2UgOgogICAgaTEgPSBpMSAuIHJlcGxhY2UgKCAnR0InICwgJycgKQogICBpZiBpbnQgKCBPTyApIC8gMTA0ODU3NiA+IGludCAoIGkxICkgOgogICAgbzAgPSAnVGFtYcOxbyBtYXhpbW8gcGFyYSBkZXNjYXJnYXMgc3VwZXJhZG8nCiAgICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBvMCAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fV0FSTklORyAsIDUwMDAgKQogICAgT09PbzAwb29vME9vID0gRmFsc2UKICAgIGlmIDE5IC0gMTk6IG9vT29vTzBPT08gLiBPT29Pb08wbzBvME9PIC8gSWkgKyBJSUlJCiAgcmV0dXJuIE9PT28wMG9vbzBPbwogZWxzZSA6CiAgcmV0dXJuIEZhbHNlCiAgaWYgODcgLSA4NzogaWkxSTFpaTFJaUlpMQogIGlmIDY1IC0gNjU6IE9PTyAvIG9vIC8gb28gJSBpaUlJaTFpMUlpaQpkZWYgSWlJaUlJMUkxSWkgKCBvcHRpb25zICkgOgogT09PMDBvTzAwT29PMCA9IHsgfQogaWYgNDggLSA0ODogb29vT29PICogSUlvb29PMG9vTzBvbyAqIElpICsgSUlvb29PMG9vTzBvbwogaWYgb3MgLiBwYXRoIC4gZXhpc3RzICggaUlpaUlpMWkxaTFpMSApIDoKICBPT08wMG9PMDBPb08wID0ganNvbiAuIGxvYWRzICggb29vMCAoIGlJaWlJaTFpMWkxaTEgKSApCiBpZiBPT29PMG9vMG9vMDAgKCBPT08wMG9PMDBPb08wICkgOgogIE9vMG8wb08gPSBPb29vTzBPICggdW5pY29kZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggb3B0aW9ucyBbICdub21icmUnIF0gKSAuIGRlY29kZSAoICd1dGYtOCcgKSApICkKICBJMTEgPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIE9vMG8wb08gKQogIGlmIDc0IC0gNzQ6IElJSUkgKiBJaSAqIGlpSUlpMWkxSWlpIC0gSUlvb29PMG9vTzBvbwogIGkxaUlJSWlpaTEgLCBJaUlpSWkxaUkxID0gb3MgLiBwYXRoIC4gc3BsaXRleHQgKCBPbzBvMG9PICkKICBpZiA1MyAtIDUzOiBJaUlJMWkxSSAvIGlpMUkxaWkxSWlJaTEgLyBvMDBvTzBvbzBPME8wIC0gT09PICogb29Pb29PME9PTyArIG9vMG8KICBpZiBPbzBvMG9PIC4gZW5kc3dpdGggKCBJaUlpSWkxaUkxICkgOgogICBPbzBvMG9PID0gaTFpSUlJaWlpMQogICBpZiA5MCAtIDkwOiBJaUlJMWkxSSArIElJb29vTzBvb08wb28gLyBvb29Pb08gKyBPT08gKiBJaTFJICUgaWlJSWkxaTFJaWkKICBPT08wMG9PMDBPb08wIFsgT28wbzBvTyBdID0gKAogb3B0aW9ucyBbICdpZCcgXSAsIE9vMG8wb08gLCBvcHRpb25zIFsgJ2NhcmF0dWxhJyBdICwgb3B0aW9ucyBbICdwb3N0ZXInIF0gLCBvcHRpb25zIFsgJ3R5cGUnIF0gKQogIE9vT29PT28wT08wID0gb3BlbiAoIGlJaWlJaTFpMWkxaTEgLCAidyIgKQogIGlmIDk3IC0gOTc6IE9Pb09vTzBvMG8wT08gKiBJSSAuIEkxICsgSTFJaUkxSUlJMTFpCiAgT29Pb09PbzBPTzAgLiB3cml0ZSAoIGpzb24gLiBkdW1wcyAoIE9PTzAwb08wME9vTzAgKSApCiAgT29Pb09PbzBPTzAgLiBjbG9zZSAoICkKICByZXR1cm4gVHJ1ZQogZWxzZSA6CiAgcmV0dXJuIEZhbHNlCiB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiWEJNQy5Db250YWluZXIuUmVmcmVzaCIgKQogaWYgODIgLSA4MjogSUkgKyBpaTFJMWlpMUlpSWkxICUgaWlJSWkxaTFJaWkgLiBJSQogaWYgNTkgLSA1OTogb29vT29PICogSWlJSTFJaUkgLyBJaUlJMUlpSSArIElJICUgaWkxSTFpaTFJaUlpMSAlIElJSUkKZGVmIElpaTFvTzAwbzAwMDBPTzBPICggKSA6CiBpMUlpMTFpID0gWyBdCiBpMUlJMTFJSTExSSA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdEb3dubG9hZFBhdGgnICkgKQogaWYgb3MgLiBwYXRoIC4gZXhpc3RzICggaUlpaUlpMWkxaTFpMSApID09IEZhbHNlIDoKICBPb09vT09vME9PMCA9IG9wZW4gKCBpSWlpSWkxaTFpMWkxICwgInciICkKICBPb09vT09vME9PMCAuIHdyaXRlICgganNvbiAuIGR1bXBzICggeyB9ICkgKQogIGlmIDg2IC0gODY6IElpSUkxSWlJCiAgT29Pb09PbzBPTzAgLiBjbG9zZSAoICkKIGVsc2UgOgogIGlmIDggLSA4OiBvbzBvIC0gSUkgKyBvbzBvCiAgaXRlbXMgPSBqc29uIC4gbG9hZHMgKCBvb28wICggaUlpaUlpMWkxaTFpMSApICkKICBpZiAyNSAtIDI1OiBpaTFJMWlpMUlpSWkxICsgSTEgLyBvb29Pb08KICBmb3IgaUlpICwgSTFpSUkxSUkxaUlJIGluIGl0ZW1zIC4gY29weSAoICkgLiBpdGVyaXRlbXMgKCApIDoKICAgT29Pb09vbzAwMDBvID0gSTFpSUkxSUkxaUlJIFsgMCBdIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgIElJSWlpMUkxaWkgPSBJMWlJSTFJSTFpSUkgWyAxIF0gLiBlbmNvZGUgKCAndXRmLTgnICwgJ2lnbm9yZScgKQogICBpZiA0MiAtIDQyOiBvT08gLiBPT08gLyBJaUlJMUlpSSAlIElJb29vTzBvb08wb28KICAgaWYgNyAtIDc6IG9vIC8gSWkgLSBPT08KICAgaWYgMjUgLSAyNTogSUlvb29PMG9vTzBvbyAuIG9PTyAvIElpSUkxaTFJIC8gSUlJSQogICBpZiA5NSAtIDk1OiBvT08gLyBJSSAqIGlpMUkxaWkxSWlJaTEgLSBvbyArIElpSUkxSWlJCiAgIGkxaUkxb09vT28wTzAgPSBvcyAuIHBhdGggLiBzcGxpdGV4dCAoIGkxSUkxMUlJMTFJICkgWyAwIF0gKyByZSAuIHN1YiAoIHInKD88IVxbKVxdJyAsICdbXV0nICwgcmUgLiBzdWIgKCByJ1xbJyAsICdbW10nICwgSUlJaWkxSTFpaSApICkgKyAnLionCiAgIE8wT09PMG9vID0gZ2xvYiAuIGdsb2IgKCBpMWlJMW9Pb09vME8wICkKICAgaWYgOTIgLSA5Mjogb29Pb29PME9PTyAuIEkxCiAgIGlmIGxlbiAoIE8wT09PMG9vICkgPiAwIDoKICAgIE8wT09PMG9vID0gTzBPT08wb28gWyAwIF0KICAgIElJSWlpMUkxaWkgPSBJSUlpaTFJMWlpICsgKCBvcyAuIHBhdGggLiBzcGxpdGV4dCAoIE8wT09PMG9vICkgWyAxIF0gKSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApCiAgICBpZiA5OCAtIDk4OiBJaUlJMUlpSQogICBlbHNlIDoKICAgIE8wT09PMG9vID0gJycKICAgIGlmIDkyIC0gOTI6IG8wMG9PMG9vME8wTzAgLSBPT08gKiBJaQogICBpZiBub3Qgb3MgLiBwYXRoIC4gZXhpc3RzICggTzBPT08wb28gKSA6CiAgICBpZiA5NyAtIDk3OiBJSW9vb08wb29PMG9vICUgSUkgLSBvbyAvIGkxaUkxICogb09PICUgb28KICAgIGl0ZW1zIC4gcG9wICggSUlJaWkxSTFpaSAsIE5vbmUgKQogICBlbHNlIDoKICAgIEkxSWlJMTExMTExMSA9IEkxaUlJMUlJMWlJSSBbIDIgXSAuIGVuY29kZSAoICd1dGYtOCcgKQogICAgSWkxMUkxMUlpMTFJID0gSTFpSUkxSUkxaUlJIFsgMyBdIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgICBvb29PTzBPTzAgPSBJMWlJSTFJSTFpSUkgWyA0IF0gLiBlbmNvZGUgKCAndXRmLTgnICkKICAgIElJMUlJMUkxMSA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggSWkxMUkxMUlpMTFJICkKICAgIEkxSWlpaUlJSUlJMSA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggSTFJaUkxMTExMTExICkKICAgIGlmIDYgLSA2OiBvT08gJSBvb09vb08wT09PICogb28wbyAuIE9PTwogICAgbzBPT28wT29Pb09vID0gRmFsc2UKICAgIGlmIGxlbiAoIE9vT29Pb28wMDAwbyAuIHNwbGl0ICggJy0nICkgKSA9PSAzIDoKICAgICBvME9PbzBPb09vT28gPSBUcnVlCiAgICAgaWYgNzEgLSA3MTogb29vT29PICogSWkgLyBpaTFJMWlpMUlpSWkxIC0gb29Pb29PME9PTwogICAgIGlmIDcyIC0gNzI6IG9vMG8gLiBJaUlJMUlpSSAqIEkxSWlJMUlJSTExaSAqIG9vT29vTzBPT08gKyBJaSAlIElJSUkKICAgIE9vT08wT08wbzBPID0gTzAwMDAwME8wT29PbyAoIG5vbWJyZSA9IElJSWlpMUkxaWkgLCBjYXJhdHVsYSA9IEkxSWlpaUlJSUlJMSAsIHBvc3RlciA9IElJMUlJMUkxMSAsIGlzUGxheWFibGUgPSBvME9PbzBPb09vT28gKQogICAgT29PTzBPTzBvME8gLiBhZGRDb250ZXh0TWVudUl0ZW1zICggWyBJaUlJaUkgKCBpZCA9IHN0ciAoIEkxaUlJMUlJMWlJSSBbIDAgXSApICwgbm9tYnJlID0gSUlJaWkxSTFpaSAsIHVybCA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggJyVzJXMnICUgKCBpMUlJMTFJSTExSSAsIElJSWlpMUkxaWkgKSApICwKIGNhcmF0dWxhID0gSTFJaUkxMTExMTExICwgcG9zdGVyID0gSWkxMUkxMUlpMTFJICwgcmVtb3ZlID0gVHJ1ZSAsIHR5cGUgPSBvb29PTzBPTzAgKSBdICkKICAgIEkxSWlpaSA9ICd7MH0/ezF9PXBsYXlMb2NhbCZwYXRoPXsyfSZ0aXQ9ezN9JyAuIGZvcm1hdCAoIEkxaUkxMUkgLCBvT09PME8wICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBPME9PTzBvbyApICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBJSUlpaTFJMWlpICkgKQogICAgaTFJaTExaSAuIGFwcGVuZCAoICggSTFJaWlpICwgT29PTzBPTzBvME8gLCBub3QgbzBPT28wT29Pb09vICkgKQogICAgaWYgMjUgLSAyNTogbzAwb08wb28wTzBPMCAuIG9vCiAgT28wID0gb3BlbiAoIGlJaWlJaTFpMWkxaTEgLCAidyIgKQogIGlmIDI4IC0gMjg6IE9PTyAuIEkxSWlJMUlJSTExaSAvIGlpSUlpMWkxSWlpICsgSWkxSSAqIG9PTyArIG9vb09vTwogIE9vMCAuIHdyaXRlICgganNvbiAuIGR1bXBzICggaXRlbXMgKSApCiAgT28wIC4gY2xvc2UgKCApCiB0cnkgOgogIGlmIDQ3IC0gNDc6IG8wMG9PMG9vME8wTzAgKyBvbzBvIC0gSUlvb29PMG9vTzBvbyAuIGkxaUkxIC8gSWkxSQogIE9PbzAwME9vICggSTFJSSApCiBleGNlcHQgOgogIHBhc3MKIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUlpaUlJMSAsIGkxSWkxMWkgLCBsZW4gKCBpMUlpMTFpICkgKQogeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaWlJSWlpSUkxICkKIGlmIDk2IC0gOTY6IG9vT29vTzBPT08gLiBvMDBvTzBvbzBPME8wCiBpZiA3NyAtIDc3OiBpaUlJaTFpMUlpaSAqIG9vb09vTyAuIElJCmRlZiBPb08wb29PT08gKCBvcHRpb25zICkgOgogaWYgMjIgLSAyMjogbzAwb08wb28wTzBPMCAuIG9vT29vTzBPT08gLSBpaTFJMWlpMUlpSWkxICogb28KIGlmIElpSWlJSTFJMUlpICggb3B0aW9ucyApIDoKICBpdGhpbCAuIElpSWlJaTFpSTEgKCBvcHRpb25zIFsgJ3VybCcgXSAsIG9wdGlvbnMgWyAnbm9tYnJlJyBdICwgaTExaSAsIG9wdGlvbnMgWyAnaWQnIF0gLCBvcHRpb25zIFsgJ3R5cGUnIF0gLCAnZG93bmxvYWQnICwgb3B0aW9ucyApCiAgaWYgNjUgLSA2NTogaWlJSWkxaTFJaWkKZGVmIG9PMG9PICggKSA6CiBpZiA0NSAtIDQ1OiBJaSAtIGlpSUlpMWkxSWlpIC4gb09PIC4gSWlJSTFJaUkgLyBvb29Pb08gKiBpaUlJaTFpMUlpaQogaWlpMUlpSTExMTEgPSB4Ym1jYWRkb24gLiBBZGRvbiAoIGlkID0gInNjcmlwdC5tb2R1bGUuc2ltcGxlLmRvd25sb2FkZXIiICkKIE8wTzBPME8wTyA9IGlpaTFJaUkxMTExIC4gZ2V0QWRkb25JbmZvICggJ3Byb2ZpbGUnICkKIGZvciBJMTExMTFJaWlJSUkxIGluIG9zIC4gbGlzdGRpciAoIHhibWMgLiB0cmFuc2xhdGVQYXRoICggTzBPME8wTzBPICkgKSA6CiAgdHJ5IDoKICAgaWYgMzggLSAzODogSWkgKyBpaTFJMWlpMUlpSWkxICsgSWkxSSAqIEkxSWlJMUlJSTExaSAuIElJICsgSUkKICAgb3MgLiByZW1vdmUgKCAnJXMlcycgJSAoIHhibWMgLiB0cmFuc2xhdGVQYXRoICggTzBPME8wTzBPICkgLCBJMTExMTFJaWlJSUkxICkgKQogIGV4Y2VwdCA6CiAgIGlmIDU3IC0gNTc6IG9vMG8gKyBPT29Pb08wbzBvME9PIC0gb28wbyAuIElpIC0gSUlJSQogICBvMCA9ICdObyBzZSBwdWVkZSBib3JyYXIgZWwgZmljaGVybyAlcyAnICUgSTExMTExSWlpSUlJMQogICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBvMCAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fV0FSTklORyAsIDUwMDAgKQogICBpZiA1IC0gNTogSUlJSSArIGlpMUkxaWkxSWlJaTEgKyBJaUlJMWkxSQogICBpZiAxMSAtIDExOiBPT29Pb08wbzBvME9PICsgb29vT29PIC0gb29Pb29PME9PTyAvIElJSUkgLiBvb09vb08wT09PCiAgIGlmIDk2IC0gOTY6IGlpSUlpMWkxSWlpIC4gb29Pb29PME9PTyAlIElpMUkgLiBpaUlJaTFpMUlpaQogICBpZiAxIC0gMTogSUlvb29PMG9vTzBvbyAlIE9Pb09vTzBvMG8wT08gJSBvb29Pb08gLiBvT08KIGlJMTExaSA9ICclcyVzJyAlICggeGJtYyAuIHRyYW5zbGF0ZVBhdGggKCAnc3BlY2lhbDovL3RlbXAnICkgLCAnY29tbW9uY2FjaGUuZGInICkKIHRyeSA6CiAgb09vTzBPMDAwMDAgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlJMTExaSApCiAgSUlpSWlpMUlpSTFpID0gb09vTzBPMDAwMDAgLiBjdXJzb3IgKCApCiAgSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoICJkZWxldGUgZnJvbSBEb3dubG9hZGVyIiApCiAgb09vTzBPMDAwMDAgLiBjb21taXQgKCApCiAgb09vTzBPMDAwMDAgLiBjbG9zZSAoICkKICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCAnTGltcGllemEgcmVhbGl6YWRhIGNvcnJlY3RhbWVudGUnICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiBleGNlcHQgOgogIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogIG8wID0gJ05vIHNlIHB1ZWRlIGJvcnJhciBiZCBjb21tb25jYWNoZScKICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBvMCAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fV0FSTklORyAsIDUwMDAgKQogIGlmIDU0IC0gNTQ6IElJSUkgLiBvb09vb08wT09PICogT09PIC0gSWlJSTFJaUkKZGVmIG9PbyAoIGNvbmZpcm1hdGlvbk1lc3NhZ2UgPSBUcnVlICkgOgogbzAwTzBvMDBvID0gX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdNYXhOdW1Eb3dubG9hZHMnICkKIGkxID0gX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdNYXhTaXplRG93bmxvYWRzJyApCiBpSUkxaUlJaUlpMTFJID0gX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdEb3dubG9hZFBhdGgnICkKIGlmIDc3IC0gNzc6IElJICogSWlJSTFpMUkgJSBJMSArIEkxIC8gb09PCiBpZiBub3QgaUlJMWlJSWlJaTExSSA6CiAgaUlJMWlJSWlJaTExSSA9ICdkb3dubG9hZHMnCiBpMUlJMTFJSTExSSA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggaUlJMWlJSWlJaTExSSApCiBpZiAyMSAtIDIxOiBJMSAuIG9vMG8gLyBJSUlJICUgSUkgLSBJMQogaWYgaTFJSTExSUkxMUkgLiBsb3dlciAoICkgLiBzdGFydHN3aXRoICggInNtYjovLyIgKSA6CiAgbzAgPSAnTGEgcnV0YSBTYW1iYSBubyBlc3TDoSBzb3BvcnRhZGEsIHNlbGVjY2lvbmUgb3RyYSBydXRhIHBhcmEgbGFzIGRlc2NhcmdhcycKICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBvMCAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fV0FSTklORyAsIDUwMDAgKQogaWYgbm90IG9zIC4gcGF0aCAuIGV4aXN0cyAoIGkxSUkxMUlJMTFJICkgOgogIHRyeSA6CiAgIG9zIC4gbWtkaXIgKCBpMUlJMTFJSTExSSApCiAgZXhjZXB0IDoKICAgbzAgPSAnTm8gZXhpc3RlIGxhIHJ1dGEgJXMgeSBubyBzZSBwdWVkZSBjcmVhci5cblJldmlzYSBsYSBjb25maWd1cmFjaW9uIHkgc2VsZWNjaW9uYSB1bmEgcnV0YSBjb24gcGVybWlzb3MgZGUgZXNjcml0dXJhJyAlIGlJSTFpSUlpSWkxMUkKICAgeGJtY2d1aSAuIERpYWxvZyAoICkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgbzAgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX1dBUk5JTkcgLCA1MDAwICkKICAgaWYgNzggLSA3ODogb09PCiB0cnkgOgogIE9vT29PT28wT08wID0gb3BlbiAoICclcy9ib2xzb24udGVzdCcgJSBpMUlJMTFJSTExSSAsICJ3IiApCiAgT29Pb09PbzBPTzAgLiB3cml0ZSAoICdUZXN0JyApCiAgT29Pb09PbzBPTzAgLiBjbG9zZSAoICkKICB0cnkgOgogICBvcyAuIHJlbW92ZSAoICclcy9ib2xzb24udGVzdCcgJSBpMUlJMTFJSTExSSApCiAgIGlmIGNvbmZpcm1hdGlvbk1lc3NhZ2UgOgogICAgbzAgPSAnUnV0YSBkZSBkZXNjYXJnYXMgY29ycmVjdGEnCiAgICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBvMCAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICByZXR1cm4gVHJ1ZQogIGV4Y2VwdCA6CiAgIG8wID0gJ05vIHNlIHB1ZWRlIGJvcnJhciBlbiBsYSBjYXJwZXRhIHNlbGVjY2lvbmFkYScKICAgeGJtY2d1aSAuIERpYWxvZyAoICkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgbzAgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX1dBUk5JTkcgLCA1MDAwICkKIGV4Y2VwdCA6CiAgbzAgPSAnTm8gc2UgcHVlZGUgZ3VhcmRhciBlbiBsYSBjYXJwZXRhIHNlbGVjY2lvbmFkYScKICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBvMCAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fV0FSTklORyAsIDUwMDAgKQogcmV0dXJuIEZhbHNlCiBpZiA4NyAtIDg3OiBpaUlJaTFpMUlpaSAqIGlpMUkxaWkxSWlJaTEgLyBvT08gJSBPT08gLyBPT29Pb08wbzBvME9PCiBpZiAzOCAtIDM4OiBPT29Pb08wbzBvME9PICogSTEgLyBJaTFJCiBpZiA3MCAtIDcwOiBvb29Pb08gKiBJaUlJMUlpSSAuIElJIC4gSWkxSSAqIEkxICsgb29vT29PCiBpZiA3NyAtIDc3OiBvMDBvTzBvbzBPME8wICUgSTEKZGVmIE9PMG8wTzAgKCBpZCAsIHR5cGUgLCBub21icmUgLCB1cmwgLCBjYXJhdHVsYSAsIHBvc3RlciAsIGZhdiA9IGkxMWlpaSAsIHRleHQgPSAnJyAsIGZhdkxpdGVyYWwgPSAnJyAsIHJlZnJlc2ggPSBOb25lICkgOgogaWYgOTkgLSA5OTogb29Pb29PME9PTyAlIG9PTwogdHJ5IDoKICBub21icmUgPSBub21icmUgLiBlbmNvZGUgKCAndXRmLTgnICwgJ2lnbm9yZScgKQogZXhjZXB0ICggVW5pY29kZUVuY29kZUVycm9yICwgVW5pY29kZURlY29kZUVycm9yICkgOgogIHBhc3MKIGlmIG5vdCBjYXJhdHVsYSA6CiAgY2FyYXR1bGEgPSAnTm9uZScKIGlmIG5vdCBwb3N0ZXIgOgogIHBvc3RlciA9ICdOb25lJwogaWYgaWQgbm90IGluIGZhdiA6CiAgaWYgODkgLSA4OTogT09PCiAgT28wMG8wTzBvT28wID0gKCAnQcOxYWRpciBhIGZhdm9yaXRvcyAlcyBQYWxhbnRpcicgJSB0ZXh0ICwKICdYQk1DLlJ1blBsdWdpbiglcz9hY3Rpb249YWRkZmF2JXMmaWQ9JXMmbm9tYnJlPSVzJnVybD0lcyZjYXJhdHVsYT0lcyZwb3N0ZXI9JXMmdHlwZT0lcyZ0ZXh0PSVzKScgJSAoCiBJMWlJMTFJICwgZmF2TGl0ZXJhbCAsIGlkICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBub21icmUgKSAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggdXJsICkgLAogYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBjYXJhdHVsYSApICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBwb3N0ZXIgKSAsIHR5cGUgLCB0ZXh0ICkgKQogZWxzZSA6CiAgT28wMG8wTzBvT28wID0gKCAnRWxpbWluYXIgZGUgZmF2b3JpdG9zICVzIFBhbGFudGlyJyAlIHRleHQgLAogJ1hCTUMuUnVuUGx1Z2luKCVzP2FjdGlvbj1ybWZhdiVzJmlkPSVzJm5vbWJyZT0lcyZ1cmw9JXMmY2FyYXR1bGE9JXMmcG9zdGVyPSVzJnJlZnJlc2g9JXMmdHlwZT0lcyZ0ZXh0PSVzKScgJSAoCiBJMWlJMTFJICwgZmF2TGl0ZXJhbCAsIGlkICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBub21icmUgKSAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggdXJsICkgLAogYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBjYXJhdHVsYSApICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBwb3N0ZXIgKSAsIHJlZnJlc2ggLCB0eXBlICwgdGV4dCApICkKIHJldHVybiBPbzAwbzBPMG9PbzAKIGlmIDEgLSAxOiBvbwogaWYgMzAgLSAzMDogb29Pb29PME9PTyAvIElpSUkxaTFJCmRlZiBPb09Pb09PMCAoIG9wdGlvbnMgLCBmYXZvcml0b3MgPSBpSWlJaWlpSWkxSTFJICkgOgogT09PMDBvTzAwT29PMCA9IGpzb24gLiBsb2FkcyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggb29vMCAoIGZhdm9yaXRvcyApICkgKQogT09PMDBvTzAwT29PMCAuIHBvcCAoIG9wdGlvbnMgWyAnaWQnIF0gLCBOb25lICkKIE9vMCA9IG9wZW4gKCBmYXZvcml0b3MgLCAidyIgKQogT28wIC4gd3JpdGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIGpzb24gLiBkdW1wcyAoIE9PTzAwb08wME9vTzAgKSApICkKIE9vMCAuIGNsb3NlICggKQogaWYgJ3JlZnJlc2gnIGluIG9wdGlvbnMgYW5kIG9wdGlvbnMgWyAncmVmcmVzaCcgXSA6CiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIlhCTUMuQ29udGFpbmVyLlJlZnJlc2giICkKICBpZiAzNSAtIDM1OiBvbzBvICUgaTFpSTEgLyBJaUlJMWkxSQogIGlmIDEzIC0gMTM6IElpSUkxaTFJCmRlZiBPMDAwMDAgKCBmYXZvcml0b3MgLCBmYXYgLCBmYXZMaXRlcmFsICwgdGV4dCApIDoKIGkxSWkxMWkgPSBbIF0KIGlmIG9zIC4gcGF0aCAuIGV4aXN0cyAoIGZhdm9yaXRvcyApID09IEZhbHNlIDoKICBPb09vT09vME9PMCA9IG9wZW4gKCBmYXZvcml0b3MgLCAidyIgKQogIE9vT29PT28wT08wIC4gd3JpdGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIGpzb24gLiBkdW1wcyAoIHsgfSApICkgKQogIE9vT29PT28wT08wIC4gY2xvc2UgKCApCiBlbHNlIDoKICBpdGVtcyA9IGpzb24gLiBsb2FkcyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggb29vMCAoIGZhdm9yaXRvcyApICkgKQogIGZvciBpSWkgaW4gc29ydGVkICggaXRlbXMgLiBpdGVtcyAoICkgLCBrZXkgPSBsYW1iZGEgaWlpMUlpSSA6IGlpaTFJaUkgWyAxIF0gWyAxIF0gKSA6CiAgIEkxaUlJMUlJMWlJSSA9IGlJaSBbIDEgXQogICBPb09vT29vMDAwMG8gPSBJMWlJSTFJSTFpSUkgWyAwIF0gLiBlbmNvZGUgKCAndXRmLTgnICkKICAgSUlJaWkxSTFpaSA9IEkxaUlJMUlJMWlJSSBbIDEgXSAuIGVuY29kZSAoICd1dGYtOCcgKQogICB0cnkgOgogICAgaWYgNjYgLSA2Njogb09PICogb09PIC0gaWkxSTFpaTFJaUlpMSArIElpIC0gb09PCiAgICBJSUlpaTFJMWlpID0gSTFpSUkxSUkxaUlJIFsgMSBdIC4gZW5jb2RlICggJ3V0Zi04JyAsICdpZ25vcmUnICkKICAgZXhjZXB0IDoKICAgIHBhc3MKICAgSTFJaWlpID0gSTFpSUkxSUkxaUlJIFsgMiBdIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgIEkxSWlJMTExMTExMSA9IEkxaUlJMUlJMWlJSSBbIDMgXSAuIGVuY29kZSAoICd1dGYtOCcgKQogICBJaTExSTExSWkxMUkgPSBJMWlJSTFJSTFpSUkgWyA0IF0gLiBlbmNvZGUgKCAndXRmLTgnICkKICAgb29vT08wT08wID0gSTFpSUkxSUkxaUlJIFsgNSBdIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgIElJMUlJMUkxMSA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggSWkxMUkxMUlpMTFJICkKICAgSTFJaWlpSUlJSUkxID0gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJMUlpSTExMTExMTEgKQogICBJSUlpaTFJMWlpID0gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJSUlpaTFJMWlpICkKICAgbzBPT28wT29Pb09vID0gRmFsc2UKICAgaWYgbGVuICggT29Pb09vbzAwMDBvIC4gc3BsaXQgKCAnLScgKSApID09IDMgYW5kIG5vdCAnZ3JvdXBJZCcgaW4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJMUlpaWkgKSA6CiAgICBvME9PbzBPb09vT28gPSBUcnVlCiAgIE9vT08wT08wbzBPID0gTzAwMDAwME8wT29PbyAoIG5vbWJyZSA9IElJSWlpMUkxaWkgLCBjYXJhdHVsYSA9IEkxSWlpaUlJSUlJMSAsIHBvc3RlciA9IElJMUlJMUkxMSAsIGlzUGxheWFibGUgPSBvME9PbzBPb09vT28gKQogICBPb09PME9PMG8wTyAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBbIE9PMG8wTzAgKCBpZCA9IHN0ciAoIEkxaUlJMUlJMWlJSSBbIDAgXSApICwgbm9tYnJlID0gSUlJaWkxSTFpaSAsIHVybCA9IEkxSWlpaSAsCiBjYXJhdHVsYSA9IEkxSWlJMTExMTExMSAsIHBvc3RlciA9IElpMTFJMTFJaTExSSAsIHJlZnJlc2ggPSBUcnVlICwgdHlwZSA9IG9vb09PME9PMCAsIGZhdiA9IGZhdiAsIHRleHQgPSB0ZXh0ICwgZmF2TGl0ZXJhbCA9IGZhdkxpdGVyYWwgKSBdICkKICAgaTFJaTExaSAuIGFwcGVuZCAoICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJMUlpaWkgKSAsIE9vT08wT08wbzBPICwgbm90IG8wT09vME9vT29PbyApICkKIHRyeSA6CiAgaWYgNDQgLSA0NDogSUkgKyBpaTFJMWlpMUlpSWkxCiAgT09vMDAwT28gKCBJMWlJMWlpaUlpSTEgKQogZXhjZXB0IDoKICBwYXNzCiB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJaWlJSTEgLCBpMUlpMTFpICwgbGVuICggaTFJaTExaSApICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUlpaUlJMSApCiBpZiAzNSAtIDM1OiBvbzBvICsgSUlJSSAlIG9vMG8gJSBJSSAvIE9PTyAlIElJCiBpZiA4NCAtIDg0OiBvT08KZGVmIGlpb08wb28wME8wTyAoIG9wdGlvbnMgLCBmYXZvcml0b3MgPSBpSWlJaWlpSWkxSTFJICkgOgogaWlJSWlJSUlpID0geyB9CiBpZiBvcyAuIHBhdGggLiBleGlzdHMgKCBmYXZvcml0b3MgKSA9PSBGYWxzZSA6CiAgaWYgODkgLSA4OTogaWlJSWkxaTFJaWkgKiBJSSAuIG9vMG8gLyBJSQogIGlpSUlpSUlJaSBbIG9wdGlvbnMgWyAnaWQnIF0gXSA9ICgKIG9wdGlvbnMgWyAnaWQnIF0gLCBvcHRpb25zIFsgJ25vbWJyZScgXSAsIG9wdGlvbnMgWyAndXJsJyBdICwgb3B0aW9ucyBbICdjYXJhdHVsYScgXSAsIG9wdGlvbnMgWyAncG9zdGVyJyBdICwgb3B0aW9ucyBbICd0eXBlJyBdICkKICBPb09vT09vME9PMCA9IG9wZW4gKCBmYXZvcml0b3MgLCAidyIgKQogIE9vT29PT28wT08wIC4gd3JpdGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIGpzb24gLiBkdW1wcyAoIGlpSUlpSUlJaSApICkgKQogIE9vT29PT28wT08wIC4gY2xvc2UgKCApCiBlbHNlIDoKICBPT08wMG9PMDBPb08wID0ganNvbiAuIGxvYWRzICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBvb28wICggZmF2b3JpdG9zICkgKSApCiAgT09PMDBvTzAwT29PMCBbIG9wdGlvbnMgWyAnaWQnIF0gXSA9ICggb3B0aW9ucyBbICdpZCcgXSAsIG9wdGlvbnMgWyAnbm9tYnJlJyBdICwgb3B0aW9ucyBbICd1cmwnIF0gLCBvcHRpb25zIFsgJ2NhcmF0dWxhJyBdICwgb3B0aW9ucyBbICdwb3N0ZXInIF0gLCBvcHRpb25zIFsgJ3R5cGUnIF0gKQogIE9vMCA9IG9wZW4gKCBmYXZvcml0b3MgLCAidyIgKQogIE9vMCAuIHdyaXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBqc29uIC4gZHVtcHMgKCBPT08wMG9PMDBPb08wICkgKSApCiAgT28wIC4gY2xvc2UgKCApCiBpZiAndGV4dCcgaW4gb3B0aW9ucyA6CiAgbzBPbyA9IG9wdGlvbnMgWyAndGV4dCcgXQogZWxzZSA6CiAgbzBPbyA9ICcnCiB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiWEJNQy5Db250YWluZXIuUmVmcmVzaCIgKQogaWlpSWlpMUlpSUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogaWlpSWlpMUlpSUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwKICdGYXZvcml0byBhw7FhZGlkbyBhIFtDT0xPUiBnb2xkXSVzWy9DT0xPUl0gUGFsYW50aXInICUgKCBvME9vICkgLAogeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgMzAwMCApCiBpZiA4MyAtIDgzOiBPT08KZGVmIElJaWlJSTExMWkgKCBjYXJhdHVsYSAsIHBvc3RlciApIDoKIGlmIGNhcmF0dWxhID09IE5vbmUgOgogIGNhcmF0dWxhID0gJycKIGlmIHBvc3RlciA9PSBOb25lIDoKICBwb3N0ZXIgPSAnJwogcmV0dXJuIHsgJ2ljb24nIDogY2FyYXR1bGEgLCAnZmFuYXJ0JyA6IHBvc3RlciAsICd0aHVtYicgOiBjYXJhdHVsYSB9CiBpZiA0OSAtIDQ5OiBvT08gKyBpaUlJaTFpMUlpaSAqIG9vT29vTzBPT08gKyBPT29Pb08wbzBvME9PCiBpZiA4OCAtIDg4OiBvbzBvIC0gSUkgKyBJaUlJMUlpSSAuIElpMUkgJSBJaTFJIC8gaTFpSTEKIGlmIDg4IC0gODg6IE9PTyAvIGlpSUlpMWkxSWlpICogSUkKZGVmIE9PTzBvT08wTzBvTzAgKCBkaW1lbnNpb24gKSA6CiBpZiBkaW1lbnNpb24gOgogIElJaWlJID0gZGltZW5zaW9uIC4gc3BsaXQgKCAieCIgKQogIGlmIGxlbiAoIElJaWlJICkgPT0gMiA6CiAgIGlpMTFpMUkxMWkgPSBpbnQgKCBJSWlpSSBbIDAgXSApCiAgIGlJMUlpSTFJSWlJaSA9IGludCAoIElJaWlJIFsgMSBdICkKICAgaWYgaWkxMWkxSTExaSA9PSAwIG9yIGlJMUlpSTFJSWlJaSA9PSAwIDoKICAgIHJldHVybiAiIgogICBlbGlmIGlpMTFpMUkxMWkgPD0gNzIwIGFuZCBpSTFJaUkxSUlpSWkgPD0gNDgwIDoKICAgIHJldHVybiAiW0NPTE9SIG9sZGxhY2VdKFNEKVsvQ09MT1JdIgogICBlbGlmIGlpMTFpMUkxMWkgPD0gNzY4IGFuZCBpSTFJaUkxSUlpSWkgPD0gNTc2IDoKICAgIHJldHVybiAiW0NPTE9SIG1vY2Nhc2luXShIRClbL0NPTE9SXSIKICAgZWxpZiBpaTExaTFJMTFpIDw9IDk2MCBhbmQgaUkxSWlJMUlJaUlpIDw9IDU0NCA6CiAgICByZXR1cm4gIltDT0xPUiBwZWFjaHB1ZmZdKEhEKVsvQ09MT1JdIgogICBlbGlmIGlpMTFpMUkxMWkgPD0gMTI4MCBhbmQgaUkxSWlJMUlJaUlpIDw9IDcyMCA6CiAgICByZXR1cm4gIltDT0xPUiBzYW5keWJyb3duXSg3MjApWy9DT0xPUl0iCiAgIGVsc2UgOgogICAgcmV0dXJuICJbQ09MT1IgY2hvY29sYXRlXSgxMDgwKVsvQ09MT1JdIgogIGVsc2UgOgogICByZXR1cm4gIiIKIHJldHVybiAiIgogaWYgMTkgLSAxOTogb28wbyAvIG9vb09vTyAlIG8wMG9PMG9vME8wTzAgJSBPT29Pb08wbzBvME9PIC8gSUlJSQogaWYgMTUgLSAxNTogSWkxSSAuIGkxaUkxICsgSWkgLiBPT29Pb08wbzBvME9PICogSUlJSSAuIElJb29vTzBvb08wb28KZGVmIGkxSSAoIHVybCApIDoKIGlmIDM3IC0gMzc6IG9vMG8KIE9PME8wT09PID0gaXRoaWwgLiBpSUkxaUlJaUlpMTFJICggaTExaSAsIHVybCApCiBJMUlJaTEgPSBpdGhpbCAuIG9vMG8wMG9vTyAoIGkxMWkgLCB1cmwgKQogaWYgSTFJSWkxIDoKICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCAnVXN1YXJpbyBlbiAlcyAoJXMpIHZhbGlkYWRvJyAlICggdXJsICwgT08wTzBPT08gWyAwIF0gLiBlbmNvZGUgKCAndXRmLTgnICkgKSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogZWxzZSA6CiAgeGJtY2d1aSAuIERpYWxvZyAoICkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgJ1VzdWFyaW8gZW4gJXMgKCVzKSB5IGNvbnRyYXNlw7FhIG5vIHbDoWxpZGFzJyAlICggdXJsICwgT08wTzBPT08gWyAwIF0gLiBlbmNvZGUgKCAndXRmLTgnICkgKSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fV0FSTklORyAsIDUwMDAgKQogIGlmIDc0IC0gNzQ6IElJSUkgLSBJaTFJIC8gSUkKICBpZiA3IC0gNzogT09PCiAgaWYgMzggLSAzODogb29vT29PIC8gSTEgKiBJSW9vb08wb29PMG9vCmRlZiBPb09PMDBvbyAoIHNlcmllX3Npbm9wICwgc2VyaWVfY2FyYXR1bGEgLCBzZXJpZV9wb3N0ZXIgLCB0ZW1wX3Npbm9wICwgdGVtcF9jYXJhdHVsYSAsIHRlbXBfcG9zdGVyICkgOgogT09PMDBvTzAwT29PMCA9IFsgXQogaWYgdGVtcF9zaW5vcCA9PSBOb25lIDoKICBPT08wMG9PMDBPb08wIC4gYXBwZW5kICggc2VyaWVfc2lub3AgKQogZWxzZSA6CiAgT09PMDBvTzAwT29PMCAuIGFwcGVuZCAoIHRlbXBfc2lub3AgKQogaWYgdGVtcF9jYXJhdHVsYSA9PSBOb25lIDoKICBPT08wMG9PMDBPb08wIC4gYXBwZW5kICggc2VyaWVfY2FyYXR1bGEgKQogZWxzZSA6CiAgT09PMDBvTzAwT29PMCAuIGFwcGVuZCAoIHRlbXBfY2FyYXR1bGEgKQogaWYgdGVtcF9wb3N0ZXIgPT0gTm9uZSA6CiAgT09PMDBvTzAwT29PMCAuIGFwcGVuZCAoIHNlcmllX3Bvc3RlciApCiBlbHNlIDoKICBPT08wMG9PMDBPb08wIC4gYXBwZW5kICggdGVtcF9wb3N0ZXIgKQogcmV0dXJuIE9PTzAwb08wME9vTzAKIGlmIDMzIC0gMzM6IG9vMG8gKiBvbyAvIGlpSUlpMWkxSWlpIC8gT09PICogaWlJSWkxaTFJaWkKIGlmIDMgLSAzOiBvMDBvTzBvbzBPME8wICogT09vT29PMG8wbzBPTwogaWYgNSAtIDU6IElpSUkxSWlJICUgT09vT29PMG8wbzBPTwpkZWYgT29vMDBvMG9vMG8gKCBvcGVyYXRvciAsIHZhbHVlICwgcGFyYW1zICkgOgogb09vTzBPMDAwMDAgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGkxMWkgKQogSUlpSWlpMUlpSTFpID0gb09vTzBPMDAwMDAgLiBjdXJzb3IgKCApCiBvbzAgPSAxCiBpZiAncGFnZScgaW4gcGFyYW1zIGFuZCAnY19wYWdlJyBpbiBwYXJhbXMgYW5kICdhbGZhJyBpbiBwYXJhbXMgOgogIG9vMCA9IGludCAoIHBhcmFtcyBbICdjX3BhZ2UnIF0gKQogIGlmIDIyIC0gMjI6IG9vb09vTyAqIG9vMG8gKiBJMSAuIEkxSWlJMUlJSTExaSArIElpSUkxSWlJCiAgaWYgNSAtIDU6IE9PTyAlIElpSUkxSWlJCiAgaWYgODMgLSA4MzogSWlJSTFpMUkKICBpZiA3NSAtIDc1OiBJSW9vb08wb29PMG9vIC4gSUlvb29PMG9vTzBvbyArIE9PTyAvIElpIC0gb29Pb29PME9PTwogIElJaUlpaTFJaUkxaSAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICgKIElJaTExSWkxICkgKyBJSUlpMTEgKyAiIGZyb20gc2VyaWVzIHdoZXJlIGxvd2VyKGNhdGVnb3J5KSAiICsgb3BlcmF0b3IgKyAiID8gQU5EIGFsZmEgPj0nIiArIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICgKIHBhcmFtcyBbICdhbGZhJyBdICkgKyAiJyBBTkQgYWN0aXZlID4gMCBBTkQgIiArIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICgKIHBhcmFtcyBbICdwYWdlJyBdICkgKyAiIG9yZGVyIGJ5IGFsZmEgYXNjLCBub21icmUgYXNjIExJTUlUICIgKyBzdHIgKCBvb28wb29Pb08wT28gKSAsICggdmFsdWUgLCApICkKIGVsc2UgOgogIHBhcmFtcyBbICdjX3BhZ2UnIF0gPSAxCiAgSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoICJTZWxlY3QgIiArICIsIiAuIGpvaW4gKAogSUlpMTFJaTEgKSArIElJSWkxMSArICIgZnJvbSBzZXJpZXMgd2hlcmUgYWN0aXZlID4gMCBhbmQgbG93ZXIoY2F0ZWdvcnkpICIgKyBvcGVyYXRvciArICIgPyBvcmRlciBieSBhbGZhIGFzYywgbm9tYnJlIGFzYyBMSU1JVCAiICsgc3RyICgKIG9vbzBvb09vTzBPbyApICwgKCB2YWx1ZSAsICkgKQogSWkxMTFJID0gSUlpSWlpMUlpSTFpIC4gZmV0Y2hhbGwgKCApCiBvT29PME8wMDAwMCAuIGNsb3NlICggKQogaWYgNjMgLSA2MzogSUlJSSAtIGkxaUkxICogSTEgJSBJSSAtIG9vCiBwYXJhbXMgWyAnYWN0aW9uUGFyYW1zJyBdID0gJ2FsZmE9JyArIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggSWkxMTFJIFsgMCBdIFsgbGVuICggSUlpMTFJaTEgKSBdICkKIHBhcmFtcyBbICdjX3BhZ2UnIF0gPSBvbzAKIEkxSWlJaUkgKCBJaTExMUkgLCBGYWxzZSAsIFRydWUgLCBGYWxzZSAsIHBhcmFtcyApCiBpZiA2NiAtIDY2OiBJMSAuIG9PTyArIG9vb09vTyAqIGlpMUkxaWkxSWlJaTEgLiBPT08KIGlmIDU0IC0gNTQ6IElpSUkxaTFJICsgT09vT29PMG8wbzBPTyArIG9vT29vTzBPT08KZGVmIGlJMUlpaUlJMWlJICggZmllbGRzICwgdGFibGUgLCBjYXRlZ29yeUNvbmRpdGlvbiApIDoKIG9Pb08wTzAwMDAwID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpMTFpICkKIElJaUlpaTFJaUkxaSA9IG9Pb08wTzAwMDAwIC4gY3Vyc29yICggKQogSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoICJTZWxlY3QgIiArICIsIiAuIGpvaW4gKCBmaWVsZHMgKSArICIgZnJvbSAiICsgdGFibGUgKyAiIHdoZXJlIGFjdGl2ZSA+IDAgJXMgb3JkZXIgYnkgdXBkYXRlZCBkZXNjIGxpbWl0ICVzIiAlICggY2F0ZWdvcnlDb25kaXRpb24gLCBzdHIgKCBvb28wb29Pb08wT28gKSApICkKIElpMTExSSA9IElJaUlpaTFJaUkxaSAuIGZldGNoYWxsICggKQogb09vTzBPMDAwMDAgLiBjbG9zZSAoICkKIEkxSWlJaUkgKCBJaTExMUkgLCBUcnVlICwgVHJ1ZSAsIFRydWUgKQogaWYgNTYgLSA1NjogSTEgKiBpaTFJMWlpMUlpSWkxCiBpZiAyNSAtIDI1OiBJSW9vb08wb29PMG9vIC8gaTFpSTEgLyBJaSAuIElJSUkKZGVmIGkxMWlJSWkgKCBvcmRlciApIDoKIG9Pb08wTzAwMDAwID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpMTFpICkKIElJaUlpaTFJaUkxaSA9IG9Pb08wTzAwMDAwIC4gY3Vyc29yICggKQogSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoICJTZWxlY3QgIiArICIsIiAuIGpvaW4gKCBJSWkxMUlpMSApICsgIiBmcm9tIHNlcmllcyB3aGVyZSBhY3RpdmUgPiAwIG9yZGVyIGJ5ICIgKyBvcmRlciArICIgZGVzYywgbm9tYnJlIGFzYyBsaW1pdCAiICsgc3RyICggb29vMG9vT29PME9vICkgKQogSWkxMTFJID0gSUlpSWlpMUlpSTFpIC4gZmV0Y2hhbGwgKCApCiBvT29PME8wMDAwMCAuIGNsb3NlICggKQogSTFJaUlpSSAoIElpMTExSSAsIFRydWUgLCBUcnVlICwgRmFsc2UgKQogaWYgNDggLSA0ODogb29vT29PIC0gb28gLyBvMDBvTzBvbzBPME8wICUgSWkxSSAlIElpCmRlZiBPb29Pb09vb28gKCBvcmRlciAsIHBhcmFtcyApIDoKIGlmIDQ2IC0gNDY6IG9vb09vTyAqIE9PTyAvIElpSUkxaTFJIC4gSTFJaUkxSUlJMTFpIC0gSWkxSSAvIE9PTwogaWYgNDYgLSA0Njogb28wbyAlIG9vIC8gaTFpSTEKIGlmIDUyIC0gNTI6IG9vb09vTyAlIE9Pb09vTzBvMG8wT08gLSBpaUlJaTFpMUlpaSAtIG8wMG9PMG9vME8wTzAKIGlmIDUxIC0gNTE6IG9PTwogaWYgNzcgLSA3Nzogb29vT29PIC0gT09PIC0gSTEgKiBJMQogaWYgMTEgLSAxMTogSWkxSSAqIG9vIC8gT09vT29PMG8wbzBPTyAvIGlpSUlpMWkxSWlpCiBJaTExMUkgPSBPMDAwbzAwMG8wT28gKCAicGVsaXMiICwKIFsgInBlbGlfaWQiICwgImF1ZGlvIiAsICInJyIgLCAidGFncyIgLCAiJyciICwgIicnIiAsICJsaW5rIiAsICIncXVhbGl0eSciICwgIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwKICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsICJzdHJmdGltZSgnJVktJW0tJWQnLHVwZGF0ZWQpLCBwdW50b3MsIGNhdGVnb3J5LCBhY3RpdmUsIHRtZGIsIgogImdyb3VwX2lkIiAsICJjb3VudCgqKSIgLCAiZ3JvdXBfY29uY2F0KHRhZ3MsJyMnKSIgLCAiZ3JvdXBfY29uY2F0KGF1ZGlvLCcjJykiCiBdICwgWyBdICwgWyBdICwgb3JkZXIgLCBwYXJhbXMgKQogT29vTzAwT09vME9PTyAoIElpMTExSSAsICdwZWxpcycgLCBOb25lICwgTm9uZSAsIGluZm8gPSBwYXJhbXMgKQogaWYgOSAtIDk6IG8wMG9PMG9vME8wTzAgKiBvT08gKyBJaUlJMWkxSSAuIE9Pb09vTzBvMG8wT08gLiBJaTFJIC0gb28wbwpkZWYgSUlJSTFJICggc2VyaWVfYXR0ciAsIHR5cGUgKSA6CiBvT08wb08gPSBJSUkxMUlpICggKQogaWYgb09PMG9PIDoKICBvT29PME8wMDAwMCA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaTExaSApCiAgSUlpSWlpMUlpSTFpID0gb09vTzBPMDAwMDAgLiBjdXJzb3IgKCApCiAgaWYgOTEgLSA5MTogT09PIC0gSWlJSTFpMUkgJSBpaUlJaTFpMUlpaSAqIG9vT29vTzBPT08gLyBpaUlJaTFpMUlpaQogIG9PTzBvTyA9ICclJyArIG9PTzBvTyArICclJwogIE8wbzBvb29vMDAgPSAnJwogIGlmIHR5cGUgIT0gSWlpMSA6CiAgIE8wbzBvb29vMDAgPSAnIGdyb3VwIGJ5IGdyb3VwX2lkJwogIHRyeSA6CiAgIElJaUlpaTFJaUkxaSAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICgKIHNlcmllX2F0dHIgKSArIElJSWkxMSArICIgZnJvbSAiICsgdHlwZSArICIgd2hlcmUgYWN0aXZlID4gMCBhbmQgbm9tYnJlIGxpa2UgPyAiICsgTzBvMG9vb28wMCArICIgb3JkZXIgYnkgYWxmYSBhc2MsIG5vbWJyZSBhc2MiICwKICggdW5pY29kZSAoIG9PTzBvTyAuIGRlY29kZSAoICd1dGYtOCcgKSApICwgKSApCiAgZXhjZXB0IDoKICAgSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoICJTZWxlY3QgIiArICIsIiAuIGpvaW4gKAogc2VyaWVfYXR0ciApICsgSUlJaTExICsgIiBmcm9tICIgKyB0eXBlICsgIiB3aGVyZSBhY3RpdmUgPiAwIGFuZCBub21icmUgbGlrZSA/ICIgKyBPMG8wb29vbzAwICsgIiBvcmRlciBieSBhbGZhIGFzYywgbm9tYnJlIGFzYyIgLAogKCBPb29vTzBPICggdW5pY29kZSAoIG9PTzBvTyAuIGRlY29kZSAoICd1dGYtOCcgKSApICkgLiB1cHBlciAoICkgLCApICkKICBJaTExMUkgPSBJSWlJaWkxSWlJMWkgLiBmZXRjaGFsbCAoICkKICBpZiBsZW4gKCBJaTExMUkgKSA9PSAwIDoKICAgSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoICJTZWxlY3QgIiArICIsIiAuIGpvaW4gKCBzZXJpZV9hdHRyICkgKyAiIGZyb20gIiArIHR5cGUgKyAiIHdoZXJlIGFjdGl2ZSA+IDAgYW5kIG5vbWJyZSBsaWtlID8gIiArIE8wbzBvb29vMDAgKyAiIG9yZGVyIGJ5IG5vbWJyZSBhc2MiICwKICggT29vb08wTyAoIHVuaWNvZGUgKCBvT08wb08gLiBkZWNvZGUgKCAndXRmLTgnICkgKSApIC4gdXBwZXIgKCApICwgKSApCiAgIElpMTExSSA9IElJaUlpaTFJaUkxaSAuIGZldGNoYWxsICggKQogIG9Pb08wTzAwMDAwIC4gY2xvc2UgKCApCiAgaWYgdHlwZSA9PSBJaWkxIDoKICAgSTFJaUlpSSAoIElpMTExSSAsIFRydWUgLCBUcnVlICwgRmFsc2UgKQogIGVsc2UgOgogICBPb29PMDBPT28wT09PICggSWkxMTFJICwgJ3BlbGlzJyAsIGluZm8gPSB7ICdwdW50b3MnIDogJ3RydWUnICwgJ2Fubm8nIDogJ3RydWUnIH0gKQogICBpZiAxNyAtIDE3OiBJSSAqIElpCiAgIGlmIDI2IC0gMjY6IG8wMG9PMG9vME8wTzAgKyBPT08gKyBvbzBvIC8gb29vT29PIC0gaWkxSTFpaTFJaUlpMSAvIElJSUkKZGVmIE8wTzAwT29vTzAwTyAoIGF1ZGlvID0gTm9uZSAsIHRhYiA9ICdzZXJpZXMnICwgcGFyYW1zID0geyB9ICkgOgogaWYgbm90IGF1ZGlvIDoKICBvT29PME8wMDAwMCA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaTExaSApCiAgSUlpSWlpMUlpSTFpID0gb09vTzBPMDAwMDAgLiBjdXJzb3IgKCApCiAgSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoICJTZWxlY3QgYXVkaW8sY291bnQoYXVkaW8pIGZyb20gIiArIHRhYiArICIgd2hlcmUgYXVkaW8hPSdFUycgYW5kIGFjdGl2ZSA+IDAgZ3JvdXAgYnkgYXVkaW8gb3JkZXIgYnkgYXVkaW8iICkKICBJaTExMUkgPSBJSWlJaWkxSWlJMWkgLiBmZXRjaGFsbCAoICkKICBvT29PME8wMDAwMCAuIGNsb3NlICggKQogIGkxSWkxMWkgPSBbIF0KICBvMDBvME8gPSB7IH0KICBmb3IgSUlJMUkxaUkxSTFpSSBpbiBJaTExMUkgOgogICBpZiAzMiAtIDMyOiBJSW9vb08wb29PMG9vICsgSUlJSQogICBmb3IgSUkxSTFJSUkxMUlpMSBpbiBJSUkxSTFpSTFJMWlJIFsgMCBdIC4gcmVwbGFjZSAoICdFUycgLCAnJyApIC4gc3BsaXQgKCAnIycgKSA6CiAgICBpZiBJSTFJMUlJSTExSWkxIGFuZCBJSTFJMUlJSTExSWkxIG5vdCBpbiBvMDBvME8gOgogICAgIG8wMG8wTyBbIElJMUkxSUlJMTFJaTEgXSA9IElJSTFJMWlJMUkxaUkgWyAxIF0KICAgIGVsaWYgSUkxSTFJSUkxMUlpMSA6CiAgICAgbzAwbzBPIFsgSUkxSTFJSUkxMUlpMSBdID0gbzAwbzBPIFsgSUkxSTFJSUkxMUlpMSBdICsgSUlJMUkxaUkxSTFpSSBbIDEgXQogICAgIGlmIDY4IC0gNjg6IG9vT29vTzBPT08gLSBvbwogICAgIGlmIDg0IC0gODQ6IEkxSWlJMUlJSTExaSArIG9vT29vTzBPT08gKyBJSW9vb08wb29PMG9vICsgSWkgKiBvb29Pb08gLSBJMQogIGZvciBJSTFJMUlJSTExSWkxICwgaWlpTzAwME9vIGluIG8wMG8wTyAuIGl0ZXJpdGVtcyAoICkgOgogICBpSTExaWlJaTFJMWlJID0gJ1tDT0xPUiAlc10lc1svQ09MT1JdICglcyknICUgKCBpMUlpSTFpaWkgLCBJSTFJMUlJSTExSWkxICwgaWlpTzAwME9vICkKICAgT29PTzBPTzBvME8gPSBPMDAwMDAwTzBPb09vICggbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsIGNhcmF0dWxhID0gJycgKQogICBpZiB0YWIgPT0gJ3NlcmllcycgOgogICAgSTFJaWlpID0gJ3swfT9hY3Rpb249c2VyaWVzQnlMYW5nJmxhbmc9ezF9JyAuIGZvcm1hdCAoIEkxaUkxMUkgLCBJSTFJMUlJSTExSWkxIC4gZW5jb2RlICggJ3V0Zi04JyApICkKICAgZWxzZSA6CiAgICBJMUlpaWkgPSAnezB9P2FjdGlvbj1wZWxpc0J5TGFuZyZsYW5nPXsxfScgLiBmb3JtYXQgKCBJMWlJMTFJICwgSUkxSTFJSUkxMUlpMSAuIGVuY29kZSAoICd1dGYtOCcgKSApCiAgIGlJaTFJaSA9IFRydWUKICAgaTFJaTExaSAuIGFwcGVuZCAoICggSTFJaWlpICwgT29PTzBPTzBvME8gLCBpSWkxSWkgKSApCiAgdHJ5IDoKICAgaWYgNzMgLSA3MzogSWkgLyBJMUlpSTFJSUkxMWkgLiBvbyAuIElJSUkgLiBJMUlpSTFJSUkxMWkKICAgT09vMDAwT28gKCBvMG8wMDAwTzAgKQogIGV4Y2VwdCA6CiAgIHBhc3MKICB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJaWlJSTEgLCBpMUlpMTFpICwgbGVuICggaTFJaTExaSApICkKICB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJaWlJSTEgKQogZWxzZSA6CiAgcGFyYW1zIFsgJ3NxbF9saW1pdCcgXSA9ICcgbGltaXQgJyArIHN0ciAoIG9vbzBvb09vTzBPbyApCiAgcGFyYW1zIFsgImFjdGlvbiIgXSA9ICdwZWxpc0J5TGFuZycKICBpZiAncGFnZScgaW4gcGFyYW1zIGFuZCAnY19wYWdlJyBpbiBwYXJhbXMgOgogICBpZiA2OCAtIDY4OiBJaSAvIElpSUkxaTFJICUgSWlJSTFpMUkgLyBJMQogICBwYXJhbXMgWyAiYWN0aW9uUGFyYW1zIiBdID0gJ2xhbmc9JyArIGF1ZGlvCiAgZWxzZSA6CiAgIHBhcmFtcyBbICJjX3BhZ2UiIF0gPSAxCiAgIHBhcmFtcyBbICJhY3Rpb25QYXJhbXMiIF0gPSAnbGFuZz0nICsgYXVkaW8KICAgaWYgNDcgLSA0NzogSUlvb29PMG9vTzBvbyAqIE9PTyArIEkxSWlJMUlJSTExaQogICBpZiA0NCAtIDQ0OiBJSUlJICUgSUkgKyBJSUlJIC8gSWlJSTFJaUkgLyBvT08gLyBpMWlJMQogICBpZiA0NyAtIDQ3OiBJaUlJMUlpSSAlIElJIC4gSUlvb29PMG9vTzBvbyAqIGkxaUkxIC4gSUlJSQogIHBhcmFtcyBbICJzcWxfY29uZCIgXSA9ICIgYWN0aXZlID4gMCBhbmQgYXVkaW8gbGlrZSAnJSIgKyBhdWRpbyAuIGRlY29kZSAoICd1dGYtOCcgKSArICIlJyIKICBpZiB0YWIgPT0gJ3NlcmllcycgOgogICBPTzBPb08wME8wbyA9IElJaTExSWkxIFsgOiBdCiAgIGlmIDc5IC0gNzk6IGlpMUkxaWkxSWlJaTEgKiBvbwogICBpZiA4MCAtIDgwOiBJaTFJIC4gb09PICogSUkgLSBPT29Pb08wbzBvME9PCiAgIGlmIDYgLSA2OiBvbzBvIC8gSTEgKiBpaTFJMWlpMUlpSWkxICsgaWkxSTFpaTFJaUlpMSAvIEkxCiAgIElpMTExSSA9IE8wMDBvMDAwbzBPbyAoICJzZXJpZXMiICwgSUlpMTFJaTEgLCBbIF0gLCBbIF0gLCBbICJub21icmUiIF0gLCBwYXJhbXMgKQogICBJMUlpSWlJICggSWkxMTFJICwgVHJ1ZSAsIFRydWUgLCBGYWxzZSAsIHBhcmFtcyApCiAgZWxzZSA6CiAgIHBhcmFtcyBbICJhY3Rpb24iIF0gPSAncGVsaXNCeUxhbmcnCiAgIHBhcmFtcyBbICJzcWxfZ3JvdXAiIF0gPSAnIGdyb3VwX2lkICcKICAgcGFyYW1zIFsgInB1bnRvcyIgXSA9ICd0cnVlJwogICBwYXJhbXMgWyAiYW5ubyIgXSA9ICd0cnVlJwogICBpZiBwYXJhbXMgWyAiY19wYWdlIiBdID4gMSA6CiAgICBwYXJhbXMgWyAic3FsX2NvbmQiIF0gPSBwYXJhbXMgWyAic3FsX2NvbmQiIF0gKyAnIGFuZCAnICsgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBwYXJhbXMgWyAicGFnZSIgXSApCiAgICBpZiAyMiAtIDIyOiBJSUlJIC0gSUkgLSBJMSAtIG9vb09vTyArIEkxICUgSWlJSTFpMUkKICAgSWkxMTFJID0gTzAwMG8wMDBvME9vICggInBlbGlzIiAsCiBbICJwZWxpX2lkIiAsICJhdWRpbyIgLCAiJyciICwgInRhZ3MiICwgIicnIiAsICInJyIgLCAibGluayIgLCAiJ3F1YWxpdHknIiAsICJub21icmUiICwgImFubm8iICwgInNpbm9wc2lzIiAsCiAiY2FyYXR1bGEiICwgInBvc3RlciIgLCAic3RyZnRpbWUoJyVZLSVtLSVkJyx1cGRhdGVkKSwgcHVudG9zLCBjYXRlZ29yeSwgYWN0aXZlLCB0bWRiIiAsCiAiZ3JvdXBfaWQiICwgImNvdW50KCopIiAsICJncm91cF9jb25jYXQodGFncywnIycpIiAsICJncm91cF9jb25jYXQoYXVkaW8sJyMnKSIKIF0gLCBbIF0gLCBbIF0gLCBbICJub21icmUiIF0gLCBwYXJhbXMgKQogICBPb29PMDBPT28wT09PICggSWkxMTFJICwgJ3BlbGlzJyAsIGluZm8gPSBwYXJhbXMgKQogICBpZiA4MiAtIDgyOiBJSSAtIG9vT29vTzBPT08gLyBvbyAvIElJIC4gT09vT29PMG8wbzBPTwogICBpZiA3NSAtIDc1OiBvbzBvCmRlZiBvT09PMG8gKCBwYXJhbXMgLCB0eXBlICkgOgogaWYgJ2xldHJhJyBpbiBwYXJhbXMgOgogIGkxaWkgPSBwYXJhbXMgWyAnbGV0cmEnIF0KIGVsc2UgOgogIGkxaWkgPSBOb25lCiBJMWlpMWlpaUkgPSB7ICdBJyA6ICd1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMTkyIEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMTk4JyAsCiAnRScgOiAndW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIwMCBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIwMycgLAogJ0knIDogJ3VuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA+PSAyMDQgQU5EIHVuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA8PSAyMDcnICwKICdPJyA6ICd1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjEwIEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjE0JyAsCiAnVScgOiAndW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIxNyBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIyMCcgfQogb29PT29vT08wME8gPSAnITAtOS4uJwogSUlpMUlpMWkxMTFpID0gJ3VuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA+PSA2NSBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDkwJwogaWYgdHlwZSA9PSAnc2VyaWUnIDoKICBvT29vID0gSUlpMTFJaTEKICBvT29vIC4gYXBwZW5kICggIkNBU0UgV2hlbiB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMTkyIEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMTk4IFRoZW4gJ0EnV2hlbiB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjA0IEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjA3IFRoZW4gJ0knV2hlbiB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjAwIEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjAzIFRoZW4gJ0UnV2hlbiB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjE3IEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjIwIFRoZW4gJ1UnV2hlbiB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjEwIEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjE0IFRoZW4gJ08nIFdIRU4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDY1IEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gOTAgVEhFTiB1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkgRUxTRSAnITAtOS4uJyAgRU5EIGFsZmEgIiApCiAgSTFJaWlJSTExID0gJycKIGVsc2UgOgogIG9Pb28gPSBPME9vMG9PTwogIEkxSWlpSUkxMSA9ICdncm91cCBieSBncm91cF9pZCcKIGlmIG5vdCBpMWlpIDoKICBJSWkgPSAiIiAuIGpvaW4gKCBbICJXaGVuICIgKyBJMUlpaUlpICsgIiBUaGVuICciICsgaWlpMUlpSSArICInIiBmb3IgaWlpMUlpSSAsIEkxSWlpSWkgaW4gSTFpaTFpaWlJIC4gaXRlcml0ZW1zICggKSBdICkKICBvT29PME8wMDAwMCA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaTExaSApCiAgSUlpSWlpMUlpSTFpID0gb09vTzBPMDAwMDAgLiBjdXJzb3IgKCApCiAgSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoCiAic2VsZWN0IGFsZmEsIGNvdW50IChhbGZhKSBmcm9tIChzZWxlY3QgQ0FTRSAiICsgSUlpICsgIiBXSEVOICIgKyBJSWkxSWkxaTExMWkgKyAiIFRIRU4gdXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpIEVMU0UgJyEwLTkuLicgIEVORCBhbGZhLCBub21icmUsICIgKyB0eXBlICsgIl9pZCBmcm9tICIgKyB0eXBlICsgInMgd2hlcmUgYWN0aXZlID4gMCApIGdyb3VwIGJ5IGFsZmEgb3JkZXIgYnkgYWxmYSIgKQogIElpMTExSSA9IElJaUlpaTFJaUkxaSAuIGZldGNoYWxsICggKQogIG9Pb08wTzAwMDAwIC4gY2xvc2UgKCApCiAgaTFJaTExaSA9IFsgXQogIGZvciBJSUkxSTFpSTFJMWlJIGluIElpMTExSSA6CiAgIGkxaWkgPSBJSUkxSTFpSTFJMWlJIFsgMCBdCiAgIGlpaU8wMDBPbyA9IElJSTFJMWlJMUkxaUkgWyAxIF0KICAgaUkxMWlpSWkxSTFpSSA9ICdbQ09MT1IgJXNdJXNbL0NPTE9SXSAoJXMpJyAlICggaTFJaUkxaWlpICwgaTFpaSAsIGlpaU8wMDBPbyApCiAgIE9vT08wT08wbzBPID0gTzAwMDAwME8wT29PbyAoIG5vbWJyZSA9IGlJMTFpaUlpMUkxaUkgLCBjYXJhdHVsYSA9ICcnICkKICAgSTFJaWlpID0gJ3swfT9hY3Rpb249ezF9c0J5QVombGV0cmE9ezJ9JyAuIGZvcm1hdCAoIEkxaUkxMUkgLCB0eXBlICwgaTFpaSApCiAgIGlJaTFJaSA9IFRydWUKICAgaTFJaTExaSAuIGFwcGVuZCAoICggSTFJaWlpICwgT29PTzBPTzBvME8gLCBpSWkxSWkgKSApCiAgdHJ5IDoKICAgaWYgNCAtIDQ6IElJICogSWlJSTFJaUkgLiBvb29Pb08gKiBJMQogICBPT28wMDBPbyAoIG8wbzAwMDBPMCApCiAgZXhjZXB0IDoKICAgcGFzcwogIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUlpaUlJMSAsIGkxSWkxMWkgLCBsZW4gKCBpMUlpMTFpICkgKQogIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUlpaUlJMSApCiBlbHNlIDoKICBwYXJhbXMgWyAnc3FsX2dyb3VwJyBdID0gJyBncm91cF9pZCcKICBwYXJhbXMgWyAnYWN0aW9uJyBdID0gdHlwZSArICdzQnlBWicKICBwYXJhbXMgWyAnYWN0aW9uUGFyYW1zJyBdID0gJycKICBwYXJhbXMgWyAnc3FsX2xpbWl0JyBdID0gJyBsaW1pdCAnICsgc3RyICggb29vMG9vT29PME9vICkKICBwYXJhbXMgWyAnYW5ubycgXSA9ICd0cnVlJwogIHBhcmFtcyBbICJwdW50b3MiIF0gPSAidHJ1ZSIKICBwYXJhbXMgWyAibGV0cmEiIF0gPSBpMWlpCiAgcGFyYW1zIFsgJ2FjdGlvblBhcmFtcycgXSA9ICdsZXRyYT0nICsgaTFpaQogIGlmICdwYWdlJyBpbiBwYXJhbXMgYW5kICdjX3BhZ2UnIGluIHBhcmFtcyA6CiAgIG9vMCA9IGludCAoIHBhcmFtcyBbICdjX3BhZ2UnIF0gKQogICBwYXJhbXMgWyAnc3FsX2NvbmQnIF0gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIHBhcmFtcyBbICdwYWdlJyBdICkgLiBkZWNvZGUgKCAndXRmLTgnICkKICAgcGFyYW1zIFsgImNfcGFnZSIgXSA9IG9vMAogICBvT29PME8wMDAwMCA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaTExaSApCiAgIElJaUlpaTFJaUkxaSA9IG9Pb08wTzAwMDAwIC4gY3Vyc29yICggKQogICBpZiBpMWlpIGluIEkxaWkxaWlpSSA6CiAgICBJMWlpMWlpaUkgWyBpMWlpIF0gPSBJMWlpMWlpaUkgWyBpMWlpIF0gKyAnIE9SJwogICBlbGlmIGkxaWkgPT0gb29PT29vT08wME8gOgogICAgSTFpaTFpaWlJIFsgaTFpaSBdID0gIkFORCIgLiBqb2luICggWyAiIE5PVCAoICIgKyBJMUlpaUlpICsgIikgIiBmb3IgaWlpMUlpSSAsIEkxSWlpSWkgaW4gSTFpaTFpaWlJIC4gaXRlcml0ZW1zICggKSBdICkgKyAiIEFORCBOT1QgKCIgKyBJSWkxSWkxaTExMWkgKyAiKSBPUiIKICAgZWxzZSA6CiAgICBJMWlpMWlpaUkgWyBpMWlpIF0gPSAnJwogICBPMG8wb29vbzAwID0gJycKICAgaWYgdHlwZSA9PSAncGVsaScgOgogICAgb09vbyA9IGlpSTExMTFJSWlpSQogICAgTzBvMG9vb28wMCA9ICcgZ3JvdXAgYnkgZ3JvdXBfaWQnCiAgICBpZiA4OSAtIDg5OiBJSW9vb08wb29PMG9vICsgaTFpSTEgLiBJaUlJMUlpSQogICAgaWYgNDUgLSA0NTogT09PCiAgIElJaUlpaTFJaUkxaSAuIGV4ZWN1dGUgKAogInNlbGVjdCAiICsgIiwiIC4gam9pbiAoIG9Pb28gKSArICIgZnJvbSAiICsgdHlwZSArICJzIHdoZXJlIGFjdGl2ZSA+IDAgQU5EICggIiArIEkxaWkxaWlpSSBbCiBpMWlpIF0gKyAiIHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSA9PSA/KSBhbmQgY2F0ZWdvcnkgbm90IGluICgnRG9jdW1lbnRhbCcsICdNdXNpY2EnKSBhbmQgIiArIHBhcmFtcyBbICdzcWxfY29uZCcgXSArICIgIiArIE8wbzBvb29vMDAgKyAiIG9yZGVyIGJ5IG5vbWJyZSBsaW1pdCAiICsgc3RyICggb29vMG9vT29PME9vICkgLAogKCBpMWlpICwgKSApCiAgIElpMTExSSA9IElJaUlpaTFJaUkxaSAuIGZldGNoYWxsICggKQogICBvT29PME8wMDAwMCAuIGNsb3NlICggKQogICBpZiB0eXBlID09ICdwZWxpJyA6CiAgICBPb29PMDBPT28wT09PICggSWkxMTFJICwgdHlwZSA9ICdwZWxpcycgLCBpbmZvID0gcGFyYW1zICkKICAgZWxzZSA6CiAgICBwYXJhbXMgWyAnYWN0aW9uUGFyYW1zJyBdID0gJ2FsZmEgPicgKyBpMWlpCiAgICBJMUlpSWlJICggSWkxMTFJICwgVHJ1ZSAsIFRydWUgLCBGYWxzZSApCiAgZWxzZSA6CiAgIG9vMCA9IDEKICAgcGFyYW1zIFsgImNfcGFnZSIgXSA9IG9vMAogICBvT29PME8wMDAwMCA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaTExaSApCiAgIElJaUlpaTFJaUkxaSA9IG9Pb08wTzAwMDAwIC4gY3Vyc29yICggKQogICBpZiBpMWlpIGluIEkxaWkxaWlpSSA6CiAgICBJMWlpMWlpaUkgWyBpMWlpIF0gPSBJMWlpMWlpaUkgWyBpMWlpIF0gKyAnIE9SJwogICBlbGlmIGkxaWkgPT0gb29PT29vT08wME8gOgogICAgSTFpaTFpaWlJIFsgaTFpaSBdID0gIkFORCIgLiBqb2luICggWyAiIE5PVCAoICIgKyBJMUlpaUlpICsgIikgIiBmb3IgaWlpMUlpSSAsIEkxSWlpSWkgaW4gSTFpaTFpaWlJIC4gaXRlcml0ZW1zICggKSBdICkgKyAiIEFORCBOT1QgKCIgKyBJSWkxSWkxaTExMWkgKyAiKSBPUiIKICAgZWxzZSA6CiAgICBJMWlpMWlpaUkgWyBpMWlpIF0gPSAnJwogICBPMG8wb29vbzAwID0gJycKICAgaWYgdHlwZSA9PSAncGVsaScgOgogICAgb09vbyA9IGlpSTExMTFJSWlpSQogICAgTzBvMG9vb28wMCA9ICcgZ3JvdXAgYnkgZ3JvdXBfaWQnCiAgICBpZiAyOCAtIDI4OiBJaUlJMUlpSSArIEkxICUgaWkxSTFpaTFJaUlpMQogICBJSWlJaWkxSWlJMWkgLiBleGVjdXRlICgKICJzZWxlY3QgIiArICIsIiAuIGpvaW4gKCBvT29vICkgKyAiIGZyb20gIiArIHR5cGUgKyAicyB3aGVyZSBhY3RpdmUgPiAwIGFuZCBjYXRlZ29yeSBub3QgaW4gKCdEb2N1bWVudGFsJywgJ011c2ljYScpIEFORCAoICIgKyBJMWlpMWlpaUkgWwogaTFpaSBdICsgIiB1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkgPT0gPykgIiArIE8wbzBvb29vMDAgKyAiIG9yZGVyIGJ5IG5vbWJyZSBsaW1pdCAiICsgc3RyICggb29vMG9vT29PME9vICkgLAogKCBpMWlpICwgKSApCiAgIElpMTExSSA9IElJaUlpaTFJaUkxaSAuIGZldGNoYWxsICggKQogICBvT29PME8wMDAwMCAuIGNsb3NlICggKQogICBpZiB0eXBlID09ICdwZWxpJyA6CiAgICBPb29PMDBPT28wT09PICggSWkxMTFJICwgdHlwZSA9ICdwZWxpcycgLCBpbmZvID0gcGFyYW1zICkKICAgZWxzZSA6CiAgICBpZiAyNSAtIDI1OiBJSUlJIC4gSWkxSSAlIG8wMG9PMG9vME8wTzAgLyBvMDBvTzBvbzBPME8wIC4gSUlJSQogICAgSTFJaUlpSSAoIElpMTExSSAsIFRydWUgLCBUcnVlICwgRmFsc2UgLCBwYXJhbXMgKQogICAgaWYgODggLSA4ODogT09PIC8gSUkgLyBpaTFJMWlpMUlpSWkxIC0gSWkxSSAvIEkxCiAgICBpZiAxIC0gMTogT09vT29PMG8wbzBPTyAuIElpSUkxaTFJICogaWlJSWkxaTFJaWkgKyBpMWlJMQpkZWYgSTFJMWkxaTExSTFpICggb3B0aW9uICkgOgogSTFJSWlJMTFJSUkgPSBbIF0KIGlmICJTZXJpZXMiID09IG9wdGlvbiA6CiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnU2VyaWVzIEZhdm9yaXRhcycgLCBvT09PME8wIDogJ2xpc3RmYXZzJyAsICdpY28nIDogJ2Zhdm9yaXRvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1NlcmllcycgLCBvT09PME8wIDogSWlpMSAsICdpY28nIDogSWlpMSAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKAogeyAndGl0bGUnIDogJ1NlcmllcyBBbmltZScgLCBvT09PME8wIDogJ3Nlcmllc19hbmltZScgLCAnaWNvJyA6ICdzZXJpZXNfYW5pbWUnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnU2VyaWVzIERpYnVqb3MnICwgb09PTzBPMCA6ICdzZXJpZXNfZGlidWpvcycgLCAnaWNvJyA6ICdzZXJpZXNfZGlidWpvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1NlcmllcyBSZXRybycgLCBvT09PME8wIDogJ3Nlcmllc19yZXRybycgLCAnaWNvJyA6ICdzZXJpZXNfcmV0cm8nICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnVGVsZW5vdmVsYXMnICwgb09PTzBPMCA6ICd0ZWxlbm92ZWxhcycgLCAnaWNvJyA6ICd0ZWxlbm92ZWxhcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1NlcmllcyBBLVonICwgb09PTzBPMCA6ICdzZXJpZXNCeUFaJyAsICdpY28nIDogSWlpMSAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnU2VyaWVzIE90cm9zIElkaW9tYXMnICwgb09PTzBPMCA6ICdzZXJpZXNCeUxhbmcnICwgJ2ljbycgOiAnc2VyaWVzX290cm9zX2lkaW9tYXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMgUmVjaWVudGVzJyAsIG9PT08wTzAgOiAndWx0aW1hc19zZXJpZXMnICwgJ2ljbycgOiAnc2VyaWVzX3JlY2llbnRlcycgLAogJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdNw6FzIFZpc3RhcycgLCBvT09PME8wIDogJ3Nlcmllc19tYXNfdmlzdGFzJyAsICdpY28nIDogJ3Nlcmllc19tYXNfdmlzdGFzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnTWFzIFZpc3RhcyDDmmx0aW1vIE1lcycgLCBvT09PME8wIDogJ3Nlcmllc19tYXNfdmlzdGFzX21lcycgLCAnaWNvJyA6ICdzZXJpZXNfbWFzX3Zpc3Rhc19tZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3NlcmllcycgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnQnVzY2FyIFNlcmllJyAsIG9PT08wTzAgOiAnc2VhcmNoU2VyaWUnICwgJ2ljbycgOiAnYnVzY2FyJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBlbGlmICJQZWxpcyIgPT0gb3B0aW9uIDoKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyBGYXZvcml0YXMnICwgb09PTzBPMCA6ICdsaXN0ZmF2cCcgLCAnaWNvJyA6ICdmYXZvcml0b3MnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyBBLVonICwgb09PTzBPMCA6ICdwZWxpc0J5QVonICwgJ2ljbycgOiAncGVsaXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnUGVsaXMgKEdlbmVybyknICwgb09PTzBPMCA6ICdsaXN0X2dlbmVyb3MnICwgJ2ljbycgOiAncGVsaXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyAoQcOxbyknICwgb09PTzBPMCA6ICdhbnlvJyAsICdpY28nIDogJ3BlbGlzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnUGVsaXMgT3Ryb3MgSWRpb21hcycgLCBvT09PME8wIDogJ3BlbGlzQnlMYW5nJyAsICdpY28nIDogJ3BlbGlzX290cm9zX2lkaW9tYXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTYWdhcycgLCBvT09PME8wIDogJ3NhZ2FzJyAsICdpY28nIDogJ3NhZ2FzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKAogeyAndGl0bGUnIDogJ1RvcCBQZWxpcyAoQcOxbyknICwgb09PTzBPMCA6ICdhbnlvX3RvcCcgLCAnaWNvJyA6ICd0b3BfcGVsaXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnUGVsaXMgUmVjaWVudGVzJyAsIG9PT08wTzAgOiAndWx0aW1hc19wZWxpcycgLCAnaWNvJyA6ICdwZWxpc19yZWNpZW50ZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnUGVsaXMgUmVjaWVudGVzIChBw7FvKScgLCBvT09PME8wIDogJ3VsdGltYXNfcGVsaXNfYW55bycgLCAnaWNvJyA6ICdwZWxpc19yZWNpZW50ZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdNw6FzIFZpc3RhcycgLCBvT09PME8wIDogJ3BlbGlzX21hc192aXN0YXMnICwgJ2ljbycgOiAncGVsaXNfbWFzX3Zpc3RhcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ03DoXMgVmlzdGFzIMOabHRpbW8gTWVzJyAsIG9PT08wTzAgOiAncGVsaXNfbWFzX3Zpc3Rhc19tZXMnICwgJ2ljbycgOiAncGVsaXNfbWFzX3Zpc3Rhc19tZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdCdXNjYXIgUGVsaScgLCBvT09PME8wIDogJ3NlYXJjaFBlbGknICwgJ2ljbycgOiAnYnVzY2FyJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBlbGlmICJEaWJ1am9zIiA9PSBvcHRpb24gOgogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0RpYnVqb3MgRmF2b3JpdG9zJyAsIG9PT08wTzAgOiAnbGlzdGZhdmQnICwgJ2ljbycgOiAnZmF2b3JpdG9zJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKAogeyAndGl0bGUnIDogJ1NlcmllcyBEaWJ1am9zJyAsIG9PT08wTzAgOiAnc2VyaWVzX2RpYnVqb3MnICwgJ2ljbycgOiAnc2VyaWVzX2RpYnVqb3MnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnUGVsaXMgRGlidWpvcycgLCBvT09PME8wIDogJ3BlbGlfaW5mJyAsICdpY28nIDogJ3BlbGlzX2RpYnVqb3MnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnRXNwZWNpYWwgRGlzbmV5JyAsIG9PT08wTzAgOiAnc2FnYV9kZXRhaWwmc2FnYT0lcycgJSBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoICdFc3BlY2lhbCBEaXNuZXknICkgLCAnaWNvJyA6ICdodHRwczovL2kuaW1ndXIuY29tL0QxTWN3NFEucG5nJyAsCiAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICgKIHsgJ3RpdGxlJyA6ICdUb3AgUGVsaXMgRGlidWpvcycgLCBvT09PME8wIDogJ3RvcF9wZWxpX2luZicgLCAnaWNvJyA6ICd0b3BfcGVsaXNfZGlidWpvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1BlbGlzIERpYnVqb3MgUmVjaWVudGVzJyAsIG9PT08wTzAgOiAnbGFzdF9wZWxpX2luZicgLCAnaWNvJyA6ICdkaWJ1am9zX3JlY2llbnRlcycgLAogJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnTcOhcyBWaXN0YXMnICwgb09PTzBPMCA6ICdwZWxpc19kaWJ1am9zX21hc192aXN0YXMnICwgJ2ljbycgOiAncGVsaXNfZGlidXNfbWFzX3Zpc3RhcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICgKIHsgJ3RpdGxlJyA6ICdNw6FzIFZpc3RhcyDDmmx0aW1vIE1lcycgLCBvT09PME8wIDogJ3BlbGlzX2RpYnVqb3NfbWFzX3Zpc3Rhc19tZXMnICwgJ2ljbycgOiAncGVsaXNfZGlidXNfbWFzX3Zpc3Rhc191bHRpbW9fbWVzJyAsCiAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogZWxpZiAiSGVycmFtaWVudGFzIiA9PSBvcHRpb24gOgogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0xpbXBpYXIgVGVtcG9yYWxlcycgLCBvT09PME8wIDogJ2NsZWFuJyAsICdpY28nIDogJ2xpbXBpYXInICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdDcmVhciBDb3BpYSBGYXZvcml0b3MnICwgb09PTzBPMCA6ICdjcmVhdGVDb3B5JyAsICdpY28nIDogJ2hlcnJhbWllbnRhcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1Jlc3RhdXJhciBGYXZvcml0b3MnICwgb09PTzBPMCA6ICdyZXN0b3JlQ29weScgLCAnaWNvJyA6ICdoZXJyYW1pZW50YXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdBYnJpciBBanVzdGVzJyAsIG9PT08wTzAgOiAnb3BlblNldHRpbmdzJyAsICdpY28nIDogJ2FqdXN0ZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdJbnN0YWxhciBFeHRlbmRlZCBJbmZvJyAsIG9PT08wTzAgOiAnaW5zdGFsbCcgLCAnb3B0aW9ucycgOiAnJm9wdGlvbnM9c2NyaXB0LmV4dGVuZGVkaW5mbycgLCAnaWNvJyA6ICdpbnN0YWxhcicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0luc3RhbGFyIFVSTFJlc29sdmVyJyAsIG9PT08wTzAgOiAnaW5zdGFsbCcgLCAnb3B0aW9ucycgOiAnJm9wdGlvbnM9c2NyaXB0Lm1vZHVsZS51cmxyZXNvbHZlcicgLCAnaWNvJyA6ICdpbnN0YWxhcicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0luc3RhbGFyIFNpbXBsZSBEb3dubG9hZGVyJyAsIG9PT08wTzAgOiAnaW5zdGFsbCcgLCAnb3B0aW9ucycgOiAnJm9wdGlvbnM9c2NyaXB0Lm1vZHVsZS5zaW1wbGUuZG93bmxvYWRlcicgLCAnaWNvJyA6ICdpbnN0YWxhcicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0luc3RhbGFyIEFkZCBUbyBMaWInICwgb09PTzBPMCA6ICdpbnN0YWxsJyAsICdvcHRpb25zJyA6ICcmb3B0aW9ucz1jb250ZXh0LmFkZHRvbGliJyAsICdpY28nIDogJ2luc3RhbGFyJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnSW5zdGFsYXIgQ29tbW9uIFBsdWdpbiBDYWNoZScgLCBvT09PME8wIDogJ2luc3RhbGwnICwgJ29wdGlvbnMnIDogJyZvcHRpb25zPXNjcmlwdC5jb21tb24ucGx1Z2luLmNhY2hlJyAsICdpY28nIDogJ2luc3RhbGFyJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBlbGlmICJBbmltZSIgPT0gb3B0aW9uIDoKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnUGVsaXMgQW5pbWUnICwgb09PTzBPMCA6ICdwZWxpX2FuaW1lJyAsICdpY28nIDogJ3BlbGlzX2FuaW1lJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKAogeyAndGl0bGUnIDogJ1NlcmllcyBBbmltZScgLCBvT09PME8wIDogJ3Nlcmllc19hbmltZScgLCAnaWNvJyA6ICdzZXJpZXNfYW5pbWVfbWVudScgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1NlcmllcyBSZWNpZW50ZXMnICwgb09PTzBPMCA6ICd1bHRpbWFzX3Nlcmllc19hbmltZScgLCAnaWNvJyA6ICdzZXJpZXNfcmVjaWVudGVzX2FuaW1lJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBlbGlmICJEb2N1bWVudGFsIiA9PSBvcHRpb24gOgogIEkxSUlpSTExSUlJIC4gYXBwZW5kICgKIHsgJ3RpdGxlJyA6ICdEb2N1bWVudGFsZXMgQS9aJyAsIG9PT08wTzAgOiAnc2VyaWVzX2RvY3VtZW50YWxlcycgLCAnaWNvJyA6ICdkb2N1bWVudGFsZXNheicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0RvY3VtZW50YWxlcyBSZWNpZW50ZXMnICwgb09PTzBPMCA6ICd1bHRpbW9zX2RvY3VtZW50YWxlcycgLCAnaWNvJyA6ICdkb2N1bWVudGFsZXNfcmVjaWVudGVzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBlbGlmICJNdXNpY2EiID09IG9wdGlvbiA6CiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnTXVzaWNhIEEvWicgLCBvT09PME8wIDogJ3Nlcmllc19tdXNpY2EnICwgJ2ljbycgOiAnbXVzaWNhYXonICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdNdXNpY2EgUmVjaWVudGUnICwgb09PTzBPMCA6ICd1bHRpbWFzX211c2ljYXMnICwgJ2ljbycgOiAnbXVzaWNhX3JlY2llbnRlJyAsCiAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIGlmIDY3IC0gNjc6IEkxSWlJMUlJSTExaQogZWxzZSA6CiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnRmF2b3JpdG9zJyAsIG9PT08wTzAgOiAnbGlzdGZhdicgLCAnaWNvJyA6ICdmYXZvcml0b3MnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBPMDBvMDBPMDAwTyAoIEkxSUlpSTExSUlJICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdNZW51IFNlcmllcycgLCBvT09PME8wIDogJ3Nlcmllc19tZW51JyAsICdpY28nIDogJ21lbnVfc2VyaWUnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdNZW51IFBlbGlzJyAsIG9PT08wTzAgOiAncGVsaXNfbWVudScgLCAnaWNvJyA6ICdtZW51X3BlbGknICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnTWVudSBEaWJ1am9zJyAsIG9PT08wTzAgOiAnZGlidWpvc19tZW51JyAsICdpY28nIDogJ21lbnVfZGlidWpvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICgKIHsgJ3RpdGxlJyA6ICdNZW51IEFuaW1lJyAsIG9PT08wTzAgOiAnYW5pbWVfbWVudScgLCAnaWNvJyA6ICdtZW51X2FuaW1lJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnTWVudSBNdXNpY2EnICwgb09PTzBPMCA6ICdtdXNpY2FfbWVudScgLCAnaWNvJyA6ICdtZW51X211c2ljYScgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ01lbnUgRG9jdW1lbnRhbGVzJyAsIG9PT08wTzAgOiAnZG9jdW1lbnRhbGVzX21lbnUnICwgJ2ljbycgOiAnbWVudV9kb2N1bWVudGFsZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMgUmVjaWVudGVzJyAsIG9PT08wTzAgOiAndWx0aW1hc19zZXJpZXMnICwgJ2ljbycgOiAnc2VyaWVzX3JlY2llbnRlcycgLAogJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnUGVsaXMgUmVjaWVudGVzJyAsIG9PT08wTzAgOiAndWx0aW1hc19wZWxpcycgLCAnaWNvJyA6ICdwZWxpc19yZWNpZW50ZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyBEaWJ1am9zIFJlY2llbnRlcycgLCBvT09PME8wIDogJ2xhc3RfcGVsaV9pbmYnICwgJ2ljbycgOiAnZGlidWpvc19yZWNpZW50ZXMnICwKICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnQnVzY2FyIFBlbGknICwgb09PTzBPMCA6ICdzZWFyY2hQZWxpJyAsICdpY28nIDogJ2J1c2NhcicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0J1c2NhciBTZXJpZScgLCBvT09PME8wIDogJ3NlYXJjaFNlcmllJyAsICdpY28nIDogJ2J1c2NhcicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIGlmIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnYWN0aXZlRG93bmxvYWQnICkgOgogICBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdEZXNjYXJnYXMnICwgb09PTzBPMCA6ICdkb3dubG9hZHMnICwgJ2ljbycgOiAnZGVzY2FyZ2FzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnSGVycmFtaWVudGFzJyAsIG9PT08wTzAgOiAnaGVycmFtaWVudGFzX21lbnUnICwgJ2ljbycgOiAnaGVycmFtaWVudGFzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiByZXR1cm4gSTFJSWlJMTFJSUkKIGlmIDk0IC0gOTQ6IG9vT29vTzBPT08KIGlmIDk3IC0gOTc6IElJb29vTzBvb08wb28gLSBJaTFJICUgSTFJaUkxSUlJMTFpICsgb28KIGlmIDU1IC0gNTU6IGlpSUlpMWkxSWlpIC4gSUlJSSAvIG9vMG8gLiBpMWlJMSAqIElJb29vTzBvb08wb28KZGVmIG9PbzAwMCAoICkgOgogSTFJSWlJMTFJSUkgPSBbIF0KIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1NlcmllcycgLCBvT09PME8wIDogSWlpMSAsICdpY28nIDogSWlpMSAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMgQS1aJyAsIG9PT08wTzAgOiAnc2VyaWVzQnlBWicgLCAnaWNvJyA6IElpaTEgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnU2VyaWVzIEluZmFudGlsZXMnICwgb09PTzBPMCA6ICdzZXJpZXNfZGlidWpvcycgLCAnaWNvJyA6ICdkaWJ1am9zJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMgUmV0cm8nICwgb09PTzBPMCA6ICdzZXJpZXNfcmV0cm8nICwgJ2ljbycgOiAncmV0cm8nICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0Zhdm9yaXRvcycgLCBvT09PME8wIDogJ2xpc3RmYXYnICwgJ2ljbycgOiAnZmF2b3JpdG9zJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyBBLVonICwgb09PTzBPMCA6ICdwZWxpc0J5QVonICwgJ2ljbycgOiAncGVsaXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1BlbGlzIChHZW5lcm8pJyAsIG9PT08wTzAgOiAnbGlzdF9nZW5lcm9zJyAsICdpY28nIDogJ3BlbGlzX2dlbmVybycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnUGVsaXMgKEHDsW8pJyAsIG9PT08wTzAgOiAnYW55bycgLCAnaWNvJyA6ICdwZWxpc19hbnlvJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyBEaWJ1am9zJyAsIG9PT08wTzAgOiAncGVsaV9pbmYnICwgJ2ljbycgOiAncGVsaXNfZGlidWpvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnVG9wIFBlbGlzIChBw7FvKScgLCBvT09PME8wIDogJ2FueW9fdG9wJyAsICdpY28nIDogJ3RvcF9wZWxpcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnVG9wIFBlbGlzIERpYnVqb3MnICwgb09PTzBPMCA6ICd0b3BfcGVsaV9pbmYnICwgJ2ljbycgOiAndG9wX2RpYnVqb3MnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1BlbGlzIERpYnVqb3MgUmVjaWVudGVzJyAsIG9PT08wTzAgOiAnbGFzdF9wZWxpX2luZicgLCAnaWNvJyA6ICdkaWJ1am9zX3JlY2llbnRlcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogSTFJSWlJMTFJSUkgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnUGVsaXMgUmVjaWVudGVzJyAsIG9PT08wTzAgOiAndWx0aW1hc19wZWxpcycgLCAnaWNvJyA6ICdwZWxpc19yZWNpZW50ZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIEkxSUlpSTExSUlJIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1NlcmllcyBSZWNpZW50ZXMnICwgb09PTzBPMCA6ICd1bHRpbWFzX3NlcmllcycgLCAnaWNvJyA6ICdzZXJpZXNfcmVjaWVudGVzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTYWdhcycgLCBvT09PME8wIDogJ3NhZ2FzJyAsICdpY28nIDogJ3NhZ2FzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdCdXNjYXIgUGVsaScgLCBvT09PME8wIDogJ3NlYXJjaFBlbGknICwgJ2ljbycgOiAnYnVzY2FyJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBJMUlJaUkxMUlJSSAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdCdXNjYXIgU2VyaWUnICwgb09PTzBPMCA6ICdzZWFyY2hTZXJpZScgLCAnaWNvJyA6ICdidXNjYXInICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIGlmIDk2IC0gOTY6IElpSUkxSWlJIC8gT09PCiBpZiAyMCAtIDIwOiBJSUlJIC8gaTFpSTEgLyBvT08KIHJldHVybiBJMUlJaUkxMUlJSQogaWYgNTggLSA1ODogSTEgLiBJSW9vb08wb29PMG9vCiBpZiAxOSAtIDE5OiBJaTFJICUgaWlJSWkxaTFJaWkgLiBJSUlJIC0gSWkKZGVmIElpSTFJSTExICggZnVuY3Rpb25fbWVudSApIDoKIGlmIDQwIC0gNDA6IElpSUkxSWlJICogSWkgLSBJSW9vb08wb29PMG9vCiBJMUlJaUkxMUlJSSA9IGZ1bmN0aW9uX21lbnUKIGkxSWkxMWkgPSBbIF0KIGZvciBpSWlJSTFpSSBpbiBJMUlJaUkxMUlJSSA6CiAgaWYgaUlpSUkxaUkgWyAnaWNvJyBdIC4gbG93ZXIgKCApIC4gc3RhcnRzd2l0aCAoICdodHRwJyApIDoKICAgSTFJaUkxMTExMTExID0gaUlpSUkxaUkgWyAnaWNvJyBdCiAgZWxzZSA6CiAgIEkxSWlJMTExMTExMSA9ICclcy8lcy5wbmcnICUgKCBpaWkxMWkxSUlpICwgaUlpSUkxaUkgWyAnaWNvJyBdICkKICBPb09PME9PMG8wTyA9IE8wMDAwMDBPME9vT28gKCBub21icmUgPSAnW0NPTE9SICVzXVtCXSVzWy9CXVsvQ09MT1JdJyAlICggaTFJaUkxaWlpICwgaUlpSUkxaUkgWyAndGl0bGUnIF0gKSAsIGNhcmF0dWxhID0gSTFJaUkxMTExMTExICwKIHBvc3RlciA9ICclcy8lcy5qcGcnICUgKCBpaWkxMWkxSUlpICwgaUlpSUkxaUkgWyAnZmFuJyBdICkgKQogIGlmICdvcHRpb25zJyBpbiBpSWlJSTFpSSA6CiAgIEkxSWlpaSA9ICd7MH0/ezF9PXsyfXszfScgLiBmb3JtYXQgKCBJMWlJMTFJICwgb09PTzBPMCAsIGlJaUlJMWlJIFsgb09PTzBPMCBdICwgaUlpSUkxaUkgWyAnb3B0aW9ucycgXSApCiAgZWxzZSA6CiAgIEkxSWlpaSA9ICd7MH0/ezF9PXsyfScgLiBmb3JtYXQgKCBJMWlJMTFJICwgb09PTzBPMCAsIGlJaUlJMWlJIFsgb09PTzBPMCBdICkKICBpSWkxSWkgPSBUcnVlCiAgaWYgJ2lzU2FnYScgaW4gaUlpSUkxaUkgYW5kIGlJaUlJMWlJIFsgJ2lzU2FnYScgXSA9PSAndHJ1ZScgOgogICBPb09PME9PMG8wTyAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBJSTFJaTExaTFJaTFJICggYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBpSWlJSTFpSSBbICd0aXRsZScgXSApICkgKQogIGkxSWkxMWkgLiBhcHBlbmQgKCAoIEkxSWlpaSAsIE9vT08wT08wbzBPICwgaUlpMUlpICkgKQogdHJ5IDoKICBpZiA1MCAtIDUwOiBvMDBvTzBvbzBPME8wIC0gSUkgLiBPT08gLyBJMQogIE9PbzAwME9vICggTzBPMDAwMDAwT28gKQogZXhjZXB0IDoKICBwYXNzCiB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJaWlJSTEgLCBpMUlpMTFpICwgbGVuICggaTFJaTExaSApICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUlpaUlJMSApCiBpZiAxNSAtIDE1OiBJSW9vb08wb29PMG9vICUgSUlJSQpkZWYgT09vMDAwT28gKCB2aWV3ICkgOgogaWYgeGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBfX3NldHRpbmdzX18gLiBnZXRTZXR0aW5nICggJ0VuYWJsZVZpZXcnICkgKSA9PSAndHJ1ZScgYW5kIHZpZXcgIT0gJ25vbmUnIDoKICBpZiA3OSAtIDc5OiBJMSAuIE9Pb09vTzBvMG8wT08KICBpZiA2NiAtIDY2OiBvb29Pb08gLyBJaUlJMWkxSQogIGlmIDQ2IC0gNDY6IG9vIC4gSWlJSTFpMUkgLyBpaTFJMWlpMUlpSWkxIC4gb29vT29PIC8gSWlJSTFJaUkgLSBvT08KICBpZiAyNCAtIDI0OiBvb09vb08wT09PICUgb09PCiAgaWYgNDkgLSA0OTogSUlJSSAuIG9vICUgSUlJSSAlIE9Pb09vTzBvMG8wT08gJSBPT08gLiBJSQogIGlmIDk1IC0gOTU6IElJIC8gaTFpSTEgJSBJaTFJCiAgaWYgNDggLSA0ODogbzAwb08wb28wTzBPMCAlIGlpMUkxaWkxSWlJaTEgKiBJMUlpSTFJSUkxMWkgJSBJMSArIG9vb09vTyArIElJCiAgaWYgMzggLSAzODogaWkxSTFpaTFJaUlpMQogIGlmIDgzIC0gODM6IElpMUkKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiQ29udGFpbmVyLlNldFZpZXdNb2RlKCVzKSIgJSBzdHIgKCB2aWV3ICkgKQogIGlmIDQ4IC0gNDg6IGlpSUlpMWkxSWlpCmRlZiBPMDBvMDBPMDAwTyAoIGNhdGVnb3JpZXMgKSA6CiBJaTExaTFpSWlJSTExID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBfX3NldHRpbmdzX18gLiBnZXRTZXR0aW5nICggJ2ZhdlNhZ2EnICkgKQogaWYgSWkxMWkxaUlpSUkxMSAhPSAnJyBhbmQgSWkxMWkxaUlpSUkxMSAhPSAnZmFsc2UnIDoKICBpZiAzNCAtIDM0OiBpaUlJaTFpMUlpaSAuIG9vICUgb29Pb29PME9PTwogIEkxSTFJaWlJaTEgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBsYWJlbCA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggSWkxMWkxaUlpSUkxMSApICwgaWNvbkltYWdlID0gJ2h0dHBzOi8vaS5pbWd1ci5jb20vSk5TNkE4TS5wbmcnICkKICBjYXRlZ29yaWVzIC4gYXBwZW5kICgKIHsgJ3RpdGxlJyA6IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggSWkxMWkxaUlpSUkxMSApICwgb09PTzBPMCA6ICdzYWdhX2RldGFpbCZzYWdhPSVzJyAlIElpMTFpMWlJaUlJMTEgLAogJ2ljbycgOiAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9KTlM2QThNLnBuZycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInICwgJ2lzU2FnYScgOiAndHJ1ZScgfSApCiAgaWYgMjkgLSAyOTogaWlJSWkxaTFJaWkgLSBJSW9vb08wb29PMG9vIC8gSUlvb29PMG9vTzBvbwogb09vTzBPMDAwMDAgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGkxMWkgKQogSUlpSWlpMUlpSTFpID0gb09vTzBPMDAwMDAgLiBjdXJzb3IgKCApCiBJSWlJaWkxSWlJMWkgLiBleGVjdXRlICggInNlbGVjdCBlc3BlY2lhbCBmcm9tIHZlcnNpb24iICkKIElpMTExSSA9IElJaUlpaTFJaUkxaSAuIGZldGNoYWxsICggKQogb09vTzBPMDAwMDAgLiBjbG9zZSAoICkKIGlmIElpMTExSSBbIDAgXSBpcyBub3QgTm9uZSBhbmQgSWkxMTFJIFsgMCBdIFsgMCBdIGlzIG5vdCBOb25lIDoKICBvMDAwMDBPbyA9IElpMTExSSBbIDAgXSBbIDAgXSAuIHNwbGl0ICggJyMnICkKICBJMWlJSTFJSTFpSUkgPSAwCiAgZm9yIGlpaTFJaUkgaW4geHJhbmdlICggMCAsIGxlbiAoIG8wMDAwME9vICkgLyAyICkgOgogICBpZiA1NyAtIDU3OiBJSUlJICsgT09PICogb29vT29PICsgb28gLyBvbyAtIG9vb09vTwogICBpZiAzIC0gMzogSUlvb29PMG9vTzBvbyAqIElpCiAgIGNhdGVnb3JpZXMgLiBhcHBlbmQgKCB7ICd0aXRsZScgOiBvMDAwMDBPbyBbIGlpaTFJaUkgKiAyIF0gLCBvT09PME8wIDogJ3NhZ2FfZGV0YWlsJnNhZ2E9JXMnICUgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBvMDAwMDBPbyBbIGlpaTFJaUkgKiAyIF0gKSAsICdpY28nIDogbzAwMDAwT28gWyAoIGlpaTFJaUkgKiAyICkgKyAxIF0gLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogICBpZiAxMyAtIDEzOiBpaUlJaTFpMUlpaQpkZWYgaTExSWkxMUlJMWkgKCBwYXJhbXMgKSA6CiBpZiAyMyAtIDIzOiBPT29Pb08wbzBvME9PIC8gbzAwb08wb28wTzBPMCAuIEkxSWlJMUlJSTExaSArIGlpSUlpMWkxSWlpIC4gSWkgLSBvT08KIE9vMG9vT28wb28gPSB4Ym1jIC4gZ2V0Q29uZFZpc2liaWxpdHkgKCAnU3lzdGVtLkhhc0FkZG9uKCVzKScgJSBwYXJhbXMgWyAnb3B0aW9ucycgXSApCiBpZiBPbzBvb09vMG9vIDoKICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCAnRWwgYWRkb24geWEgZXN0YWJhIGluc3RhbGFkbycgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKIGVsc2UgOgogIGlmIDkxIC0gOTE6IG9vT29vTzBPT08gKiBPT29Pb08wbzBvME9PICUgaWkxSTFpaTFJaUlpMQogIGlmIDYgLSA2OiBvbyAlIGlpSUlpMWkxSWlpICUgbzAwb08wb28wTzBPMCAqIG9vICsgSUlvb29PMG9vTzBvbyAvIElJCiAgaWYgNDQgLSA0NDogaWkxSTFpaTFJaUlpMSAlIElpMUkKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAneGJtYy5pbnN0YWxsYWRkb24oJXMpJyAlIHBhcmFtcyBbICdvcHRpb25zJyBdICwgVHJ1ZSApCiAgaWYgMTMgLSAxMzogSWkgLSBJaUlJMUlpSQogIGlmIDggLSA4OiBJaUlJMWkxSQogIGlmIDk1IC0gOTU6IE9Pb09vTzBvMG8wT08gLiBvbzBvCmRlZiBPME9PMDAwMDAwb08wICggcGFyYW1zICkgOgogcGFyYW1zIFsgJ3NxbF9jb25kJyBdID0gJ2FjdGl2ZSA+IDAgIGFuZCBncm91cF9pZCA9ICcgKyBwYXJhbXMgWyAnZ3JvdXBJZCcgXQogSWkxMTFJID0gTzAwMG8wMDBvME9vICggInBlbGlzIiAsCiBbICJwZWxpX2lkIiAsICJhdWRpbyIgLCAiJyciICwgInRhZ3MiICwgIicnIiAsICInJyIgLCAibGluayIgLCAiJ3F1YWxpdHknIiAsICJub21icmUiICwgImFubm8iICwgInNpbm9wc2lzIiAsCiAiY2FyYXR1bGEiICwgInBvc3RlciIgLCAic3RyZnRpbWUoJyVZLSVtLSVkJyx1cGRhdGVkKSwgcHVudG9zLCBjYXRlZ29yeSwgYWN0aXZlLCB0bWRiIgogXSAsIFsgXSAsIFsgXSAsIFsgJ3RhZ3MgYXNjJyBdICwgcGFyYW1zICkKIHhibWNwbHVnaW4gLiBzZXRDb250ZW50ICggaWlJSWlpSUkxICwgIm1vdmllcyIgKQogT09vMDAwT28gKCBPTzBPMCApCiBpZiBsZW4gKCBJaTExMUkgKSA+IDAgOgogIGkxSWkxMWkgPSBbIF0KICBmb3IgSUlJMUkxaUkxSTFpSSBpbiBJaTExMUkgOgogICBPbzAwbzBPMG9PbzAgPSBbIF0KICAgSTFpMSA9IElJSTFJMWlJMUkxaUkgWyA4IF0KICAgaWYgaXNpbnN0YW5jZSAoIEkxaTEgLCB1bmljb2RlICkgOgogICAgSTFpMSA9IEkxaTEgLiBlbmNvZGUgKCAndXRmLTgnICkKICAgSTFJaUkxMTExMTExID0gSUlJMUkxaUkxSTFpSSBbIDExIF0KICAgSWkxMUkxMUlpMTFJID0gSUlJMUkxaUkxSTFpSSBbIDEyIF0KICAgaUlJSUlpMSA9IGl0aGlsIC4gSTFJaUkxaWkxaTFpMSAoIElJSTFJMWlJMUkxaUkgWyA2IF0gKQogICBpZiBpSUlJSWkxID09ICdkcml2ZScgb3IgaUlJSUlpMSA9PSAnRHJpdmUnIDoKICAgIGlJSUlJaTEgPSAnVGVhbScKICAgaWlJID0gJ1tDT0xPUiAlc11TZXJ2aWRvcjogJXMgWy9DT0xPUl0nICUgKCBJMTExaTExSTFJICwgaUlJSUlpMSApCiAgIGlmIElJSTFJMWlJMUkxaUkgWyAzIF0gOgogICAgaWlJID0gaWlJICsgJ1tDT0xPUiAlc10gKCVzKSBbL0NPTE9SXScgJSAoIGlpaTFJSSAsIHN0ciAoIElJSTFJMWlJMUkxaUkgWyAzIF0gLiByZXBsYWNlICggJyMnICwgJyAnICkgKSApCiAgIGlmIG5vdCBJMUlpSTExMTExMTEgOgogICAgSTFJaUkxMTExMTExID0gTm9uZQogICBpZiBub3QgSWkxMUkxMUlpMTFJIDoKICAgIElpMTFJMTFJaTExSSA9IE5vbmUKICAgaWYgSUlJMUkxaUkxSTFpSSBbIDEgXSAhPSAnRVMnIDoKICAgIGlpSSA9IGlpSSArICcgW0NPTE9SICVzXSglcylbL0NPTE9SXSAnICUgKCBvME8wb08wICwgc3RyICggSUlJMUkxaUkxSTFpSSBbIDEgXSAuIHJlcGxhY2UgKCAnIycgLCAnICcgKSApICkKICAgT29PTzBPTzBvME8gPSBPMDAwMDAwTzBPb09vICggbm9tYnJlID0gaWlJICwgY2FyYXR1bGEgPSBJMUlpSTExMTExMTEgLAogcG9zdGVyID0gSWkxMUkxMUlpMTFJICwgdmlkZW8gPSB7ICd0aXRsZScgOiBJMWkxICwgJ3llYXInIDogSUlJMUkxaUkxSTFpSSBbIDkgXSAsICdwbG90JyA6IElJSTFJMWlJMUkxaUkgWyAxMCBdIH0gLCBpc1BsYXlhYmxlID0gVHJ1ZSApCiAgIGlmIDIyIC0gMjI6IEkxSWlJMUlJSTExaSAqIG9vT29vTzBPT08gKyBpaTFJMWlpMUlpSWkxIC0gSUlvb29PMG9vTzBvbyAuIEkxSWlJMUlJSTExaSAuIGkxaUkxCiAgIEkxSWlpaSA9ICd7MH0/YWN0aW9uPXsxfSZpZD17Mn0mbGluPXszfSZ0aXQ9ezR9JnR5cGU9ezV9JyAuIGZvcm1hdCAoIEkxaUkxMUkgLCAncGxheScgLCBJSUkxSTFpSTFJMWlJIFsgMCBdICwgSUlJMUkxaUkxSTFpSSBbIDYgXSAsCiBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoCiB1bmljb2RlICggSTFpMSAsIG9vb09PTyApIC4gZW5jb2RlICgKIG9vb09PTyApICkgLCAncGVsaXMnICkKICAgaWYgbGVuICggSUlJMUkxaUkxSTFpSSApID4gMTYgYW5kIElJSTFJMWlJMUkxaUkgWyAxNiBdID09IDIgYW5kIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnYWN0aXZlRG93bmxvYWQnICkgOgogICAgT28wMG8wTzBvT28wIC4gYXBwZW5kICgKIElpSUlpSSAoIGlkID0gJyVzLSVzLSVzJyAlICggc3RyICggSUlJMUkxaUkxSTFpSSBbIDAgXSApICwgc3RyICggSUlJMUkxaUkxSTFpSSBbIDEgXSApICwgSUlJMUkxaUkxSTFpSSBbIDIgXSApICwgdHlwZSA9ICdwZWxpcycgLAogbm9tYnJlID0gSTFpMSAsCiB1cmwgPSBJSUkxSTFpSTFJMWlJIFsgNiBdICwKIGNhcmF0dWxhID0gSTFJaUkxMTExMTExICwgcG9zdGVyID0gSWkxMUkxMUlpMTFJICwgcmVtb3ZlID0gRmFsc2UgKSApCiAgIE9vT08wT08wbzBPIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIE9vMDBvME8wb09vMCApCiAgIGlmIDg3IC0gODc6IEkxIC8gb28gKiBpaUlJaTFpMUlpaQogICBpMUlpMTFpIC4gYXBwZW5kICggKCBJMUlpaWkgLCBPb09PME9PMG8wTyAsIEZhbHNlICkgKQogIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUlpaUlJMSAsIGkxSWkxMWkgLCBsZW4gKCBpMUlpMTFpICkgKQogIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUlpaUlJMSApCiAgaWYgNzUgLSA3NTogT09vT29PMG8wbzBPTyAqIEkxIC8gb29vT29PIC8gb29vT29PIC0gT09PCmRlZiBPMDAwbzBvbzBvICggYWN0aW9uVmFsdWUgLCByb3cgLCB1cmwgLCBwYXRoICkgOgogT28wbzBPID0gTm9uZQogaWkxaUlpMSA9IHsgfQogaWYgNTggLSA1ODogaWkxSTFpaTFJaUlpMSAqIElJSUkgLyBPT08KIHRyeSA6CiAgSWkxMWlJSTFpICwgaTFJMUkxMTExMSA9IGFub3IgLiBJMWkxSTFpSTExSSAoCiAnc2VsZWN0IGZpbGVzLmlkRmlsZSwgaWRQYXRoLCBzdHJGaWxlbmFtZSwgcGxheUNvdW50LCBpVmlkZW9XaWR0aHx8IngifHxpVmlkZW9IZWlnaHQsaVN0cmVhbVR5cGUgZnJvbSBmaWxlcyBsZWZ0IGpvaW4gc3RyZWFtZGV0YWlscyBvbiBzdHJlYW1kZXRhaWxzLmlkRmlsZSA9IGZpbGVzLmlkRmlsZSB3aGVyZSBpZFBhdGg9KFNlbGVjdCBpZFBhdGggZnJvbSBwYXRoIHdoZXJlIHN0clBhdGg9InBsdWdpbjovL3BsdWdpbi52aWRlby5wYWxhbnRpci8iKSBhbmQgc3RyRmlsZW5hbWUgbGlrZSAicGx1Z2luOi8vcGx1Z2luLnZpZGVvLnBhbGFudGlyLz9hY3Rpb249JXMmJXMiJyAlICgKIGFjdGlvblZhbHVlICwgcGF0aCApICkKICBmb3Igb09vb09vTzAwT28gaW4gaTFJMUkxMTExMSA6CiAgIGlmIDI2IC0gMjY6IE9PTyAtIE9PTyArIEkxSWlJMUlJSTExaQogICBpaTFpSWkxIFsgb09vb09vTzAwT28gWyAyIF0gXSA9IG9Pb29Pb08wME9vCiBleGNlcHQgOgogIHBhc3MKICBpZiAxOCAtIDE4OiBpaTFJMWlpMUlpSWkxICogSTEgLiBvbzBvCiBpZiBhY3Rpb25WYWx1ZSA9PSBJaUlJaTFJMUlpIG9yIGFjdGlvblZhbHVlID09ICdsaXN0X3RlbXAnIG9yIGFjdGlvblZhbHVlID09ICd2aWV3X3RlbXAnIDoKICBpZiB1cmwgaW4gaWkxaUlpMSA6CiAgIGlmIGlpMWlJaTEgWyB1cmwgXSBbIDMgXSA+IDAgOgogICAgT28wbzBPID0gSWlvb28gKCBpaTFpSWkxIFsgdXJsIF0gWyAwIF0gLCBpaTFpSWkxIFsgdXJsIF0gWyAxIF0gLCBpaTFpSWkxIFsgdXJsIF0gWyAyIF0gLCBGYWxzZSApCiAgIGVsc2UgOgogICAgT28wbzBPID0gSWlvb28gKCBpaTFpSWkxIFsgdXJsIF0gWyAwIF0gLCBpaTFpSWkxIFsgdXJsIF0gWyAxIF0gLCBpaTFpSWkxIFsgdXJsIF0gWyAyIF0gLCBUcnVlICkKICAgIGlmIDgzIC0gODM6IElpIC8gb09PCiAgICBpZiA1MCAtIDUwOiBvT08gKiBJaUlJMWkxSSAqIElJSUkgKiBJaUlJMWkxSSAqIElpSUkxSWlJCiAgICBpZiAyNCAtIDI0OiBJaSAuIG9vb09vTyArIEkxICogb28wbyAqIElJb29vTzBvb08wb28gLyBJMQogICAgaWYgNzkgLSA3OTogb29Pb29PME9PTyAtIG9PTyArIE9Pb09vTzBvMG8wT08gLSBvb29Pb08gLiBvbyAqIG9vCiAgZWxzZSA6CiAgIGlmIDcyIC0gNzI6IEkxSWlJMUlJSTExaSAlIG9vCiAgIE9vMG8wTyA9IElpb29vICggMCAsIE9PbzBvbyAsIHVybCAsIFRydWUgKQogcmV0dXJuIE9vMG8wTwogaWYgNDggLSA0ODogb29Pb29PME9PTwogaWYgNjAgLSA2MDogaTFpSTEgKyBJaQpkZWYgT29vTzAwT09vME9PTyAoIHJvd3MgPSBbIF0gLCB0eXBlID0gSWlpMSAsIGNhcmF0ID0gTm9uZSAsIHBvc3RlID0gTm9uZSAsIGluZm8gPSB7IH0gKSA6CiB0cnkgOgogIGlmIHR5cGUgPT0gSWlpMSA6CiAgIHhibWNwbHVnaW4gLiBzZXRDb250ZW50ICggaWlJSWlpSUkxICwgImVwaXNvZGVzIiApCiAgIE9PbzAwME9vICggaWkxaTFpaTFJICkKICBlbHNlIDoKICAgeGJtY3BsdWdpbiAuIHNldENvbnRlbnQgKCBpaUlJaWlJSTEgLCAibW92aWVzIiApCiAgIE9PbzAwME9vICggT08wTzAgKQogZXhjZXB0IDoKICBwYXNzCiAgaWYgNzkgLSA3OTogSUlJSSAvIElJICUgSTFJaUkxSUlJMTFpIC0gSTFJaUkxSUlJMTFpCiBpaTFpSWkxID0geyB9CiBpZiAzMiAtIDMyOiBvT08KIGlmIDE2IC0gMTY6IElpSUkxaTFJICUgb29vT29PICogb09PICsgb29Pb29PME9PTwogaWYgMzIgLSAzMjogb28gLiBvT08gKiBvMDBvTzBvbzBPME8wICsgSWlJSTFJaUkgLyBvb29Pb08gLiBJaQogaWYgODIgLSA4MjogSUlJSSArIElpIC8gb28wbwogaWYgOTggLSA5ODogbzAwb08wb28wTzBPMCAuIG9vT29vTzBPT08gJSBPT29Pb08wbzBvME9PICUgSWkxSSArIElpICUgb09PCiBpZiA5MiAtIDkyOiBJaSAvIG9vMG8KIGlmIDM4IC0gMzg6IElpMUkgKiBvbyArIG9PTwogaWYgNzIgLSA3MjogbzAwb08wb28wTzBPMCArIG9vb09vTwogaWYgMTggLSAxODogSTFJaUkxSUlJMTFpIC8gT09PCiBpaTExSWlpSUlJaSA9IHsgfQogaTFJaTExaSA9IFsgXQogTzBvT28wb29PMG8gPSAnJwogaWYgbGVuICggcm93cyApID4gMCA6CiAgZm9yIElJSTFJMWlJMUkxaUkgaW4gcm93cyA6CiAgIGlmIDMgLSAzOiBJSSAtIElJIC4gbzAwb08wb28wTzBPMCAlIElJSUkgLSBvb29Pb08KICAgT28wMG8wTzBvT28wID0gWyBdCiAgIG9PT0kxSTFpMTEgPSBsZW4gKCBJSUkxSTFpSTFJMWlJICkKICAgT29PTzAwID0gSUlJMUkxaUkxSTFpSSBbIDAgXQogICBpSWlpaTFJaSA9IElJSTFJMWlJMUkxaUkgWyAxIF0KICAgaTFJaWlpMWlpaWkgPSBJSUkxSTFpSTFJMWlJIFsgMiBdCiAgIEkxT08gPSBJSUkxSTFpSTFJMWlJIFsgNiBdCiAgIGlmIDE2IC0gMTY6IElpIC8gaTFpSTEgLyBJaTFJCiAgIGlmIDc4IC0gNzg6IEkxIC0gaWlJSWkxaTFJaWkgLyBvb29Pb08gKiBJSQogICBpZiAzNyAtIDM3OiBJMUlpSTFJSUkxMWkgJSBvb09vb08wT09PIC0gSUlvb29PMG9vTzBvbyAqIElpSUkxSWlJIC4gaWlJSWkxaTFJaWkgJSBvbwogICBpZiA3MyAtIDczOiBvb09vb08wT09PICogSWlJSTFJaUkgKyBJSUlJICogaWlJSWkxaTFJaWkgJSBvT08KICAgaWlJID0gSUlJMUkxaUkxSTFpSSBbIDggXQogICBpMUkxSTFpSUlpSUkxID0gSUlJMUkxaUkxSTFpSSBbIDkgXQogICBPb08gPSBJSUkxSTFpSTFJMWlJIFsgMTAgXQogICBJMUlpSTExMTExMTEgPSBJSUkxSTFpSTFJMWlJIFsgMTEgXQogICBJaTExSTExSWkxMUkgPSBJSUkxSTFpSTFJMWlJIFsgMTIgXQogICBpZiBpaUkgOgogICAgSTFpMSA9IGlpSQogICAgaWYgdHlwZSA9PSAnc2VyaWVzJyA6CiAgICAgaWlJID0gJ1tDT0xPUiAlc10gJXNbL0NPTE9SXScgJSAoIE8wME8wMDAgLCBpaUkgKQogICAgZWxzZSA6CiAgICAgaWlJID0gJ1tDT0xPUiAlc10gJXNbL0NPTE9SXScgJSAoIE8wT09PICwgaWlJICkKICAgZWxzZSA6CiAgICBJMWkxID0gc3RyICggaUlpaWkxSWkgKSArICd4JyArIGkxSWlpaTFpaWlpCiAgICBpaUkgPSBzdHIgKCBpSWlpaTFJaSApICsgJ3gnICsgaTFJaWlpMWlpaWkKICAgTzBvT28wb29PMG8gPSBJMWkxCiAgIGlmIDYxIC0gNjE6IElpSUkxaTFJIC0gSUkgLyBpaTFJMWlpMUlpSWkxIC0gaWkxSTFpaTFJaUlpMSAlIE9PTwogICBpZiBvT09JMUkxaTExID49IDIxIDoKICAgIG9PT09PTyA9IElJSTFJMWlJMUkxaUkgWyAyMCBdCiAgICBpZiA0OSAtIDQ5OiBvT08gLiBvbyAqIElpIC4gb28wbyAuIEkxSWlJMUlJSTExaSAuIElJb29vTzBvb08wb28KICAgZWxzZSA6CiAgICBvT09PT08gPSBJSUkxSTFpSTFJMWlJIFsgMyBdCiAgICBpZiA0NiAtIDQ2OiBJSUlJICsgbzAwb08wb28wTzBPMCArIGlpMUkxaWkxSWlJaTEgJSBJSW9vb08wb29PMG9vIC4gT09PCiAgIGlmIG9PT09PTyBhbmQgb09PT09PICE9ICdOb25lJyA6CiAgICBpaUkgPSBpaUkgKyAnW0NPTE9SICVzXSAoJXMpIFsvQ09MT1JdJyAlICggaWlpMUlJICwgc3RyICggIiAiIC4gam9pbiAoIHNldCAoIG9PT09PTyAuIHNwbGl0ICggJyMnICkgKSApICkgKQogICBpZiBpbmZvIGFuZCAncHVudG9zJyBpbiBpbmZvIGFuZCBJSUkxSTFpSTFJMWlJIFsgMTQgXSA6CiAgICBpaUkgPSBpaUkgKyAnIFslc10gJyAlIHN0ciAoIElJSTFJMWlJMUkxaUkgWyAxNCBdICkKICAgaWYgaW5mbyBhbmQgJ2Fubm8nIGluIGluZm8gYW5kIGkxSTFJMWlJSWlJSTEgOgogICAgaWlJID0gaWlJICsgJyAoJXMpICcgJSBzdHIgKCBpMUkxSTFpSUlpSUkxICkKICAgIGlmIDIyIC0gMjI6IG9vMG8gKiBJaSArIElpSUkxSWlJICUgSUlJSQogICBpZiBvT09JMUkxaTExID49IDIyIGFuZCB0eXBlID09ICdwZWxpcycgOgogICAgaWYgODEgLSA4MTogaTFpSTEgLiBJaUlJMUlpSSAvIG9vICsgb28wbyAtIEkxSWlJMUlJSTExaSAtIElpMUkKICAgIEkxMWlJaSA9IHNldCAoIElJSTFJMWlJMUkxaUkgWyAyMSBdIC4gc3BsaXQgKCAnIycgKSApCiAgICBpZiA2IC0gNjogSWkgLSBPT29Pb08wbzBvME9PCiAgICBpZiAoICdFUycgbm90IGluIEkxMWlJaSBhbmQgbGVuICggSTExaUlpICkgPT0gMSApIG9yIGxlbiAoIEkxMWlJaSApID49IDIgOgogICAgIGlpSSA9IGlpSSArICcgW0NPTE9SICVzXSglcylbL0NPTE9SXSAnICUgKCBvME8wb08wICwgc3RyICggIiAiIC4gam9pbiAoIEkxMWlJaSApICkgKQogICBpZiBpbmZvIGFuZCAnZGF0ZScgaW4gaW5mbyA6CiAgICBpaUkgPSBpaUkgKyAnICglcykgJyAlIHN0ciAoIElJSTFJMWlJMUkxaUkgWyAxMyBdICkKICAgaWYgbm90IEkxSWlJMTExMTExMSA6CiAgICBJMUlpSTExMTExMTEgPSBjYXJhdAogICBpZiBub3QgSWkxMUkxMUlpMTFJIDoKICAgIElpMTFJMTFJaTExSSA9IHBvc3RlCiAgIE9vT08wT08wbzBPID0gTzAwMDAwME8wT29PbyAoIG5vbWJyZSA9IGlpSSAsIGNhcmF0dWxhID0gSTFJaUkxMTExMTExICwKIHBvc3RlciA9IElpMTFJMTFJaTExSSAsIHZpZGVvID0geyAndGl0bGUnIDogaWlJICwgJ3llYXInIDogaTFJMUkxaUlJaUlJMSAsICdwbG90JyA6IE9vTyB9ICwgaXNQbGF5YWJsZSA9IFRydWUgKQogICBpZiAyNiAtIDI2OiBpaTFJMWlpMUlpSWkxIC8gb28wbyArIE9Pb09vTzBvMG8wT08gLyBJaSAqIEkxSWlJMUlJSTExaQogICBpZiBpc2luc3RhbmNlICggSTFpMSAsIHVuaWNvZGUgKSA6CiAgICBJMWkxID0gSTFpMSAuIGVuY29kZSAoICd1dGYtOCcgKQogICAgaWYgMTIgLSAxMjogSWkxSSAvIG9vMG8gLSBJMUlpSTFJSUkxMWkgKiBJSW9vb08wb29PMG9vCiAgIE9vb09PMDAwMG9Pb08gPSB0eXBlCiAgIGlmIDk3IC0gOTc6IG9PTwogICBPT08wME9PTzAwb28gPSAncGxheScKICAgaWYgMjkgLSAyOTogb09PICogSUkgLSBJaUlJMUlpSSAlIEkxSWlJMUlJSTExaSAlIElJCiAgIGlmIG9PT0kxSTFpMTEgPiAyMCBhbmQgSUlJMUkxaUkxSTFpSSBbIDE5IF0gPiAxIDoKICAgIE9PTzAwT09PMDBvbyA9IElpSUlpMUkxSWkKICAgIGlmIDMwIC0gMzA6IElpSUkxSWlJIC4gSWlJSTFpMUkKICAgIGlmIElJSTFJMWlJMUkxaUkgWyAxOCBdIDoKICAgICBPb29PTzAwMDBvT29PID0gT29vT08wMDAwb09vTyArICcmZ3JvdXBJZD0nICsgc3RyICggSUlJMUkxaUkxSTFpSSBbIDE4IF0gKQogICAgIGlmIDI0IC0gMjQ6IGkxaUkxIC8gb28wbwogICBJMUlpaWkgPSAnezB9P2FjdGlvbj17MX0maWQ9ezJ9Jmxpbj17M30mdGl0PXs0fSZ0eXBlPXs1fScgLiBmb3JtYXQgKCBJMWlJMTFJICwgT09PMDBPT08wMG9vICwgT29PTzAwICwgSTFPTyAsCiBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoCiB1bmljb2RlICggSTFpMSAsIG9vb09PTyApIC4gZW5jb2RlICgKIG9vb09PTyApICkgLCBPb29PTzAwMDBvT29PICkKICAgaWYgNDUgLSA0NTogSWkgLSBvMDBvTzBvbzBPME8wIC4gSWlJSTFJaUkgLSBJaUlJMWkxSSAuIGkxaUkxIC8gaTFpSTEKICAgaWYgdHlwZSA9PSAncGVsaXMnIGFuZCB4Ym1jIC4gZ2V0Q29uZFZpc2liaWxpdHkgKCAnU3lzdGVtLkhhc0FkZG9uKHNjcmlwdC5leHRlbmRlZGluZm8pJyApIGFuZCBJSUkxSTFpSTFJMWlJIFsgMTcgXSBhbmQgSUlJMUkxaUkxSTFpSSBbIDE3IF0gLiBzdGFydHN3aXRoICggJ2h0dHBzOi8vd3d3LnRoZW1vdmllZGIub3JnJyApIDoKICAgIE9vMDBvME8wb09vMCAuIGFwcGVuZCAoICggIkV4dGVuZGVkSW5mbyIgLCAiWEJNQy5SdW5TY3JpcHQoc2NyaXB0LmV4dGVuZGVkaW5mbyxpbmZvPWV4dGVuZGVkaW5mbyxpZD0lcyxuYW1lPSVzKSIgJSAoIHN0ciAoIElJSTFJMWlJMUkxaUkgWyAxNyBdIC4gc3BsaXQgKCAnLycgKSBbIC0gMSBdIC4gc3BsaXQgKCAnLScgKSBbIDAgXSApICwgSTFpMSApICkgKQogICAgaWYgNDAgLSA0MDogSWlJSTFpMUkgLSBJSUlJICsgSUkgLiBJSUlJICsgb29Pb29PME9PTwogICBPMDBPMDBvME9PTzAwID0gTzAwMG8wb28wbyAoIE9PTzAwT09PMDBvbyAsIElJSTFJMWlJMUkxaUkgLCBJMUlpaWkgLCAnaWQ9JyArIHN0ciAoIElJSTFJMWlJMUkxaUkgWyAwIF0gKSArICclJyApCiAgIGlmIDY3IC0gNjc6IElJSUkgLiBJSQogICBpZiBPMDBPMDBvME9PTzAwIDoKICAgIE9vMDBvME8wb09vMCAuIGFwcGVuZCAoIE8wME8wMG8wT09PMDAgKQogICAgaWYgODMgLSA4MzogaWkxSTFpaTFJaUlpMSAlIElJIC4gSWlJSTFJaUkKICAgT28wMG8wTzBvT28wIC4gYXBwZW5kICgKIE9PMG8wTzAgKCBpZCA9ICclcy0lcy0lcycgJSAoIHN0ciAoIE9vT08wMCApICwgc3RyICggaUlpaWkxSWkgKSAsIGkxSWlpaTFpaWlpICkgLCB0eXBlID0gdHlwZSAsIG5vbWJyZSA9IGlpSSAsCiB1cmwgPSBJMUlpaWkgLAogY2FyYXR1bGEgPSBJMUlpSTExMTExMTEgLCBwb3N0ZXIgPSBJaTExSTExSWkxMUkgLCBmYXYgPSBpMTFpaWkgLCBmYXZMaXRlcmFsID0gJycgKSApCiAgIGlmIHR5cGUgPT0gJ3NlcmllcycgOgogICAgT28wMG8wTzBvT28wIC4gYXBwZW5kICgKIE9PMG8wTzAgKCBpZCA9ICclcy0lcy0lcycgJSAoIHN0ciAoIE9vT08wMCApICwgc3RyICggaUlpaWkxSWkgKSAsIGkxSWlpaTFpaWlpICkgLCB0eXBlID0gdHlwZSAsIG5vbWJyZSA9IGlpSSAsIHVybCA9IEkxSWlpaSAsCiBjYXJhdHVsYSA9IEkxSWlJMTExMTExMSAsIHBvc3RlciA9IElpMTFJMTFJaTExSSAsIGZhdiA9IGkxMSAsIHRleHQgPSAnU2VyaWVzJyAsIGZhdkxpdGVyYWwgPSAncycgKSApCiAgICBpZiA0NSAtIDQ1OiBJaQogICAgaWYgNTIgLSA1MjogaTFpSTEKICAgIGlmIDczIC0gNzM6IElpSUkxSWlJIC4gb28wbyAtIEkxIC8gSTEgJSBvbzBvIC4gSWlJSTFpMUkKICAgIGlmIDU3IC0gNTc6IG8wMG9PMG9vME8wTzAgKiBJSW9vb08wb29PMG9vIC0gSTFJaUkxSUlJMTFpCiAgICBpZiAyNyAtIDI3OiBvbzBvICogSUlJSSAqIG9vb09vTyAvIEkxIC0gaWkxSTFpaTFJaUlpMQogICAgaWYgNzAgLSA3MDogSWkgKiBJaUlJMWkxSSAqIElpMUkgKyBJMSAlIE9PTyAuIG9vCiAgIGlmIGxlbiAoIElJSTFJMWlJMUkxaUkgKSA+IDE1IGFuZCAnRGlidWpvcycgaW4gSUlJMUkxaUkxSTFpSSBbIDE1IF0gOgogICAgaWYgODAgLSA4MDogbzAwb08wb28wTzBPMCAvIElJSUkKICAgIE9vMDBvME8wb09vMCAuIGFwcGVuZCAoCiBPTzBvME8wICggaWQgPSAnJXMtJXMtJXMnICUgKCBzdHIgKCBPb09PMDAgKSAsIHN0ciAoIGlJaWlpMUlpICkgLCBpMUlpaWkxaWlpaSApICwgdHlwZSA9IHR5cGUgLCBub21icmUgPSBpaUkgLAogdXJsID0gSTFJaWlpICwKIGNhcmF0dWxhID0gSTFJaUkxMTExMTExICwgcG9zdGVyID0gSWkxMUkxMUlpMTFJICwgZmF2ID0gb29JSUlJICwgdGV4dCA9ICdEaWJ1am9zJyAsIGZhdkxpdGVyYWwgPSAnZCcgKSApCiAgIGVsc2UgOgogICAgT28wMG8wTzBvT28wIC4gYXBwZW5kICgKIE9PMG8wTzAgKCBpZCA9ICclcy0lcy0lcycgJSAoIHN0ciAoIE9vT08wMCApICwgc3RyICggaUlpaWkxSWkgKSAsIGkxSWlpaTFpaWlpICkgLCB0eXBlID0gdHlwZSAsIG5vbWJyZSA9IGlpSSAsCiB1cmwgPSBJMUlpaWkgLAogY2FyYXR1bGEgPSBJMUlpSTExMTExMTEgLCBwb3N0ZXIgPSBJaTExSTExSWkxMUkgLCBmYXYgPSBJaWlJaTExaUlJSTEgLCB0ZXh0ID0gJ1BlbGlzJyAsIGZhdkxpdGVyYWwgPSAncCcgKSApCiAgICBpZiAzMCAtIDMwOiBvb29Pb08gLSBJSW9vb08wb29PMG9vIC0gbzAwb08wb28wTzBPMCArIG9vMG8gLyBvbyAtIEkxCiAgICBpZiAyNyAtIDI3OiBJSUlJIC0gSUkgKyBvb29Pb08gLyBJSSAuIG9vT29vTzBPT08KICAgaWYgSUlJMUkxaUkxSTFpSSBbIDE2IF0gPT0gMiBhbmQgX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdhY3RpdmVEb3dubG9hZCcgKSBhbmQgT09PMDBPT08wMG9vICE9IElpSUlpMUkxSWkgOgogICAgT28wMG8wTzBvT28wIC4gYXBwZW5kICgKIElpSUlpSSAoIGlkID0gJyVzLSVzLSVzJyAlICggc3RyICggT29PTzAwICkgLCBzdHIgKCBpSWlpaTFJaSApICwgaTFJaWlpMWlpaWkgKSAsIHR5cGUgPSB0eXBlICwgbm9tYnJlID0gSTFpMSAsCiB1cmwgPSBJMU9PICwKIGNhcmF0dWxhID0gSTFJaUkxMTExMTExICwgcG9zdGVyID0gSWkxMUkxMUlpMTFJICwgcmVtb3ZlID0gRmFsc2UgKSApCiAgIE9vT08wT08wbzBPIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIE9vMDBvME8wb09vMCApCiAgIGlmIDMwIC0gMzA6IGkxaUkxICUgSTFJaUkxSUlJMTFpCiAgIGlmIDk5IC0gOTk6IG8wMG9PMG9vME8wTzAgLyBPT08KICAgaWYgMTMgLSAxMzogSWlJSTFpMUkgLiBJaTFJIC8gaWlJSWkxaTFJaWkKICAgaWYgMzEgLSAzMTogSUkKICAgaWYgMzcgLSAzNzogb09PIC4gaWkxSTFpaTFJaUlpMSAvIElpSUkxSWlJIC0gaWkxSTFpaTFJaUlpMSAqIG8wMG9PMG9vME8wTzAKICAgaWYgT09PMDBPT08wMG9vID09IElpSUlpMUkxSWkgOgogICAgaUlpMUlpID0gVHJ1ZQogICBlbHNlIDoKICAgIGlJaTFJaSA9IEZhbHNlCiAgIGkxSWkxMWkgLiBhcHBlbmQgKCAoIEkxSWlpaSAsIE9vT08wT08wbzBPICwgaUlpMUlpICkgKQogICBpZiA1MSAtIDUxOiBJMUlpSTFJSUkxMWkgLSBPT08gKyBpaUlJaTFpMUlpaQogICBpZiAyMCAtIDIwOiBJSUlJIC0gbzAwb08wb28wTzBPMCAqIG9vIC0gb29vT29PCiAgIGlmIDQgLSA0OiBvbyAlIElJSUkgKiBpaTFJMWlpMUlpSWkxICogb09PCiAgIGlmIDQwIC0gNDA6IElJICsgSTFJaUkxSUlJMTFpICUgT09vT29PMG8wbzBPTyAtIG9vb09vTwogICBpZiA1NiAtIDU2OiBvb29Pb08gLyBvMDBvTzBvbzBPME8wCiAgIGlmIDcwIC0gNzA6IElpSUkxSWlJCiAgIGlmIDc2IC0gNzY6IElpMUkgJSBJMSAlIE9PTyAuIG8wMG9PMG9vME8wTzAgLiBvbzBvIC0gSTFJaUkxSUlJMTFpCiAgIGlmIDU5IC0gNTk6IE9Pb09vTzBvMG8wT08gJSBJaUlJMWkxSSAqIG9vMG8gKiBJMUlpSTFJSUkxMWkgLSBJaUlJMUlpSQogICBpZiA5OCAtIDk4OiBpaUlJaTFpMUlpaSArIEkxSWlJMUlJSTExaSAvIG9vb09vTwogIGlmIGxlbiAoIHJvd3MgKSA+PSBvb28wb29Pb08wT28gOgogICBpZiAnY19wYWdlJyBpbiBpbmZvIGFuZCAnYWN0aW9uJyBpbiBpbmZvIGFuZCAnYWN0aW9uUGFyYW1zJyBpbiBpbmZvIDoKICAgIGlJSSA9IGludCAoIGluZm8gWyAnY19wYWdlJyBdICkKICAgIGlJSSA9IGlJSSArIDEKICAgIHRyeSA6CiAgICAgTzBvT28wb29PMG8gPSBPMG9PbzBvb08wbyAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApCiAgICBleGNlcHQgKCBVbmljb2RlRW5jb2RlRXJyb3IgLCBVbmljb2RlRGVjb2RlRXJyb3IgKSA6CiAgICAgcGFzcwogICAgT29PTzBPTzBvME8gPSBPMDAwMDAwTzBPb09vICggbm9tYnJlID0gJ1DDoWdpbmEgU2lndWllbnRlICglcykgPicgJSBzdHIgKCBpSUkgKSApCiAgICBJMUlpaWkgPSAnezB9P3sxfT17Mn0mY19wYWdlPXszfSZwYWdlPXs0fSZ7NX0nIC4gZm9ybWF0ICggSTFpSTExSSAsIG9PT08wTzAgLCBpbmZvIFsgJ2FjdGlvbicgXSAsIHN0ciAoIGlJSSApICwKIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICgKICJub21icmUgPiAnIiArIE8wb09vMG9vTzBvICsgIiciICkgLCBpbmZvIFsgJ2FjdGlvblBhcmFtcycgXSApCiAgICBpMUlpMTFpIC4gYXBwZW5kICggKCBJMUlpaWkgLCBPb09PME9PMG8wTyAsIFRydWUgKSApCiAgICBpZiA4NiAtIDg2OiBvT08KIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUlpaUlJMSAsIGkxSWkxMWkgLCBsZW4gKCBpMUlpMTFpICkgKQogeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaWlJSWlpSUkxICkKIGlmIDU3IC0gNTc6IElJSUkgLSBvbzBvICogaTFpSTEgKyBpaUlJaTFpMUlpaSAlIElpSUkxaTFJCiBpZiAyNyAtIDI3OiBJMSArIEkxSWlJMUlJSTExaSAuIG8wMG9PMG9vME8wTzAgLSBJSQogaWYgMjMgLSAyMzogSUkgLiBpaUlJaTFpMUlpaSArIGlpMUkxaWkxSWlJaTEgLyBvMDBvTzBvbzBPME8wICsgSUlvb29PMG9vTzBvbwpkZWYgSTFJaUlpSSAoIHJvd3MgLCBjYXRlZ29yeSA9IE5vbmUgLCBsYW5nID0gTm9uZSAsIGRhdGUgPSBOb25lICwgcGFyYW1zID0geyB9ICkgOgogaTFJaTExaSA9IFsgXQogdHJ5IDoKICB4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGlpSUlpaUlJMSAsICJ0dnNob3dzIiApCiAgT09vMDAwT28gKCBvTzBPMG8wb29PICkKIGV4Y2VwdCA6CiAgcGFzcwogIGlmIDcyIC0gNzI6IElJSUkgKiBJaUlJMUlpSSArIE9Pb09vTzBvMG8wT08KICBpZiA4NSAtIDg1OiBJMSAuIE9Pb09vTzBvMG8wT08KIGZvciBJSUkxSTFpSTFJMWlJIGluIHJvd3MgOgogIElJaUkxaUlJMWlpaSA9IFsgXQogIE9vT29Pb28wMDAwbyA9IElJSTFJMWlJMUkxaUkgWyAwIF0KICBPMG9PbzBvb08wbyA9IElJSTFJMWlJMUkxaUkgWyAxIF0KICBJMTFpaWlJMUlpSSA9IElJSTFJMWlJMUkxaUkgWyAyIF0KICBPb08wT28gPSAnJwogIE8wT29PbzAwMDBPb28gPSAnJwogIG8wb28gPSAnJwogIGlmIDUwIC0gNTA6IElpMUkgKiBvbzBvICUgaTFpSTEgKiBvbzBvCiAgaWYgY2F0ZWdvcnkgYW5kIElJSTFJMWlJMUkxaUkgWyAxMCBdICE9ICdHZW5lcmFsJyBhbmQgSUlJMUkxaUkxSTFpSSBbIDEwIF0gIT0gJ1BlbGljdWxhJyA6CiAgIE8wT29PbzAwMDBPb28gPSAnW0NPTE9SICVzXSglcykgWy9DT0xPUl0nICUgKCBJSUlpMTExMWlJICwgSUlJMUkxaUkxSTFpSSBbIDEwIF0gLiByZXBsYWNlICggJyMnICwgJywgJyApICkKICBpZiBsYW5nIDoKICAgSTExaUlpID0gc2V0ICggSUlJMUkxaUkxSTFpSSBbIDkgXSAuIHNwbGl0ICggJyMnICkgKQogICBpZiAoICdFUycgbm90IGluIEkxMWlJaSBhbmQgbGVuICggSTExaUlpICkgPT0gMSApIG9yIGxlbiAoIEkxMWlJaSApID49IDIgOgogICAgT29PME9vID0gJ1tDT0xPUiAlc10oJXMpIFsvQ09MT1JdJyAlICggbzBPMG9PMCAsIElJSTFJMWlJMUkxaUkgWyA5IF0gLiByZXBsYWNlICggJyMnICwgJyAnICkgKQogIGlmIGRhdGUgOgogICBvMG9vID0gJ1tDT0xPUiAlc10oJXMpWy9DT0xPUl0nICUgKCBpaUlJaWlpSTExICwgc3RyICggSUlJMUkxaUkxSTFpSSBbIDExIF0gKSApCiAgaWYgSTExaWlpSTFJaUkgYW5kIElJSTFJMWlJMUkxaUkgWyA4IF0gPT0gJ04nIDoKICAgb28wb29vME9PT09vID0gaXRoaWwgLiBJaTFJSWlJMTFpSTEgKCBJMTFpaWlJMUlpSSApCiAgIGlmIG9vMG9vbzBPT09PbyA9PSAneXQnIDoKICAgIElpMUlpSSA9IGl0aGlsIC4gT28wbzAgKCBJMTFpaWlJMUlpSSApCiAgICBmb3IgaWlpMUlpSSBpbiB4cmFuZ2UgKCAwICwgbGVuICggSWkxSWlJICkgKSA6CiAgICAgaWYgbGVuICggSWkxSWlJICkgPD0gMSA6CiAgICAgIE9vbzAwTyA9ICcnCiAgICAgZWxzZSA6CiAgICAgIE9vbzAwTyA9ICIgKCIgKyBzdHIgKCBpaWkxSWlJICsgMSApICsgIikiCiAgICAgaUkxMWlpSWkxSTFpSSA9ICdbQ09MT1IgJXNdJXMgWy9DT0xPUl0gJXMgJXMgJXMnICUgKCBpMUlpSTFpaWkgLCBPMG9PbzBvb08wbyArIE9vbzAwTyAsIE9vTzBPbyAsIE8wT29PbzAwMDBPb28gLCBvMG9vICkKICAgICBPb09PME9PMG8wTyA9IE8wMDAwMDBPME9vT28gKCBub21icmUgPSBpSTExaWlJaTFJMWlJICwgY2FyYXR1bGEgPSBJSUkxSTFpSTFJMWlJIFsgNiBdICwKIHBvc3RlciA9IElJSTFJMWlJMUkxaUkgWyA3IF0gLCB2aWRlbyA9IHsgJ3RpdGxlJyA6IElJSTFJMWlJMUkxaUkgWyAzIF0gLCAneWVhcicgOiBJSUkxSTFpSTFJMWlJIFsgNCBdICwgJ3Bsb3QnIDogSUlJMUkxaUkxSTFpSSBbIDUgXSB9ICkKICAgICBpZiA2MSAtIDYxOiBJaTFJCiAgICAgaWYgeGJtYyAuIGdldENvbmRWaXNpYmlsaXR5ICggJ1N5c3RlbS5IYXNBZGRvbihzY3JpcHQuZXh0ZW5kZWRpbmZvKScgKSBhbmQgSUlJMUkxaUkxSTFpSSBbIDEyIF0gYW5kIElJSTFJMWlJMUkxaUkgWyAxMiBdIC4gc3RhcnRzd2l0aCAoICdodHRwczovL3d3dy50aGVtb3ZpZWRiLm9yZycgKSA6CiAgICAgIGlmIDIyIC0gMjI6IEkxSWlJMUlJSTExaSAuIG9vMG8gLSBpaTFJMWlpMUlpSWkxIC4gaWkxSTFpaTFJaUlpMSAqIElpSUkxaTFJIC8gbzAwb08wb28wTzBPMAogICAgICBJSWlJMWlJSTFpaWkgLiBhcHBlbmQgKCAoICJFeHRlbmRlZEluZm8iICwKICJYQk1DLlJ1blNjcmlwdChzY3JpcHQuZXh0ZW5kZWRpbmZvLGluZm89ZXh0ZW5kZWR0dmluZm8saWQ9JXMsbmFtZT0lcykiICUgKAogc3RyICggSUlJMUkxaUkxSTFpSSBbIDEyIF0gLiBzcGxpdCAoICcvJyApIFsgLSAxIF0gLiBzcGxpdCAoICctJyApIFsgMCBdICkgLCBPMG9PbzBvb08wbyApICkgKQogICAgICBpZiA2NyAtIDY3OiBvMDBvTzBvbzBPME8wCiAgICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzLXYnICUgc3RyICggT29Pb09vbzAwMDBvICkgLCB0eXBlID0gJ3NlcmllcycgLCBub21icmUgPSBpSTExaWlJaTFJMWlJICwgdXJsID0gSWkxSWlJIFsgaWlpMUlpSSBdICwKIGNhcmF0dWxhID0gSUlJMUkxaUkxSTFpSSBbIDYgXSAsIHBvc3RlciA9IElJSTFJMWlJMUkxaUkgWyA3IF0gKSApCiAgICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzLXYnICUgc3RyICggT29Pb09vbzAwMDBvICkgLCB0eXBlID0gJ3NlcmllcycgLCBub21icmUgPSBpSTExaWlJaTFJMWlJICwKIHVybCA9IElpMUlpSSBbIGlpaTFJaUkgXSAsCiBjYXJhdHVsYSA9IElJSTFJMWlJMUkxaUkgWyA2IF0gLCBwb3N0ZXIgPSBJSUkxSTFpSTFJMWlJIFsgNyBdICwgZmF2ID0gaTExICwKIHRleHQgPSAnU2VyaWVzJyAsIGZhdkxpdGVyYWwgPSAncycgKSApCiAgICAgaWYgJ0RpYnVqb3MnIGluIElJSTFJMWlJMUkxaUkgWyAxMCBdIDoKICAgICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzLXYnICUgc3RyICggT29Pb09vbzAwMDBvICkgLCB0eXBlID0gJ3NlcmllcycgLCBub21icmUgPSBpSTExaWlJaTFJMWlJICwKIHVybCA9IElpMUlpSSBbIGlpaTFJaUkgXSAsCiBjYXJhdHVsYSA9IElJSTFJMWlJMUkxaUkgWyA2IF0gLCBwb3N0ZXIgPSBJSUkxSTFpSTFJMWlJIFsgNyBdICwgZmF2ID0gb29JSUlJICwKIHRleHQgPSAnRGlidWpvcycgLCBmYXZMaXRlcmFsID0gJ2QnICkgKQogICAgIE9vT08wT08wbzBPIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIElJaUkxaUlJMWlpaSApCiAgICAgaTFJaTExaSAuIGFwcGVuZCAoICggSWkxSWlJIFsgaWlpMUlpSSBdICwgT29PTzBPTzBvME8gLCBUcnVlICkgKQogICBlbHNlIDoKICAgIGlJMTFpaUlpMUkxaUkgPSAnW0NPTE9SICVzXSVzIFsvQ09MT1JdICVzICVzICVzJyAlICggaTFJaUkxaWlpICwgTzBvT28wb29PMG8gLCBPb08wT28gLCBPME9vT28wMDAwT29vICwgbzBvbyApCiAgICBPb09PME9PMG8wTyA9IE8wMDAwMDBPME9vT28gKCBub21icmUgPSBpSTExaWlJaTFJMWlJICwgY2FyYXR1bGEgPSBJSUkxSTFpSTFJMWlJIFsgNiBdICwKIHBvc3RlciA9IElJSTFJMWlJMUkxaUkgWyA3IF0gLCB2aWRlbyA9IHsgJ3RpdGxlJyA6IElJSTFJMWlJMUkxaUkgWyAzIF0gLCAneWVhcicgOiBJSUkxSTFpSTFJMWlJIFsgNCBdICwgJ3Bsb3QnIDogSUlJMUkxaUkxSTFpSSBbIDUgXSB9ICkKICAgIEkxSWlpaSA9ICd7MH0/ezF9PXZpZXdfc2VyaWUmc2VyaWVfaWQ9ezJ9JyAuIGZvcm1hdCAoIEkxaUkxMUkgLCBvT09PME8wICwgT29Pb09vbzAwMDBvICkKICAgIGlmIDcxIC0gNzE6IG9PTyAuIEkxSWlJMUlJSTExaSArIEkxICogb28gKyBpaTFJMWlpMUlpSWkxCiAgICBpZiB4Ym1jIC4gZ2V0Q29uZFZpc2liaWxpdHkgKCAnU3lzdGVtLkhhc0FkZG9uKHNjcmlwdC5leHRlbmRlZGluZm8pJyApIGFuZCBJSUkxSTFpSTFJMWlJIFsgMTIgXSBhbmQgSUlJMUkxaUkxSTFpSSBbIDEyIF0gLiBzdGFydHN3aXRoICggJ2h0dHBzOi8vd3d3LnRoZW1vdmllZGIub3JnJyApIDoKICAgICBpZiAyOCAtIDI4OiBvMDBvTzBvbzBPME8wICUgT09vT29PMG8wbzBPTyAuIE9PTyAuIElJIC0gaWkxSTFpaTFJaUlpMSAlIG9vMG8KICAgICBJSWlJMWlJSTFpaWkgLiBhcHBlbmQgKCAoICJFeHRlbmRlZEluZm8iICwKICJYQk1DLlJ1blNjcmlwdChzY3JpcHQuZXh0ZW5kZWRpbmZvLGluZm89ZXh0ZW5kZWR0dmluZm8saWQ9JXMsbmFtZT0lcykiICUgKAogc3RyICggSUlJMUkxaUkxSTFpSSBbIDEyIF0gLiBzcGxpdCAoICcvJyApIFsgLSAxIF0gLiBzcGxpdCAoICctJyApIFsgMCBdICkgLCBPMG9PbzBvb08wbyApICkgKQogICAgIGlmIDM4IC0gMzg6IE9Pb09vTzBvMG8wT08gKyBPT08gKyBJaUlJMWkxSSAtIG9PTyAlIG9vIC0gb29vT29PCiAgICBJSWlJMWlJSTFpaWkgLiBhcHBlbmQgKCBPTzBvME8wICggaWQgPSAnJXMtdicgJSBzdHIgKCBPb09vT29vMDAwMG8gKSAsIHR5cGUgPSAnc2VyaWVzJyAsIG5vbWJyZSA9IGlJMTFpaUlpMUkxaUkgLCB1cmwgPSBJMUlpaWkgLCBjYXJhdHVsYSA9IElJSTFJMWlJMUkxaUkgWyA2IF0gLCBwb3N0ZXIgPSBJSUkxSTFpSTFJMWlJIFsgNyBdICkgKQogICAgaWYgMjIgLSAyMjogSWlJSTFJaUkKICAgIGlmICdEaWJ1am9zJyBpbiBJSUkxSTFpSTFJMWlJIFsgMTAgXSA6CiAgICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzLXYnICUgc3RyICggT29Pb09vbzAwMDBvICkgLCB0eXBlID0gJ3NlcmllcycgLCBub21icmUgPSBpSTExaWlJaTFJMWlJICwgdXJsID0gSTFJaWlpICwgY2FyYXR1bGEgPSBJSUkxSTFpSTFJMWlJIFsgNiBdICwKIHBvc3RlciA9IElJSTFJMWlJMUkxaUkgWyA3IF0gLCBmYXYgPSBvb0lJSUkgLCB0ZXh0ID0gJ0RpYnVqb3MnICwgZmF2TGl0ZXJhbCA9ICdkJyApICkKICAgIGVsc2UgOgogICAgIElJaUkxaUlJMWlpaSAuIGFwcGVuZCAoCiBPTzBvME8wICggaWQgPSAnJXMtdicgJSBzdHIgKCBPb09vT29vMDAwMG8gKSAsIHR5cGUgPSAnc2VyaWVzJyAsIG5vbWJyZSA9IGlJMTFpaUlpMUkxaUkgLCB1cmwgPSBJMUlpaWkgLCBjYXJhdHVsYSA9IElJSTFJMWlJMUkxaUkgWyA2IF0gLAogcG9zdGVyID0gSUlJMUkxaUkxSTFpSSBbIDcgXSAsIGZhdiA9IGkxMSAsIHRleHQgPSAnU2VyaWVzJyAsIGZhdkxpdGVyYWwgPSAncycgKSApCiAgICBPb09PME9PMG8wTyAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBJSWlJMWlJSTFpaWkgKQogICAgaTFJaTExaSAuIGFwcGVuZCAoICggSTFJaWlpICwgT29PTzBPTzBvME8gLCBUcnVlICkgKQogIGVsc2UgOgogICBpSTExaWlJaTFJMWlJID0gJ1tDT0xPUiAlc10lcyBbL0NPTE9SXSAlcyAlcyAlcycgJSAoIGkxSWlJMWlpaSAsIE8wb09vMG9vTzBvICwgT29PME9vICwgTzBPb09vMDAwME9vbyAsIG8wb28gKQogICBPb09PME9PMG8wTyA9IE8wMDAwMDBPME9vT28gKCBub21icmUgPSBpSTExaWlJaTFJMWlJICwgY2FyYXR1bGEgPSBJSUkxSTFpSTFJMWlJIFsgNiBdICwKIHBvc3RlciA9IElJSTFJMWlJMUkxaUkgWyA3IF0gLCB2aWRlbyA9IHsgJ3RpdGxlJyA6IElJSTFJMWlJMUkxaUkgWyAzIF0gLCAneWVhcicgOiBJSUkxSTFpSTFJMWlJIFsgNCBdICwgJ3Bsb3QnIDogSUlJMUkxaUkxSTFpSSBbIDUgXSB9ICkKICAgSTFJaWlpID0gJ3swfT97MX09c2VyaWUmc2VyaWVfaWQ9ezJ9JyAuIGZvcm1hdCAoIEkxaUkxMUkgLCBvT09PME8wICwgT29Pb09vbzAwMDBvICkKICAgaWYgODggLSA4ODogb28gJSBJaTFJCiAgIGlmIHhibWMgLiBnZXRDb25kVmlzaWJpbGl0eSAoICdTeXN0ZW0uSGFzQWRkb24oc2NyaXB0LmV4dGVuZGVkaW5mbyknICkgYW5kIElJSTFJMWlJMUkxaUkgWyAxMiBdIGFuZCBJSUkxSTFpSTFJMWlJIFsgMTIgXSAuIHN0YXJ0c3dpdGggKCAnaHR0cHM6Ly93d3cudGhlbW92aWVkYi5vcmcnICkgOgogICAgaWYgMjMgLSAyMzogSUkgLyBvb29Pb08KICAgIElJaUkxaUlJMWlpaSAuIGFwcGVuZCAoICggIkV4dGVuZGVkSW5mbyIgLAogIlhCTUMuUnVuU2NyaXB0KHNjcmlwdC5leHRlbmRlZGluZm8saW5mbz1leHRlbmRlZHR2aW5mbyxpZD0lcyxuYW1lPSVzKSIgJSAoCiBzdHIgKCBJSUkxSTFpSTFJMWlJIFsgMTIgXSAuIHNwbGl0ICggJy8nICkgWyAtIDEgXSAuIHNwbGl0ICggJy0nICkgWyAwIF0gKSAsIE8wb09vMG9vTzBvICkgKSApCiAgICBpZiA3MiAtIDcyOiBPT29Pb08wbzBvME9PIC4gaTFpSTEgJSBPT08gKyBPT29Pb08wbzBvME9PIC8gb28gKyBvbwogICAgaWYgMjEgLSAyMTogT09PICogSWkxSSAqIE9PTyAuIElpSUkxaTFJICsgb29Pb29PME9PTyAlIElpSUkxaTFJCiAgIElJaUkxaUlJMWlpaSAuIGFwcGVuZCAoIE9PMG8wTzAgKCBpZCA9IHN0ciAoIE9vT29Pb28wMDAwbyApICwgdHlwZSA9ICdzZXJpZXMnICwgbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsIHVybCA9IEkxSWlpaSAsIGNhcmF0dWxhID0gSUlJMUkxaUkxSTFpSSBbIDYgXSAsIHBvc3RlciA9IElJSTFJMWlJMUkxaUkgWyA3IF0gKSApCiAgIGlmICdEaWJ1am9zJyBpbiBJSUkxSTFpSTFJMWlJIFsgMTAgXSA6CiAgICBJSWlJMWlJSTFpaWkgLiBhcHBlbmQgKCBPTzBvME8wICggaWQgPSBzdHIgKCBPb09vT29vMDAwMG8gKSAsIHR5cGUgPSAnc2VyaWVzJyAsIG5vbWJyZSA9IGlJMTFpaUlpMUkxaUkgLCB1cmwgPSBJMUlpaWkgLCBjYXJhdHVsYSA9IElJSTFJMWlJMUkxaUkgWyA2IF0gLCBwb3N0ZXIgPSBJSUkxSTFpSTFJMWlJIFsgNyBdICwKIGZhdiA9IG9vSUlJSSAsIHRleHQgPSAnRGlidWpvcycgLCBmYXZMaXRlcmFsID0gJ2QnICkgKQogICBlbHNlIDoKICAgIElJaUkxaUlJMWlpaSAuIGFwcGVuZCAoCiBPTzBvME8wICggaWQgPSBzdHIgKCBPb09vT29vMDAwMG8gKSAsIHR5cGUgPSAnc2VyaWVzJyAsIG5vbWJyZSA9IGlJMTFpaUlpMUkxaUkgLCB1cmwgPSBJMUlpaWkgLCBjYXJhdHVsYSA9IElJSTFJMWlJMUkxaUkgWyA2IF0gLCBwb3N0ZXIgPSBJSUkxSTFpSTFJMWlJIFsgNyBdICwKIGZhdiA9IGkxMSAsIHRleHQgPSAnU2VyaWVzJyAsIGZhdkxpdGVyYWwgPSAncycgKSApCiAgIE9vT08wT08wbzBPIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIElJaUkxaUlJMWlpaSApCiAgIGkxSWkxMWkgLiBhcHBlbmQgKCAoIEkxSWlpaSAsIE9vT08wT08wbzBPICwgVHJ1ZSApICkKICAgaWYgODMgLSA4MzogSUlJSSAvIElJIC4gSTFJaUkxSUlJMTFpICogaTFpSTEgLSBJMSAtIEkxCiBpZiBsZW4gKCByb3dzICkgPj0gb29vMG9vT29PME9vIDoKICBpZiAnY19wYWdlJyBpbiBwYXJhbXMgYW5kICdhY3Rpb24nIGluIHBhcmFtcyA6CiAgIGlmIDkyIC0gOTI6IEkxSWlJMUlJSTExaQogICB0cnkgOgogICAgTzBvT28wb29PMG8gPSBPMG9PbzBvb08wbyAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApCiAgIGV4Y2VwdCAoIFVuaWNvZGVFbmNvZGVFcnJvciAsIFVuaWNvZGVEZWNvZGVFcnJvciApIDoKICAgIHBhc3MKICAgaUlJID0gaW50ICggcGFyYW1zIFsgJ2NfcGFnZScgXSApCiAgIGlJSSA9IGlJSSArIDEKICAgT29PTzBPTzBvME8gPSBPMDAwMDAwTzBPb09vICggbm9tYnJlID0gJ1DDoWdpbmEgU2lndWllbnRlICglcykgPicgJSBzdHIgKCBpSUkgKSApCiAgIEkxSWlpaSA9ICd7MH0/ezF9PXsyfSZjX3BhZ2U9ezN9JnBhZ2U9ezR9Jns1fScgLiBmb3JtYXQgKCBJMWlJMTFJICwgb09PTzBPMCAsIHBhcmFtcyBbICdhY3Rpb24nIF0gLCBzdHIgKCBpSUkgKSAsCgogICAjIGlpMUkxaWkxSWlJaTEgKyBJMUlpSTFJSUkxMWkKICAgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKAogIm5vbWJyZSA+ICciICsgTzBvT28wb29PMG8gKyAiJyIgKSAsIHBhcmFtcyBbICdhY3Rpb25QYXJhbXMnIF0gKQogICBpZiA1NSAtIDU1OiBJSUlJICogSUkgKyBpMWlJMSAvIElJSUkgKiBJMQogICBpMUlpMTFpIC4gYXBwZW5kICggKCBJMUlpaWkgLCBPb09PME9PMG8wTyAsIFRydWUgKSApCiB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJaWlJSTEgLCBpMUlpMTFpICwgbGVuICggaTFJaTExaSApICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUlpaUlJMSApCiBpZiAyNCAtIDI0OiBpaUlJaTFpMUlpaSAlIEkxSWlJMUlJSTExaSAqIEkxIC4gaTFpSTEgLiBvMDBvTzBvbzBPME8wCiBpZiA3MyAtIDczOiBJaUlJMWkxSSAlIEkxICsgSWkxSSArIEkxIC0gSUlvb29PMG9vTzBvbwogaWYgMTUgLSAxNTogSWkgKiBPT08gKyBvbzBvICUgSUlvb29PMG9vTzBvbyAtIGlpSUlpMWkxSWlpIC8gb28wbwpkZWYgTzBPICggc2VyaWVfaWQgKSA6CiBvT29PME8wMDAwMCA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaTExaSApCiBJSWlJaWkxSWlJMWkgPSBvT29PME8wMDAwMCAuIGN1cnNvciAoICkKIElJaUlpaTFJaUkxaSAuIGV4ZWN1dGUgKAogIlNFTEVDVCBzZXJpZXMuc2VyaWVfaWQsIHNlcmllc190ZW1wLnRlbXBfaWQsIHNlcmllc190ZW1wLmxpbmssIHNlcmllcy5ub21icmUsIHNlcmllcy5hbm5vLCBzZXJpZXMuc2lub3BzaXMsIHNlcmllcy5jYXJhdHVsYSwgc2VyaWVzLnBvc3Rlciwgc2VyaWVzX3RlbXAuc2lub3BzaXMsIHNlcmllc190ZW1wLmNhcmF0dWxhLCBzZXJpZXNfdGVtcC5wb3N0ZXIsIHNlcmllc190ZW1wLmhhc19lcGlzb2Rlcywgc2VyaWVzX3RlbXAubm9tYnJlLCBzZXJpZXMubGluaywgJ3F1YWxpdHknLCAncXVhbGl0eScsIHNlcmllcy5jYXRlZ29yeSAsIHNlcmllc190ZW1wLmFjdGl2ZSBGUk9NIHNlcmllcyBMRUZUIEpPSU4gc2VyaWVzX3RlbXAgT04gc2VyaWVzLnNlcmllX2lkID0gc2VyaWVzX3RlbXAuc2VyaWVfaWQgd2hlcmUgc2VyaWVzLnNlcmllX2lkPT8gT1JERVIgQlkgc2VyaWVzX3RlbXAudGVtcF9pZCIgLAogKCBzZXJpZV9pZCAsICkgKQogSWkxMTFJID0gSUlpSWlpMUlpSTFpIC4gZmV0Y2hhbGwgKCApCiBvT29PME8wMDAwMCAuIGNsb3NlICggKQogaTFJaTExaSA9IFsgXQogSUlpSTFpSUkxaWlpID0gWyBdCiBvME9vT09PID0gRmFsc2UKIGlmIGxlbiAoIElpMTExSSApID4gMCA6CiAgaUlpSUkxaUkgPSBJaTExMUkgWyAwIF0gWyAxNiBdCiAgaWYgNzMgLSA3MzogSTEgKiBJaUlJMWkxSSAtIGlpMUkxaWkxSWlJaTEgKyBvMDBvTzBvbzBPME8wIC8gSUlJSSArIG9vMG8KICBpZiBJaTExMUkgWyAwIF0gWyAxMyBdIDoKICAgb28wb29vME9PT09vID0gaXRoaWwgLiBJaTFJSWlJMTFpSTEgKCBJaTExMUkgWyAwIF0gWyAxMyBdICkKICAgaWYgb28wb29vME9PT09vID09ICd5dCcgOgogICAgSWkxSWlJID0gaXRoaWwgLiBPbzBvMCAoIElpMTExSSBbIDAgXSBbIDEzIF0gKQogICAgZm9yIGlpaTFJaUkgaW4geHJhbmdlICggMCAsIGxlbiAoIElpMUlpSSApICkgOgogICAgIGlmIGxlbiAoIElpMUlpSSApIDw9IDEgOgogICAgICBPb28wME8gPSAnJwogICAgIGVsc2UgOgogICAgICBPb28wME8gPSAiICgiICsgc3RyICggaWlpMUlpSSArIDEgKSArICIpIgogICAgIGlJMTFpaUlpMUkxaUkgPSAnW0NPTE9SICVzXUxpc3RhIGRlIENhcMOtdHVsb3MgJXMgWy9DT0xPUl0nICUgKCBpMUlpSTFpaWkgLCBPb28wME8gKQogICAgIE9vT08wT08wbzBPID0gTzAwMDAwME8wT29PbyAoIG5vbWJyZSA9IGlJMTFpaUlpMUkxaUkgLCBjYXJhdHVsYSA9IElpMTExSSBbIDAgXSBbIDYgXSAsCiBwb3N0ZXIgPSBJaTExMUkgWyAwIF0gWyA3IF0gLAogdmlkZW8gPSB7ICd0aXRsZScgOiBJaTExMUkgWyAwIF0gWyAzIF0gLCAneWVhcicgOiBJaTExMUkgWyAwIF0gWyA0IF0gLCAncGxvdCcgOiBJaTExMUkgWyAwIF0gWyA1IF0gfSApCiAgICAgaWYgODIgLSA4Mjogb28wbyAlIG9PTyAqIG8wMG9PMG9vME8wTzAKICAgICBJSWlJMWlJSTFpaWkgLiBhcHBlbmQgKCBPTzBvME8wICggaWQgPSAnJXMtdicgJSBzdHIgKCBzZXJpZV9pZCApICwgdHlwZSA9IElpaTEgLCBub21icmUgPSBpSTExaWlJaTFJMWlJICwKIHVybCA9IElpMUlpSSBbIGlpaTFJaUkgXSAsIGNhcmF0dWxhID0gSWkxMTFJIFsgMCBdIFsgNiBdICwKIHBvc3RlciA9IElpMTExSSBbIDAgXSBbIDcgXSApICkKICAgICBpZiBpSWlJSTFpSSA9PSAnRGlidWpvcycgOgogICAgICBJSWlJMWlJSTFpaWkgLiBhcHBlbmQgKCBPTzBvME8wICggaWQgPSAnJXMtdicgJSBzdHIgKCBzZXJpZV9pZCApICwgdHlwZSA9IElpaTEgLAogbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsCiB1cmwgPSBJaTFJaUkgWyBpaWkxSWlJIF0gLCBjYXJhdHVsYSA9IElpMTExSSBbIDAgXSBbIDYgXSAsIGZhdiA9IG9vSUlJSSAsCiB0ZXh0ID0gJ0RpYnVqb3MnICwgZmF2TGl0ZXJhbCA9ICdkJyAsCiBwb3N0ZXIgPSBJaTExMUkgWyAwIF0gWyA3IF0gKSApCiAgICAgZWxzZSA6CiAgICAgIElJaUkxaUlJMWlpaSAuIGFwcGVuZCAoIE9PMG8wTzAgKCBpZCA9ICclcy12JyAlIHN0ciAoIHNlcmllX2lkICkgLCB0eXBlID0gSWlpMSAsCiBub21icmUgPSBpSTExaWlJaTFJMWlJICwKIHVybCA9IElpMUlpSSBbIGlpaTFJaUkgXSAsIGNhcmF0dWxhID0gSWkxMTFJIFsgMCBdIFsgNiBdICwgZmF2ID0gaTExICwKIHRleHQgPSAnU2VyaWVzJyAsIGZhdkxpdGVyYWwgPSAncycgLAogcG9zdGVyID0gSWkxMTFJIFsgMCBdIFsgNyBdICkgKQogICAgIE9vT08wT08wbzBPIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIElJaUkxaUlJMWlpaSApCiAgICAgaTFJaTExaSAuIGFwcGVuZCAoICggSWkxSWlJIFsgaWlpMUlpSSBdICwgT29PTzBPTzBvME8gLCBUcnVlICkgKQogICBlbHNlIDoKICAgIGlJMTFpaUlpMUkxaUkgPSAnW0NPTE9SICVzXUxpc3RhIGRlIENhcMOtdHVsb3MgWy9DT0xPUl0nICUgaTFJaUkxaWlpCiAgICBPb09PME9PMG8wTyA9IE8wMDAwMDBPME9vT28gKCBub21icmUgPSBpSTExaWlJaTFJMWlJICwgY2FyYXR1bGEgPSBJaTExMUkgWyAwIF0gWyA2IF0gLAogcG9zdGVyID0gSWkxMTFJIFsgMCBdIFsgNyBdICwKIHZpZGVvID0geyAndGl0bGUnIDogSWkxMTFJIFsgMCBdIFsgMyBdICwgJ3llYXInIDogSWkxMTFJIFsgMCBdIFsgNCBdICwKICdwbG90JyA6ICdUb2RvcyBsb3MgZXBpc29kaW9zIGRlIGxhIHNlcmllJyB9ICkKICAgIEkxSWlpaSA9ICd7MH0/ezF9PXZpZXdfc2VyaWUmc2VyaWVfaWQ9ezJ9JyAuIGZvcm1hdCAoIEkxaUkxMUkgLCBvT09PME8wICwgc2VyaWVfaWQgKQogICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzLXYnICUgc3RyICggc2VyaWVfaWQgKSAsIHR5cGUgPSBJaWkxICwgbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsIHVybCA9IEkxSWlpaSAsCiBjYXJhdHVsYSA9IElpMTExSSBbIDAgXSBbIDYgXSAsIHBvc3RlciA9IElpMTExSSBbIDAgXSBbIDcgXSApICkKICAgIGlmIGlJaUlJMWlJID09ICdEaWJ1am9zJyA6CiAgICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzLXYnICUgc3RyICggc2VyaWVfaWQgKSAsIHR5cGUgPSBJaWkxICwgbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsCiB1cmwgPSBJMUlpaWkgLAogY2FyYXR1bGEgPSBJaTExMUkgWyAwIF0gWyA2IF0gLCBwb3N0ZXIgPSBJaTExMUkgWyAwIF0gWyA3IF0gLCBmYXYgPSBvb0lJSUkgLAogdGV4dCA9ICdEaWJ1am9zJyAsIGZhdkxpdGVyYWwgPSAnZCcgKSApCiAgICBlbHNlIDoKICAgICBJSWlJMWlJSTFpaWkgLiBhcHBlbmQgKCBPTzBvME8wICggaWQgPSAnJXMtdicgJSBzdHIgKCBzZXJpZV9pZCApICwgdHlwZSA9IElpaTEgLCBub21icmUgPSBpSTExaWlJaTFJMWlJICwKIHVybCA9IEkxSWlpaSAsCiBjYXJhdHVsYSA9IElpMTExSSBbIDAgXSBbIDYgXSAsIHBvc3RlciA9IElpMTExSSBbIDAgXSBbIDcgXSAsIGZhdiA9IGkxMSAsCiB0ZXh0ID0gJ1NlcmllcycgLCBmYXZMaXRlcmFsID0gJ3MnICkgKQogICAgT29PTzBPTzBvME8gLiBhZGRDb250ZXh0TWVudUl0ZW1zICggSUlpSTFpSUkxaWlpICkKICAgIGlmIDMyIC0gMzI6IEkxSWlJMUlJSTExaSAvIElpSUkxSWlJIC8gT09vT29PMG8wbzBPTyAuIElpMUkgLSBJMQogICAgaWYgNTIgLSA1MjogSUlvb29PMG9vTzBvbyAlIElpSUkxSWlJIC4gSTEgKiBJaUlJMUlpSSArIG9vMG8KICAgIGlmIDgzIC0gODM6IElpMUkgJSBPT29Pb08wbzBvME9PCiAgICBpMUlpMTFpIC4gYXBwZW5kICggKCBJMUlpaWkgLCBPb09PME9PMG8wTyAsIFRydWUgKSApCiBmb3IgSUlJMUkxaUkxSTFpSSBpbiBJaTExMUkgOgogIGlJaUlJMWlJID0gSUlJMUkxaUkxSTFpSSBbIDE2IF0KICBJSWlJMWlJSTFpaWkgPSBbIF0KICBvME9vT09PID0gRmFsc2UKICBPb09vT29vMDAwMG8gPSBJSUkxSTFpSTFJMWlJIFsgMCBdCiAgSTFJaUkgPSBJSUkxSTFpSTFJMWlJIFsgMSBdCiAgaWYgOTQgLSA5NDogb09PICsgb29Pb29PME9PTyAvIElJb29vTzBvb08wb28gLyBJSW9vb08wb29PMG9vIC0gaTFpSTEgLiBPT08KICBpZiBJSUkxSTFpSTFJMWlJIFsgMTIgXSA6CiAgIGlpSWlpSSA9IElJSTFJMWlJMUkxaUkgWyAxMiBdCiAgZWxzZSA6CiAgIGlpSWlpSSA9ICclcyAlcycgJSAoICdUZW1wb3JhZGEnICwgSTFJaUkgKQogIElJSWkxaTFpID0gT29PTzAwb28gKCBJSUkxSTFpSTFJMWlJIFsgNSBdICwgSUlJMUkxaUkxSTFpSSBbIDYgXSAsIElJSTFJMWlJMUkxaUkgWyA3IF0gLCBJSUkxSTFpSTFJMWlJIFsgOCBdICwgSUlJMUkxaUkxSTFpSSBbIDkgXSAsIElJSTFJMWlJMUkxaUkgWyAxMCBdICkKICBpZiBJSUkxSTFpSTFJMWlJIFsgMiBdIGFuZCBJSUkxSTFpSTFJMWlJIFsgMTcgXSA+IDAgOgogICBpSWkxSWkgPSBUcnVlCiAgIG8wT29PT08gPSBUcnVlCiAgIG9vMG9vbzBPT09PbyA9IGl0aGlsIC4gSWkxSUlpSTExaUkxICggSUlJMUkxaUkxSTFpSSBbIDIgXSApCiAgIGlmIG9vMG9vbzBPT09PbyA9PSAneXQnIDoKICAgIElpMUlpSSA9IGl0aGlsIC4gT28wbzAgKCBJSUkxSTFpSTFJMWlJIFsgMiBdICkKICAgIGZvciBpaWkxSWlJIGluIHhyYW5nZSAoIDAgLCBsZW4gKCBJaTFJaUkgKSApIDoKICAgICBpZiBsZW4gKCBJaTFJaUkgKSA8PSAxIDoKICAgICAgT29vMDBPID0gJycKICAgICBlbHNlIDoKICAgICAgT29vMDBPID0gIiAoIiArIHN0ciAoIGlpaTFJaUkgKyAxICkgKyAiKSIKICAgICBpSTExaWlJaTFJMWlJID0gJ1tDT0xPUiAlc10lc1svQ09MT1JdJyAlICggaTFJaUkxaWlpICwgaWlJaWlJICsgT29vMDBPICkKICAgICBPb09PME9PMG8wTyA9IE8wMDAwMDBPME9vT28gKCBub21icmUgPSBpSTExaWlJaTFJMWlJICwgY2FyYXR1bGEgPSBJSUlpMWkxaSBbIDEgXSAsCiBwb3N0ZXIgPSBJSUlpMWkxaSBbIDIgXSAsCiB2aWRlbyA9IHsgJ3RpdGxlJyA6IElJSTFJMWlJMUkxaUkgWyAzIF0gLCAneWVhcicgOiBJSUkxSTFpSTFJMWlJIFsgNCBdICwgJ3Bsb3QnIDogSUlJaTFpMWkgWyAwIF0gfSApCiAgICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzJXMtdicgJSAoIHN0ciAoIE9vT29Pb28wMDAwbyApICwgc3RyICggSTFJaUkgKSApICwgdHlwZSA9IElpaTEgLCBub21icmUgPSBpSTExaWlJaTFJMWlJICwKIHVybCA9IElpMUlpSSBbIGlpaTFJaUkgXSAsIGNhcmF0dWxhID0gSUlJaTFpMWkgWyAxIF0gLCBwb3N0ZXIgPSBJSUlpMWkxaSBbIDIgXSApICkKICAgICBpZiBpSWlJSTFpSSA9PSAnRGlidWpvcycgOgogICAgICBJSWlJMWlJSTFpaWkgLiBhcHBlbmQgKCBPTzBvME8wICggaWQgPSAnJXMlcy12JyAlICggc3RyICggT29Pb09vbzAwMDBvICkgLCBzdHIgKCBJMUlpSSApICkgLCB0eXBlID0gSWlpMSAsCiBub21icmUgPSBpSTExaWlJaTFJMWlJICwKIHVybCA9IElpMUlpSSBbIGlpaTFJaUkgXSAsIGNhcmF0dWxhID0gSUlJaTFpMWkgWyAxIF0gLCBwb3N0ZXIgPSBJSUlpMWkxaSBbIDIgXSAsCiBmYXYgPSBvb0lJSUkgLCB0ZXh0ID0gJ0RpYnVqb3MnICwgZmF2TGl0ZXJhbCA9ICdkJyApICkKICAgICBlbHNlIDoKICAgICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzJXMtdicgJSAoIHN0ciAoIE9vT29Pb28wMDAwbyApICwgc3RyICggSTFJaUkgKSApICwgdHlwZSA9IElpaTEgLAogbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsCiB1cmwgPSBJaTFJaUkgWyBpaWkxSWlJIF0gLCBjYXJhdHVsYSA9IElJSWkxaTFpIFsgMSBdICwgcG9zdGVyID0gSUlJaTFpMWkgWyAyIF0gLAogZmF2ID0gaTExICwgdGV4dCA9ICdTZXJpZXMnICwgZmF2TGl0ZXJhbCA9ICdzJyApICkKICAgICBPb09PME9PMG8wTyAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBJSWlJMWlJSTFpaWkgKQogICAgIGkxSWkxMWkgLiBhcHBlbmQgKCAoIElpMUlpSSBbIGlpaTFJaUkgXSAsIE9vT08wT08wbzBPICwgVHJ1ZSApICkKICAgZWxzZSA6CiAgICBpSTExaWlJaTFJMWlJID0gJ1tDT0xPUiAlc10lc1svQ09MT1JdJyAlICggaTFJaUkxaWlpICwgaWlJaWlJICkKICAgIE9vT08wT08wbzBPID0gTzAwMDAwME8wT29PbyAoIG5vbWJyZSA9IGlJMTFpaUlpMUkxaUkgLCBjYXJhdHVsYSA9IElJSWkxaTFpIFsgMSBdICwKIHBvc3RlciA9IElJSWkxaTFpIFsgMiBdICwKIHZpZGVvID0geyAndGl0bGUnIDogSUlJMUkxaUkxSTFpSSBbIDMgXSAsICd5ZWFyJyA6IElJSTFJMWlJMUkxaUkgWyA0IF0gLCAncGxvdCcgOiBJSUlpMWkxaSBbIDAgXSB9ICkKICAgIEkxSWlpaSA9ICd7MH0/ezF9PXZpZXdfdGVtcCZzZXJpZV9pZD17Mn0mdGVtcF9pZD17M30nIC4gZm9ybWF0ICggSTFpSTExSSAsIG9PT08wTzAgLCBPb09vT29vMDAwMG8gLCBJMUlpSSApCiAgICBpZiAxIC0gMTogSUkKICAgIElJaUkxaUlJMWlpaSAuIGFwcGVuZCAoIE9PMG8wTzAgKCBpZCA9ICclcyVzLXYnICUgKCBzdHIgKCBPb09vT29vMDAwMG8gKSAsIHN0ciAoIEkxSWlJICkgKSAsIHR5cGUgPSBJaWkxICwgbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsCiB1cmwgPSBJMUlpaWkgLCBjYXJhdHVsYSA9IElJSWkxaTFpIFsgMSBdICwgcG9zdGVyID0gSUlJaTFpMWkgWyAyIF0gKSApCiAgICBpZiBpSWlJSTFpSSA9PSAnRGlidWpvcycgOgogICAgIElJaUkxaUlJMWlpaSAuIGFwcGVuZCAoIE9PMG8wTzAgKCBpZCA9ICclcyVzLXYnICUgKCBzdHIgKCBPb09vT29vMDAwMG8gKSAsIHN0ciAoIEkxSWlJICkgKSAsIHR5cGUgPSBJaWkxICwKIG5vbWJyZSA9IGlJMTFpaUlpMUkxaUkgLAogdXJsID0gSTFJaWlpICwgY2FyYXR1bGEgPSBJSUlpMWkxaSBbIDEgXSAsIHBvc3RlciA9IElJSWkxaTFpIFsgMiBdICwgZmF2ID0gb29JSUlJICwKIHRleHQgPSAnRGlidWpvcycgLCBmYXZMaXRlcmFsID0gJ2QnICkgKQogICAgZWxzZSA6CiAgICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzJXMtdicgJSAoIHN0ciAoIE9vT29Pb28wMDAwbyApICwgc3RyICggSTFJaUkgKSApICwgdHlwZSA9IElpaTEgLAogbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsCiB1cmwgPSBJMUlpaWkgLCBjYXJhdHVsYSA9IElJSWkxaTFpIFsgMSBdICwgcG9zdGVyID0gSUlJaTFpMWkgWyAyIF0gLCBmYXYgPSBpMTEgLAogdGV4dCA9ICdTZXJpZXMnICwgZmF2TGl0ZXJhbCA9ICdzJyApICkKICAgICBpZiAzMiAtIDMyOiBvbwogICAgIGlmIDI2IC0gMjY6IElpICsgT09vT29PMG8wbzBPTyAuIElJICogb28KICAgICBpZiAzMyAtIDMzOiBPT08gLyBJaUlJMWkxSSArIE9PTyAtIE9Pb09vTzBvMG8wT08KICAgICBpZiA3NCAtIDc0OiBvbyAqIE9Pb09vTzBvMG8wT08gLyBJaTFJICogSTEKICAgIE9vT08wT08wbzBPIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIElJaUkxaUlJMWlpaSApCiAgICBpZiA1OSAtIDU5OiBvb29Pb08gKiBJSUlJCiAgICBpZiA2MiAtIDYyOiBvMDBvTzBvbzBPME8wIC8gT09PIC4gaWlJSWkxaTFJaWkgKiBJSUlJIC4gSWkKICAgIGlmIDE4IC0gMTg6IG9vMG8KICAgIGkxSWkxMWkgLiBhcHBlbmQgKCAoIEkxSWlpaSAsIE9vT08wT08wbzBPICwgaUlpMUlpICkgKQogIGlmIElJSTFJMWlJMUkxaUkgWyAxMSBdID09ICdZJyA6CiAgIElJaUkxaUlJMWlpaSA9IFsgXQogICBpSTExaWlJaTFJMWlJID0gJ1tDT0xPUiAlc10lcyBbL0NPTE9SXScgJSAoIGkxSWlJMWlpaSAsIGlpSWlpSSApCiAgIGlmIElJSTFJMWlJMUkxaUkgWyAyIF0gOgogICAgaUkxMWlpSWkxSTFpSSA9ICclcyBbQ09MT1IgJXNdKEFsdGVybmF0aXZvKVsvQ09MT1JdJyAlICggaUkxMWlpSWkxSTFpSSAsIGkxMWlpICkKICAgT29PTzBPTzBvME8gPSBPMDAwMDAwTzBPb09vICggbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsIGNhcmF0dWxhID0gSUlJaTFpMWkgWyAxIF0gLAogcG9zdGVyID0gSUlJaTFpMWkgWyAyIF0gLAogdmlkZW8gPSB7ICd0aXRsZScgOiBJSUkxSTFpSTFJMWlJIFsgMyBdICwgJ3llYXInIDogSUlJMUkxaUkxSTFpSSBbIDQgXSAsICdwbG90JyA6IElJSWkxaTFpIFsgMCBdIH0gKQogICBJMUlpaWkgPSAnezB9P3sxfT1saXN0X3RlbXAmc2VyaWVfaWQ9ezJ9JnRlbXBfaWQ9ezN9JmNhcmF0dWxhPXs0fSZwb3N0ZXI9ezV9JyAuIGZvcm1hdCAoIEkxaUkxMUkgLCBvT09PME8wICwgT29Pb09vbzAwMDBvICwgSTFJaUkgLAogSUlJaTFpMWkgWyAxIF0gLCBJSUlpMWkxaSBbIDIgXSApCiAgIGlmIDgzIC0gODM6IG8wMG9PMG9vME8wTzAgLyBvb29Pb08KICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzJXMnICUgKCBzdHIgKCBPb09vT29vMDAwMG8gKSAsIHN0ciAoIEkxSWlJICkgKSAsIHR5cGUgPSBJaWkxICwgbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsIHVybCA9IEkxSWlpaSAsCiBjYXJhdHVsYSA9IElJSWkxaTFpIFsgMSBdICwgcG9zdGVyID0gSUlJaTFpMWkgWyAyIF0gKSApCiAgIGlmIGlJaUlJMWlJID09ICdEaWJ1am9zJyA6CiAgICBJSWlJMWlJSTFpaWkgLiBhcHBlbmQgKCBPTzBvME8wICggaWQgPSAnJXMlcycgJSAoIHN0ciAoIE9vT29Pb28wMDAwbyApICwgc3RyICggSTFJaUkgKSApICwgdHlwZSA9IElpaTEgLCBub21icmUgPSBpSTExaWlJaTFJMWlJICwKIHVybCA9IEkxSWlpaSAsCiBjYXJhdHVsYSA9IElJSWkxaTFpIFsgMSBdICwgcG9zdGVyID0gSUlJaTFpMWkgWyAyIF0gLCBmYXYgPSBvb0lJSUkgLCB0ZXh0ID0gJ0RpYnVqb3MnICwKIGZhdkxpdGVyYWwgPSAnZCcgKSApCiAgIGVsc2UgOgogICAgSUlpSTFpSUkxaWlpIC4gYXBwZW5kICggT08wbzBPMCAoIGlkID0gJyVzJXMnICUgKCBzdHIgKCBPb09vT29vMDAwMG8gKSAsIHN0ciAoIEkxSWlJICkgKSAsIHR5cGUgPSBJaWkxICwgbm9tYnJlID0gaUkxMWlpSWkxSTFpSSAsCiB1cmwgPSBJMUlpaWkgLAogY2FyYXR1bGEgPSBJSUlpMWkxaSBbIDEgXSAsIHBvc3RlciA9IElJSWkxaTFpIFsgMiBdICwgZmF2ID0gaTExICwgdGV4dCA9ICdTZXJpZXMnICwKIGZhdkxpdGVyYWwgPSAncycgKSApCiAgICBpZiA4MyAtIDgzOiBJaSArIGlpMUkxaWkxSWlJaTEgKiBJSW9vb08wb29PMG9vIC4gSTEgJSBJSW9vb08wb29PMG9vCiAgICBpZiA2MSAtIDYxOiBJaTFJIC0gSWkgLyBPT29Pb08wbzBvME9PCiAgICBpZiAxMDAgLSAxMDA6IElpMUkgJSBJaUlJMWkxSQogICAgaWYgNzcgLSA3NzogaWkxSTFpaTFJaUlpMQogICAgaWYgNzYgLSA3NjogbzAwb08wb28wTzBPMCAlIGkxaUkxIC0gb28wbwogICBPb09PME9PMG8wTyAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBJSWlJMWlJSTFpaWkgKQogICBpZiA1MSAtIDUxOiBPT08gLyBpMWlJMQogICBpZiA0MCAtIDQwOiBvbyAqIElJSUkgKiBJaUlJMUlpSQogICBpZiAxMSAtIDExOiBvT08gKyBvT08gKiBJSUlJIC4gaTFpSTEKICAgaWYgOTIgLSA5MjogSWkxSSAqIElpSUkxaTFJIC0gSWlJSTFJaUkKICAgaUlpMUlpID0gVHJ1ZQogICBvME9vT09PID0gVHJ1ZQogICBpMUlpMTFpIC4gYXBwZW5kICggKCBJMUlpaWkgLCBPb09PME9PMG8wTyAsIGlJaTFJaSApICkKIHRyeSA6CiAgeGJtY3BsdWdpbiAuIHNldENvbnRlbnQgKCBpaUlJaWlJSTEgLCAidHZzaG93cyIgKQogIE9PbzAwME9vICggb08wTzBvMG9vTyApCiBleGNlcHQgOgogIHBhc3MKIGlmIG8wT29PT08gOgogIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUlpaUlJMSAsIGkxSWkxMWkgLCBsZW4gKCBpMUlpMTFpICkgKQogIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUlpaUlJMSApCiBlbHNlIDoKICB4Ym1jIC4gbG9nICggIlthZGRvbi5QYWxhbnRpci0lc106IE5vIGluZm8gZm91bmQgZm9yIHNlcmllICVzICIgJSAoIElpSWkgLCBzZXJpZV9pZCApICkKICBpZiAzNCAtIDM0OiBvbzBvIC0gSUlvb29PMG9vTzBvbyAtIG9PTyAvIElJSUkKICBpZiAxOCAtIDE4OiBJMSAqIElJSUkgLSBvb09vb08wT09PICogSWlJSTFpMUkKICBpZiA5NyAtIDk3OiBJaUlJMWkxSQpkZWYgb29PMCAoIHNlcmllX2lkICwgdGVtcF9pZCAsIGNhcmF0dWxhICwgcG9zdGVyICkgOgogSWkxMTFJID0gTzAwMG8wMDBvME9vICggImNhcGl0dWxvcyIgLCBbICJzZXJpZV9pZCIgLCAidGVtcF9pZCIgLCAiY2FwaXR1bG9faWQiICwgIicnIiAsICInJyIgLCAiJyciICwgImxpbmsiICwgIidxdWFsaXR5JyIgLAogIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwgImNhcmF0dWxhIiAsICJwb3N0ZXIiICwgInVwZGF0ZWQiICwgIidUZXN0JyIgLCAiJ1Rlc3QnIiAsICInVGVzdCciIF0gLCBbICJzZXJpZV9pZCIgLCAidGVtcF9pZCIgXSAsCiBbIHNlcmllX2lkICwgdGVtcF9pZCBdICwgWyAnY2FwaXR1bG9zLm5vbWJyZScgLCAnY2FwaXR1bG9zLmNhcGl0dWxvX2lkJyBdICwgcGFyYW1zID0geyAnc3FsX2NvbmQnIDogJyBhY3RpdmUgPiAwJyB9ICkKIE9vb08wME9PbzBPT08gKCBJaTExMUkgLCBJaWkxICwgY2FyYXR1bGEgLCBwb3N0ZXIgKQogaWYgMTcgLSAxNzogSUlvb29PMG9vTzBvbyAuIElpSUkxaTFJICogSUkgKiBJMQogaWYgODMgLSA4Mzogb29vT29PICUgSTFJaUkxSUlJMTFpICogSTFJaUkxSUlJMTFpIC8gSWlJSTFpMUkgLSBvb09vb08wT09PICsgb29Pb29PME9PTwogaWYgNjkgLSA2OTogSTEgKiBJMQpkZWYgT28wbyAoIHNlcmllX2lkICwgdGVtcF9pZCApIDoKIG9Pb08wTzAwMDAwID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpMTFpICkKIElJaUlpaTFJaUkxaSA9IG9Pb08wTzAwMDAwIC4gY3Vyc29yICggKQogSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoCiAiU0VMRUNUIHNlcmllcy5zZXJpZV9pZCwgc2VyaWVzX3RlbXAudGVtcF9pZCwgJycsICcnLCAnJywgJycsIHNlcmllc190ZW1wLmxpbmssICdxdWFsaXR5Jywgc2VyaWVzLm5vbWJyZSwgc2VyaWVzX3RlbXAuYW5ubywgc2VyaWVzLnNpbm9wc2lzLCBzZXJpZXMuY2FyYXR1bGEsIHNlcmllcy5wb3N0ZXIsIHNlcmllc190ZW1wLnNpbm9wc2lzLCBzZXJpZXNfdGVtcC5jYXJhdHVsYSwgc2VyaWVzX3RlbXAucG9zdGVyLCBzZXJpZXMuY2F0ZWdvcnksIHNlcmllcy5hY3RpdmUgRlJPTSBzZXJpZXMgSU5ORVIgSk9JTiBzZXJpZXNfdGVtcCBPTiBzZXJpZXMuc2VyaWVfaWQ9c2VyaWVzX3RlbXAuc2VyaWVfaWQgd2hlcmUgc2VyaWVzX3RlbXAuc2VyaWVfaWQ9PyBBTkQgc2VyaWVzX3RlbXAudGVtcF9pZD0/IiAsCiAoIHNlcmllX2lkICwgdGVtcF9pZCAsICkgKQogSWkxMTFJID0gSUlpSWlpMUlpSTFpIC4gZmV0Y2hhbGwgKCApCiBvT29PME8wMDAwMCAuIGNsb3NlICggKQogaWYgMjkgLSAyOTogb28gKiBvMDBvTzBvbzBPME8wCiBJSUlpMWkxaSA9IE9vT08wMG9vICggSWkxMTFJIFsgMCBdIFsgMTAgXSAsIElpMTExSSBbIDAgXSBbIDExIF0gLCBJaTExMUkgWyAwIF0gWyAxMiBdICwgSWkxMTFJIFsgMCBdIFsgMTMgXSAsIElpMTExSSBbIDAgXSBbIDE0IF0gLCBJaTExMUkgWyAwIF0gWyAxNSBdICkKIGkxaWlJMTEgPSBpdGhpbCAuIG9vTzBPME8gKCBJaTExMUkgWyAwIF0gWyA2IF0gLCBpMTFpICwgc2VyaWVfaWQgLCB0ZW1wX2lkICkKIElJSUlpSWkxSUlpID0gWyBOb25lIF0gKiBsZW4gKCBpMWlpSTExICkKIGlmIDkzIC0gOTM6IG9vMG8gJSBJSSArIG9vICUgb28gJSBJMUlpSTFJSUkxMWkKIGZvciBpaWkxSWlJIGluIHhyYW5nZSAoIDAgLCBsZW4gKCBpMWlpSTExICkgKSA6CiAgaWYgMTYgLSAxNjogSWkgKyBpMWlJMSAuIElpSUkxaTFJCiAgSUlJSWlJaTFJSWkgWyBpaWkxSWlJIF0gPSBsaXN0ICggSWkxMTFJIFsgMCBdIFsgOiBsZW4gKCBJaTExMUkgWyAwIF0gKSBdICkKICBJSUlJaUlpMUlJaSBbIGlpaTFJaUkgXSBbIDEwIF0gPSBJSUlpMWkxaSBbIDAgXQogIElJSUlpSWkxSUlpIFsgaWlpMUlpSSBdIFsgMTEgXSA9IElJSWkxaTFpIFsgMSBdCiAgSUlJSWlJaTFJSWkgWyBpaWkxSWlJIF0gWyAxMiBdID0gSUlJaTFpMWkgWyAyIF0KICBJSUlJaUlpMUlJaSBbIGlpaTFJaUkgXSBbIDYgXSA9IGkxaWlJMTEgWyBpaWkxSWlJIF0gWyAxIF0KICBJSUlJaUlpMUlJaSBbIGlpaTFJaUkgXSBbIDggXSA9IGkxaWlJMTEgWyBpaWkxSWlJIF0gWyAwIF0KICBJSUlJaUlpMUlJaSBbIGlpaTFJaUkgXSBbIDEwIF0gPSAnJwogIGlmIDY2IC0gNjY6IGlpMUkxaWkxSWlJaTEgJSBJSUlJCiAgaWYgMTYgLSAxNjogaTFpSTEgLyBJMUlpSTFJSUkxMWkgKiBJSW9vb08wb29PMG9vIC0gaTFpSTEKICBpZiAyMCAtIDIwOiBJaTFJICUgSWlJSTFpMUkgLSBpaUlJaTFpMUlpaSAvIG9vICsgT09vT29PMG8wbzBPTyAlIGlpSUlpMWkxSWlpCiAgSUlJSWlJaTFJSWkgWyBpaWkxSWlJIF0gWyAxNSBdID0gSWkxMTFJIFsgMCBdIFsgMTYgXQogIElJSUlpSWkxSUlpIFsgaWlpMUlpSSBdIFsgMTYgXSA9IElpMTExSSBbIDAgXSBbIDE3IF0KICBpZiA5NCAtIDk0OiBPT29Pb08wbzBvME9PCiAgaWYgNzggLSA3ODogaWkxSTFpaTFJaUlpMSAuIG9vIC8gb29Pb29PME9PTwogT29vTzAwT09vME9PTyAoIElJSUlpSWkxSUlpICwgSWlpMSApCiBpZiA1NCAtIDU0OiBPT08gJSBvT08gLiBJSSAlIElpSUkxaTFJICUgb28wbyAtIEkxSWlJMUlJSTExaQogaWYgMjMgLSAyMzogb28gKyBPT29Pb08wbzBvME9PICUgT09vT29PMG8wbzBPTyAlIE9Pb09vTzBvMG8wT08KIGlmIDMgLSAzOiBJSW9vb08wb29PMG9vICogT09PCmRlZiBJSTFJaTFJICggc2VyaWVfaWQgKSA6CiBJaTExMUkgPSBPMDAwbzAwMG8wT28gKCAic2VyaWVzIiAsCiBbICJzZXJpZV9pZCIgLCAiJyciICwgIicnIiAsICInJyIgLCAiJyciICwgIicnIiAsICJsaW5rIiAsICIncXVhbGl0eSciICwgIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwKICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsICJ1cGRhdGVkIiAsICInJyIgLCAiY2F0ZWdvcnkiICwgImFjdGl2ZSIgLCAidG1kYiIKIF0gLCBbICJzZXJpZV9pZCIgXSAsIFsgc2VyaWVfaWQgXSAsIFsgJ3NlcmllX2lkJyBdICkKIGlmIDUxIC0gNTE6IG9vMG8gLSBPT08KIGlmIDEyIC0gMTI6IElJSUkgLSBvbzBvICsgSWlJSTFJaUkgKyBPT08gJSBJSSArIElJb29vTzBvb08wb28KIGkxaWlJMTEgPSBpdGhpbCAuIG9vTzBPME8gKCBJaTExMUkgWyAwIF0gWyA2IF0gLCBpMTFpICwgc2VyaWVfaWQgKQogSUlJSWlJaTFJSWkgPSBbIE5vbmUgXSAqIGxlbiAoIGkxaWlJMTEgKQogZm9yIGlpaTFJaUkgaW4geHJhbmdlICggMCAsIGxlbiAoIGkxaWlJMTEgKSApIDoKICBJSUlJaUlpMUlJaSBbIGlpaTFJaUkgXSA9IGxpc3QgKCBJaTExMUkgWyAwIF0gWyA6IF0gKQogIElJSUlpSWkxSUlpIFsgaWlpMUlpSSBdIFsgNiBdID0gaTFpaUkxMSBbIGlpaTFJaUkgXSBbIDEgXQogIElJSUlpSWkxSUlpIFsgaWlpMUlpSSBdIFsgOCBdID0gaTFpaUkxMSBbIGlpaTFJaUkgXSBbIDAgXQogIElJSUlpSWkxSUlpIFsgaWlpMUlpSSBdIFsgMTAgXSA9ICcnCiBPb29PMDBPT28wT09PICggSUlJSWlJaTFJSWkgLCBJaWkxICkKIGlmIDExIC0gMTE6IElpIC4gSWlJSTFJaUkgKiBvb29Pb08gLSBpaUlJaTFpMUlpaSAlIG9PTwogaWYgNSAtIDU6IEkxSWlJMUlJSTExaSAtIEkxIC4gaTFpSTEgJSBPT08gLyBvMDBvTzBvbzBPME8wIC8gSWlJSTFJaUkKIGlmIDgzIC0gODM6IG9vIC8gaTFpSTEgLyBJMSAlIElpMUkgLiBpaUlJaTFpMUlpaQpkZWYgb08wb29PMG9PTzAgKCApIDoKIGkxSWkxMWkgPSBbIF0KIGZvciBpaWkxSWlJIGluIHJhbmdlICggMCAsIDEwICkgOgogIE8wMG9vID0gZGF0ZXRpbWUgLiBkYXRldGltZSAuIG5vdyAoICkgLiB5ZWFyIC0gaWlpMUlpSQogIGlJMTFpaUlpMUkxaUkgPSAnW0NPTE9SICVzXSVzWy9DT0xPUl0nICUgKCBpMUlpSTFpaWkgLCBPMDBvbyApCiAgT29PTzBPTzBvME8gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBsYWJlbCA9IGlJMTFpaUlpMUkxaUkgLCBpY29uSW1hZ2UgPSAnJyApCiAgSTFJaWlpID0gJ3swfT9hY3Rpb249ezF9JmFubm89ezJ9JyAuIGZvcm1hdCAoIEkxaUkxMUkgLCAidWx0aW1hc19wZWxpc19hbnlvX2RldGFpbCIgLCBPMDBvbyApCiAgaUlpMUlpID0gVHJ1ZQogIGkxSWkxMWkgLiBhcHBlbmQgKCAoIEkxSWlpaSAsIE9vT08wT08wbzBPICwgaUlpMUlpICkgKQogdHJ5IDoKICB4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGlpSUlpaUlJMSAsICJmaWxlcyIgKQogIE9PbzAwME9vICggbzBvMDAwME8wICkKIGV4Y2VwdCA6CiAgcGFzcwogeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW1zICggaWlJSWlpSUkxICwgaTFJaTExaSAsIGxlbiAoIGkxSWkxMWkgKSApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJaWlJSTEgKQogaWYgNDMgLSA0MzogSWkxSSAlIElJSUkgLyBPT29Pb08wbzBvME9PIC0gSWlJSTFpMUkKZGVmIG9PbzAgKCBhY3Rpb24gLCBwYXJhbXMgKSA6CiBpZiAnc3FsX2xpbWl0JyBpbiBwYXJhbXMgOgogIElJaTFJaUlpMUkxID0gcGFyYW1zIFsgJ3NxbF9saW1pdCcgXQogZWxzZSA6CiAgSUlpMUlpSWkxSTEgPSAnJwogb09vTzBPMDAwMDAgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGkxMWkgKQogSUlpSWlpMUlpSTFpID0gb09vTzBPMDAwMDAgLiBjdXJzb3IgKCApCiBJSWlJaWkxSWlJMWkgLiBleGVjdXRlICggIlNlbGVjdCBhbm5vLGNvdW50KHBlbGlfaWQpIGZyb20gcGVsaXMgJXMgZ3JvdXAgYnkgYW5ubyBvcmRlciBieSBhbm5vIGRlc2MgJXMiICUgKCBwYXJhbXMgWyAnc3FsX2NvbmQnIF0gLCBJSWkxSWlJaTFJMSApICkKIElpMTExSSA9IElJaUlpaTFJaUkxaSAuIGZldGNoYWxsICggKQogb09vTzBPMDAwMDAgLiBjbG9zZSAoICkKIGkxSWkxMWkgPSBbIF0KIGZvciBJSUkxSTFpSTFJMWlJIGluIElpMTExSSA6CiAgTzAwb28gPSBJSUkxSTFpSTFJMWlJIFsgMCBdCiAgaWlpTzAwME9vID0gSUlJMUkxaUkxSTFpSSBbIDEgXQogIGlJMTFpaUlpMUkxaUkgPSAnW0NPTE9SICVzXSVzWy9DT0xPUl0gKCVzKScgJSAoIGkxSWlJMWlpaSAsIE8wMG9vICwgaWlpTzAwME9vICkKICBPb09PME9PMG8wTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGxhYmVsID0gaUkxMWlpSWkxSTFpSSAsIGljb25JbWFnZSA9ICcnICkKICBJMUlpaWkgPSAnezB9P2FjdGlvbj17MX0mYW5ubz17Mn0nIC4gZm9ybWF0ICggSTFpSTExSSAsIGFjdGlvbiAsIE8wMG9vICkKICBpSWkxSWkgPSBUcnVlCiAgaTFJaTExaSAuIGFwcGVuZCAoICggSTFJaWlpICwgT29PTzBPTzBvME8gLCBpSWkxSWkgKSApCiB0cnkgOgogIHhibWNwbHVnaW4gLiBzZXRDb250ZW50ICggaWlJSWlpSUkxICwgImZpbGVzIiApCiAgT09vMDAwT28gKCBvMG8wMDAwTzAgKQogZXhjZXB0IDoKICBwYXNzCiB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJaWlJSTEgLCBpMUlpMTFpICwgbGVuICggaTFJaTExaSApICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUlpaUlJMSApCiBpZiAxMyAtIDEzOiBpMWlJMQogaWYgNyAtIDc6IElpCmRlZiBPT28wb29PbzAgKCApIDoKIG9Pb08wTzAwMDAwID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpMTFpICkKIElJaUlpaTFJaUkxaSA9IG9Pb08wTzAwMDAwIC4gY3Vyc29yICggKQogaWYgMjUgLSAyNTogT09vT29PMG8wbzBPTyArIEkxIC0gb28wbyAvIG8wMG9PMG9vME8wTzAgKiBpaUlJaTFpMUlpaSAvIElJCiBJSWlJaWkxSWlJMWkgLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAiYzJWc1pXTjBJR2R5YjNWd1gyTnZibU5oZENoellXZGhMQ0FuSXljcElHWnliMjBnY0dWc2FYTWdiM0prWlhJZ1lua2djMkZuWVNCaGMyTT0iICkgKQogSWkxMTFJID0gSUlpSWlpMUlpSTFpIC4gZmV0Y2hhbGwgKCApCiBvT29PME8wMDAwMCAuIGNsb3NlICggKQogaWYgNTggLSA1ODogT09vT29PMG8wbzBPTyAuIG8wMG9PMG9vME8wTzAKIElpMTExSSA9IHNvcnRlZCAoIHNldCAoIElpMTExSSBbIDAgXSBbIDAgXSAuIHNwbGl0ICggJyMnICkgKSApCiBpMUlpMTFpID0gWyBdCiBmb3IgSUlJMUkxaUkxSTFpSSBpbiBJaTExMUkgOgogIGlmIDM2IC0gMzY6IGkxaUkxICUgb28wbwogIGlmICggSUlJMUkxaUkxSTFpSSAhPSAnJyBhbmQgSUlJMUkxaUkxSTFpSSAhPSAnICcgKSA6CiAgIGlpSUlpaTExaTFJaSA9IElJSTFJMWlJMUkxaUkKICAgdHJ5IDoKICAgIGlpSUlpaTExaTFJaSA9IGlpSUlpaTExaTFJaSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApCiAgIGV4Y2VwdCAoIFVuaWNvZGVFbmNvZGVFcnJvciAsIFVuaWNvZGVEZWNvZGVFcnJvciApIDoKICAgIHBhc3MKICAgaUkxMWlpSWkxSTFpSSA9ICdbQ09MT1IgJXNdJXNbL0NPTE9SXScgJSAoIGkxSWlJMWlpaSAsIGlpSUlpaTExaTFJaSApCiAgIE9vT08wT08wbzBPID0geGJtY2d1aSAuIExpc3RJdGVtICggbGFiZWwgPSBpSTExaWlJaTFJMWlJICwgaWNvbkltYWdlID0gJycgKQogICBJMUlpaWkgPSAnezB9P2FjdGlvbj1zYWdhX2RldGFpbCZzYWdhPXsxfScgLiBmb3JtYXQgKCBJMWlJMTFJICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBpaUlJaWkxMWkxSWkgKSApCiAgIGlJaTFJaSA9IFRydWUKICAgaUlJaTFJSUlJID0gSUkxSWkxMWkxSWkxSSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggaWlJSWlpMTFpMUlpICkgKQogICBpZiBsZW4gKCBpSUlpMUlJSUkgKSA+IDAgOgogICAgT29PTzBPTzBvME8gLiBhZGRDb250ZXh0TWVudUl0ZW1zICggaUlJaTFJSUlJICkKICAgIGlmIDQ4IC0gNDg6IG8wMG9PMG9vME8wTzAgKyBvT08gJSBJaUlJMWkxSSAqIElJIC0gT09PCiAgIGkxSWkxMWkgLiBhcHBlbmQgKCAoIEkxSWlpaSAsIE9vT08wT08wbzBPICwgaUlpMUlpICkgKQogdHJ5IDoKICB4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGlpSUlpaUlJMSAsICJmaWxlcyIgKQogIE9PbzAwME9vICggbzBvMDAwME8wICkKIGV4Y2VwdCA6CiAgcGFzcwogeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW1zICggaWlJSWlpSUkxICwgaTFJaTExaSAsIGxlbiAoIGkxSWkxMWkgKSApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJaWlJSTEgKQogaWYgMTAgLSAxMDogb28wbyAvIG9vMG8gLSBJMUlpSTFJSUkxMWkgKyBJaSAlIElJICsgb29vT29PCiBpZiA5NiAtIDk2OiBvMDBvTzBvbzBPME8wICUgSWkxSSAtIEkxIC4gaTFpSTEKZGVmIElpSUkxaWlJSTEgKCApIDoKIG9Pb08wTzAwMDAwID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpMTFpICkKIElJaUlpaTFJaUkxaSA9IG9Pb08wTzAwMDAwIC4gY3Vyc29yICggKQogSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoICJzZWxlY3QgZ3JvdXBfY29uY2F0KGxvd2VyKHRhZ3MpLCAnIycpIGZyb20gcGVsaXMgb3JkZXIgYnkgcGVsaV9pZCBhc2MiICkKIElpMTExSSA9IElJaUlpaTFJaUkxaSAuIGZldGNoYWxsICggKQogb09vTzBPMDAwMDAgLiBjbG9zZSAoICkKIGlmIDIgLSAyOiBvb29Pb08gLyBJaUlJMWkxSQogSWkxMTFJID0gc29ydGVkICggc2V0ICggSWkxMTFJIFsgMCBdIFsgMCBdIC4gc3BsaXQgKCAnIycgKSApICkKIGlmIDIzIC0gMjM6IG9vb09vTwogaTFJaTExaSA9IFsgXQogZm9yIElJSTFJMWlJMUkxaUkgaW4gSWkxMTFJIDoKICBvbzBPTyA9IElJSTFJMWlJMUkxaUkKICBpZiBvbzBPTyAhPSAnJyA6CiAgIGlmIDIgLSAyOiBJaQogICB0cnkgOgogICAgb28wT08gPSBvbzBPTyAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApCiAgIGV4Y2VwdCAoIFVuaWNvZGVFbmNvZGVFcnJvciAsIFVuaWNvZGVEZWNvZGVFcnJvciApIDoKICAgIHBhc3MKICAgaUkxMWlpSWkxSTFpSSA9ICdbQ09MT1IgJXNdJXNbL0NPTE9SXScgJSAoIGkxSWlJMWlpaSAsIG9vME9PIC4gY2FwaXRhbGl6ZSAoICkgKQogICBPb09PME9PMG8wTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGxhYmVsID0gaUkxMWlpSWkxSTFpSSAsIGljb25JbWFnZSA9ICcnICkKICAgSTFJaWlpID0gJ3swfT9hY3Rpb249Z2VuZXJvX2RldGFpbCZnZW5lcm89ezF9JyAuIGZvcm1hdCAoIEkxaUkxMUkgLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIG9vME9PICkgKQogICBpSWkxSWkgPSBUcnVlCiAgIGkxSWkxMWkgLiBhcHBlbmQgKCAoIEkxSWlpaSAsIE9vT08wT08wbzBPICwgaUlpMUlpICkgKQogdHJ5IDoKICB4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGlpSUlpaUlJMSAsICJmaWxlcyIgKQogIE9PbzAwME9vICggbzBvMDAwME8wICkKIGV4Y2VwdCA6CiAgcGFzcwogeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW1zICggaWlJSWlpSUkxICwgaTFJaTExaSAsIGxlbiAoIGkxSWkxMWkgKSApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJaWlJSTEgKQogaWYgODggLSA4ODogbzAwb08wb28wTzBPMCAqIG9vICUgT09PCiBpZiA4MyAtIDgzOiBJMSAvIG9vT29vTzBPT08gKyBvT08gKiBJaUlJMWkxSSAlIEkxCmRlZiBJSUkxSUlpSUkxMSAoICkgOgogb09vTzBPMDAwMDAgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGkxMWkgKQogSUlpSWlpMUlpSTFpID0gb09vTzBPMDAwMDAgLiBjdXJzb3IgKCApCiBJSWlJaWkxSWlJMWkgLiBleGVjdXRlICggInNlbGVjdCBncm91cF9jb25jYXQobG93ZXIoZ2VuZXJvKSwgJyMnKSBmcm9tIHBlbGlzIG9yZGVyIGJ5IHBlbGlfaWQgYXNjIiApCiBJaTExMUkgPSBJSWlJaWkxSWlJMWkgLiBmZXRjaGFsbCAoICkKIG9Pb08wTzAwMDAwIC4gY2xvc2UgKCApCiBpZiAxMCAtIDEwOiBvMDBvTzBvbzBPME8wICogSUlvb29PMG9vTzBvbyAqIE9Pb09vTzBvMG8wT08KIElpMTExSSA9IHNvcnRlZCAoIHNldCAoIElpMTExSSBbIDAgXSBbIDAgXSAuIHNwbGl0ICggJyMnICkgKSApCiBpZiA5MCAtIDkwOiBvb29Pb08gLSBJaUlJMWkxSSAlIElpSUkxSWlJCiBpMUlpMTFpID0gWyBdCiBmb3IgSUlJMUkxaUkxSTFpSSBpbiBJaTExMUkgOgogIG9vME9PID0gSUlJMUkxaUkxSTFpSQogIGlmIG9vME9PICE9ICcnIDoKICAgaWYgNTAgLSA1MDogT09PIC0gSUlvb29PMG9vTzBvbyAtIG9vIC8gbzAwb08wb28wTzBPMCAvIGkxaUkxIC4gSWkKICAgdHJ5IDoKICAgIG9vME9PID0gb28wT08gLiBlbmNvZGUgKCAndXRmLTgnICwgJ2lnbm9yZScgKQogICBleGNlcHQgKCBVbmljb2RlRW5jb2RlRXJyb3IgLCBVbmljb2RlRGVjb2RlRXJyb3IgKSA6CiAgICBwYXNzCiAgIGlJMTFpaUlpMUkxaUkgPSAnW0NPTE9SICVzXSVzWy9DT0xPUl0nICUgKCBpMUlpSTFpaWkgLCBvbzBPTyAuIGNhcGl0YWxpemUgKCApICkKICAgT29PTzBPTzBvME8gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBsYWJlbCA9IGlJMTFpaUlpMUkxaUkgLCBpY29uSW1hZ2UgPSAnJyApCiAgIEkxSWlpaSA9ICd7MH0/YWN0aW9uPWdlbmVyb19kZXRhaWwmZ2VuZXJvPXsxfScgLiBmb3JtYXQgKCBJMWlJMTFJICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBvbzBPTyApICkKICAgaUlpMUlpID0gVHJ1ZQogICBpMUlpMTFpIC4gYXBwZW5kICggKCBJMUlpaWkgLCBPb09PME9PMG8wTyAsIGlJaTFJaSApICkKIHRyeSA6CiAgeGJtY3BsdWdpbiAuIHNldENvbnRlbnQgKCBpaUlJaWlJSTEgLCAiZmlsZXMiICkKICBPT28wMDBPbyAoIG8wbzAwMDBPMCApCiBleGNlcHQgOgogIHBhc3MKIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUlpaUlJMSAsIGkxSWkxMWkgLCBsZW4gKCBpMUlpMTFpICkgKQogeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaWlJSWlpSUkxICkKIGlmIDgzIC0gODM6IG9vICogaTFpSTEgJSBPT08gLiBJSSAqIG9vT29vTzBPT08gLiBpaUlJaTFpMUlpaQogaWYgMyAtIDM6IG9vMG8gLSBJMSAtIG9vT29vTzBPT08gLSBJaTFJCmRlZiBJMUlpSUkxSWlpSTFJICggc2FnYSAsIHBhcmFtcyApIDoKIHBhcmFtcyBbICdzcWxfZ3JvdXAnIF0gPSAnIGdyb3VwX2lkJwogcGFyYW1zIFsgJ2Fubm8nIF0gPSAndHJ1ZScKIHBhcmFtcyBbICdwdW50b3MnIF0gPSAndHJ1ZScKIHBhcmFtcyBbICdhY3Rpb24nIF0gPSAnc2FnYV9kZXRhaWwnCiBwYXJhbXMgWyAnYWN0aW9uUGFyYW1zJyBdID0gJ3NhZ2E9JyArIHNhZ2EKIHBhcmFtcyBbICdzcWxfbGltaXQnIF0gPSAnIGxpbWl0ICcgKyBzdHIgKCBvb28wb29Pb08wT28gKQogaWYgJ3BhZ2UnIGluIHBhcmFtcyBhbmQgJ2NfcGFnZScgaW4gcGFyYW1zIDoKICBwYXJhbXMgWyAnc3FsX2NvbmQnIF0gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIHBhcmFtcyBbICdwYWdlJyBdICkgLiBkZWNvZGUgKCAndXRmLTgnICkKIGVsc2UgOgogIG9vMCA9IDEKICBwYXJhbXMgWyAnY19wYWdlJyBdID0gb28wCiBJaTExMUkgPSBPMDAgKCAicGVsaXMiICwgInNhZ2EiICwKIFsgInBlbGlfaWQiICwgImF1ZGlvIiAsICInJyIgLCAidGFncyIgLCAiJyciICwgIicnIiAsICJsaW5rIiAsICIncXVhbGl0eSciICwgIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwKICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsICJzdHJmdGltZSgnJVktJW0tJWQnLHVwZGF0ZWQpLCBwdW50b3MsIGNhdGVnb3J5LCBhY3RpdmUsIHRtZGIiICwKICJncm91cF9pZCIgLCAiY291bnQoKikiICwgImdyb3VwX2NvbmNhdCh0YWdzLCcjJykiICwgImdyb3VwX2NvbmNhdChhdWRpbywnIycpIgogXSAsIFsgInNhZ2EiIF0gLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIHNhZ2EgKSAuIGRlY29kZSAoICd1dGYtOCcgKSAsIFsgJ25vbWJyZScgXSAsIHBhcmFtcyApCiBPb29PMDBPT28wT09PICggSWkxMTFJICwgJ3BlbGlzJyAsIGluZm8gPSBwYXJhbXMgKQogaWYgMTggLSAxODogSWkxSSAvIEkxCmRlZiBPTzBPTzBPTyAoIGdlbiAsIHBhcmFtcyApIDoKIHBhcmFtcyBbICdzcWxfZ3JvdXAnIF0gPSAnIGdyb3VwX2lkJwogcGFyYW1zIFsgJ2Fubm8nIF0gPSAndHJ1ZScKIHBhcmFtcyBbICdwdW50b3MnIF0gPSAndHJ1ZScKIHBhcmFtcyBbICdhY3Rpb24nIF0gPSAnZ2VuZXJvX2RldGFpbCcKIHBhcmFtcyBbICdhY3Rpb25QYXJhbXMnIF0gPSAnZ2VuZXJvPScgKyBnZW4KIHBhcmFtcyBbICdzcWxfbGltaXQnIF0gPSAnIGxpbWl0ICcgKyBzdHIgKCBvb28wb29Pb08wT28gKQogaWYgJ3BhZ2UnIGluIHBhcmFtcyBhbmQgJ2NfcGFnZScgaW4gcGFyYW1zIDoKICBwYXJhbXMgWyAnc3FsX2NvbmQnIF0gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIHBhcmFtcyBbICdwYWdlJyBdICkgLiBkZWNvZGUgKCAndXRmLTgnICkKIGVsc2UgOgogIG9vMCA9IDEKICBwYXJhbXMgWyAnY19wYWdlJyBdID0gb28wCiBJaTExMUkgPSBPMDAgKCAicGVsaXMiICwgImdlbmVybyIgLAogWyAicGVsaV9pZCIgLCAiYXVkaW8iICwgIicnIiAsICJ0YWdzIiAsICInJyIgLCAiJyciICwgImxpbmsiICwgIidxdWFsaXR5JyIgLCAibm9tYnJlIiAsCiAiYW5ubyIgLCAic2lub3BzaXMiICwKICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsCiAic3RyZnRpbWUoJyVZLSVtLSVkJyx1cGRhdGVkKSwgcHVudG9zLCBjYXRlZ29yeSwgYWN0aXZlLCB0bWRiIiAsCiAiZ3JvdXBfaWQiICwgImNvdW50KCopIiAsICJncm91cF9jb25jYXQodGFncywnIycpIiAsICJncm91cF9jb25jYXQoYXVkaW8sJyMnKSIKIF0gLCBbICJnZW5lcm8iIF0gLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIGdlbiApIC4gZGVjb2RlICggJ3V0Zi04JyApICwgWyAnbm9tYnJlJyBdICwgcGFyYW1zICkKIE9vb08wME9PbzBPT08gKCBJaTExMUkgLCAncGVsaXMnICwgaW5mbyA9IHBhcmFtcyApCiBpZiA4NSAtIDg1OiBPT08gLiBpaTFJMWlpMUlpSWkxIC8gSUlvb29PMG9vTzBvbwpkZWYgb28wb09vb29PME8gKCBhbm5vICwgb3JkZXIgLCBwYXJhbXMgKSA6CiBwYXJhbXMgWyAnYWN0aW9uUGFyYW1zJyBdID0gJ2Fubm89JyArIGFubm8KIHBhcmFtcyBbICdzcWxfbGltaXQnIF0gPSAnIGxpbWl0ICcgKyBzdHIgKCBvb28wb29Pb08wT28gKQogaWYgJ3BhZ2UnIGluIHBhcmFtcyBhbmQgJ2NfcGFnZScgaW4gcGFyYW1zIDoKICBwYXJhbXMgWyAnc3FsX2NvbmQnIF0gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIHBhcmFtcyBbICdwYWdlJyBdICkgLiBkZWNvZGUgKCAndXRmLTgnICkKIGVsc2UgOgogIG9vMCA9IDEKICBwYXJhbXMgWyAnY19wYWdlJyBdID0gb28wCiBJaTExMUkgPSBPMDAwbzAwMG8wT28gKCAicGVsaXMiICwKIFsgInBlbGlfaWQiICwgImF1ZGlvIiAsICInJyIgLCAidGFncyIgLCAiJyciICwgIicnIiAsICJsaW5rIiAsICIncXVhbGl0eSciICwgIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwKICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsICJzdHJmdGltZSgnJVktJW0tJWQnLHVwZGF0ZWQpLCBwdW50b3MsIGNhdGVnb3J5LCBhY3RpdmUsIHRtZGIiICwKICJncm91cF9pZCIgLCAiY291bnQoKikiICwgImdyb3VwX2NvbmNhdCh0YWdzLCcjJykiICwgImdyb3VwX2NvbmNhdChhdWRpbywnIycpIgogXSAsIFsgImFubm8iIF0gLCBbIGFubm8gXSAsIG9yZGVyICwgcGFyYW1zICkKIE9vb08wME9PbzBPT08gKCBJaTExMUkgLCAncGVsaXMnICwgaW5mbyA9IHBhcmFtcyApCiBpZiA2MyAtIDYzOiBPT08KZGVmIE9vb29PT09vT28gKCBjYXRlZ29yeSAsIG9yZGVyICwgcGFyYW1zID0geyB9ICkgOgogcGFyYW1zIFsgJ2FjdGlvblBhcmFtcycgXSA9ICdjYXRlZ29yeT0nICsgY2F0ZWdvcnkgWyAwIF0KIHBhcmFtcyBbICdzcWxfbGltaXQnIF0gPSAnIGxpbWl0ICcgKyBzdHIgKCBvb28wb29Pb08wT28gKQogaWYgJ3BhZ2UnIGluIHBhcmFtcyBhbmQgJ2NfcGFnZScgaW4gcGFyYW1zIDoKICBwYXJhbXMgWyAnc3FsX2NvbmQnIF0gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIHBhcmFtcyBbICdwYWdlJyBdICkgLiBkZWNvZGUgKCAndXRmLTgnICkKIGVsc2UgOgogIG9vMCA9IDEKICBwYXJhbXMgWyAnY19wYWdlJyBdID0gb28wCiBJaTExMUkgPSBPMDAwbzAwMG8wT28gKCAicGVsaXMiICwKIFsgInBlbGlfaWQiICwgImF1ZGlvIiAsICInJyIgLCAidGFncyIgLCAiJyciICwgIicnIiAsICJsaW5rIiAsICIncXVhbGl0eSciICwgIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwKICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsICJzdHJmdGltZSgnJVktJW0tJWQnLHVwZGF0ZWQpLCBwdW50b3MsIGNhdGVnb3J5LCBhY3RpdmUsIHRtZGIiICwKICJncm91cF9pZCIgLCAiY291bnQoKikiICwgImdyb3VwX2NvbmNhdCh0YWdzLCcjJykiICwgImdyb3VwX2NvbmNhdChhdWRpbywnIycpIgogXSAsIFsgImNhdGVnb3J5IiBdICwgY2F0ZWdvcnkgLCBvcmRlciAsIHBhcmFtcyApCiBPb29PMDBPT28wT09PICggSWkxMTFJICwgJ3BlbGlzJyAsIGluZm8gPSBwYXJhbXMgKQogaWYgNTIgLSA1Mjogb29vT29PICUgSWlJSTFpMUkgKyBJSW9vb08wb29PMG9vCmRlZiBPMDAgKCB0YWJsZSAsIGNvbHVtbl9jb25kICwgdmFsdWVzICwgaWQgLCBpZF92YWx1ZSAsIG9yZGVyICwgcGFyYW1zID0geyB9ICkgOgogaUlJSSA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaTExaSApCiBJSWlJaWkxSWlJMWkgPSBpSUlJIC4gY3Vyc29yICggKQogaWYgcGFyYW1zIGFuZCAnc3FsX2xpbWl0JyBpbiBwYXJhbXMgOgogIElJaTFJaUlpMUkxID0gcGFyYW1zIFsgJ3NxbF9saW1pdCcgXQogZWxzZSA6CiAgSUlpMUlpSWkxSTEgPSAnJwogaWYgcGFyYW1zIGFuZCAnc3FsX2dyb3VwJyBpbiBwYXJhbXMgOgogIGlJaUkxMTFpMTFJSSA9ICcgZ3JvdXAgYnkgJyArIHBhcmFtcyBbICdzcWxfZ3JvdXAnIF0KIGVsc2UgOgogIGlJaUkxMTFpMTFJSSA9ICcnCiBpZiBwYXJhbXMgYW5kICdzcWxfY29uZCcgaW4gcGFyYW1zIDoKICBpaTFJSUkxMTFpaSA9ICcgYW5kICcgKyBwYXJhbXMgWyAnc3FsX2NvbmQnIF0KIGVsc2UgOgogIGlpMUlJSTExMWlpID0gJycKICBpZiAzOCAtIDM4OiBJMSAuIElpSUkxaTFJICogSWkxSQogSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoICJTRUxFQ1QgIiArICIsIiAuIGpvaW4gKCB2YWx1ZXMgKSArICIsIiArICIsIiAuIGpvaW4gKCBpZCApICsgIiBGUk9NICIgKyB0YWJsZSArICIgV0hFUkUgYWN0aXZlID4gMCAiICsgaWkxSUlJMTExaWkgKyAiIGFuZCAoICIgKyBjb2x1bW5fY29uZCArICIgbGlrZSAnIiArIGlkX3ZhbHVlICsgIicgb3IgIiArIGNvbHVtbl9jb25kICsgIiBsaWtlICciICsgaWRfdmFsdWUgKyAiIyUnIG9yICIgKyBjb2x1bW5fY29uZCArICIgbGlrZSAnJSMiICsgaWRfdmFsdWUgKyAiJyBvciAiICsgY29sdW1uX2NvbmQgKyAiIGxpa2UgJyUjIiArIGlkX3ZhbHVlICsgIiMlJykgIiArIGlJaUkxMTFpMTFJSSArICIgb3JkZXIgYnkgIiArICIsIiAuIGpvaW4gKCBvcmRlciApICsgSUlpMUlpSWkxSTEgKQogSWkxMTFJID0gSUlpSWlpMUlpSTFpIC4gZmV0Y2hhbGwgKCApCiBpSUlJIC4gY2xvc2UgKCApCiByZXR1cm4gSWkxMTFJCiBpZiA1MSAtIDUxOiBJSUlJIC0gT09vT29PMG8wbzBPTwpkZWYgTzAwMG8wMDBvME9vICggdGFibGUgLCB2YWx1ZXMgLCBpZHMgLCBpZHNfdmFsdWUgLCBvcmRlciAsIHBhcmFtcyA9ICcnICkgOgogaWYgOTggLSA5ODogT09vT29PMG8wbzBPTyAqIG9vICUgSWkgKiBJSSAlIElpMUkKIGlpMUlJSTExMWlpID0gJycKIElJaTFJaUlpMUkxID0gJycKIGlJaUkxMTFpMTFJSSA9ICcnCiBpZiA1NyAtIDU3OiBJSSArIG9vb09vTyArIElJICsgSTFJaUkxSUlJMTFpCiBpZiBwYXJhbXMgYW5kICdzcWxfbGltaXQnIGluIHBhcmFtcyA6CiAgSUlpMUlpSWkxSTEgPSBwYXJhbXMgWyAnc3FsX2xpbWl0JyBdCiBpZiBwYXJhbXMgYW5kICdzcWxfY29uZCcgaW4gcGFyYW1zIDoKICBpZiBsZW4gKCBpZHMgKSA9PSBsZW4gKCBpZHNfdmFsdWUgKSBhbmQgbGVuICggaWRzICkgPT0gMCA6CiAgIGlpMUlJSTExMWlpID0gJyB3aGVyZSAnICsgcGFyYW1zIFsgJ3NxbF9jb25kJyBdCiAgZWxzZSA6CiAgIGlpMUlJSTExMWlpID0gcGFyYW1zIFsgJ3NxbF9jb25kJyBdICsgJyBhbmQgJwogaWYgcGFyYW1zIGFuZCAnc3FsX2dyb3VwJyBpbiBwYXJhbXMgOgogIGlJaUkxMTFpMTFJSSA9ICcgZ3JvdXAgYnkgJyArIHBhcmFtcyBbICdzcWxfZ3JvdXAnIF0KIGlJSUkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGkxMWkgKQogSUlpSWlpMUlpSTFpID0gaUlJSSAuIGN1cnNvciAoICkKIGlmIGxlbiAoIGlkcyApID09IGxlbiAoIGlkc192YWx1ZSApIGFuZCBsZW4gKCBpZHMgKSA9PSAwIDoKICBpZiAyNSAtIDI1OiBvMDBvTzBvbzBPME8wCiAgSUlpSWlpMUlpSTFpIC4gZXhlY3V0ZSAoICJTRUxFQ1QgIiArICIsIiAuIGpvaW4gKCB2YWx1ZXMgKSArICIgRlJPTSAiICsgdGFibGUgKyBpaTFJSUkxMTFpaSArIGlJaUkxMTFpMTFJSSArICIgb3JkZXIgYnkgIiArICIsIiAuIGpvaW4gKCBvcmRlciApICsgSUlpMUlpSWkxSTEgKQogZWxzZSA6CiAgaWYgNTMgLSA1Mzogb28gLyBvb29Pb08gLyBJMUlpSTFJSUkxMWkgLyBJMUlpSTFJSUkxMWkKICBJSWlJaWkxSWlJMWkgLiBleGVjdXRlICggIlNFTEVDVCAiICsgIiwiIC4gam9pbiAoIHZhbHVlcyApICsgIiwiICsgIiwiIC4gam9pbiAoIGlkcyApICsgIiBGUk9NICIgKyB0YWJsZSArICIgV0hFUkUgIiArIGlpMUlJSTExMWlpICsgKAogIiA9ID8gYW5kICIgLiBqb2luICggaWRzICkgKyAiPT8iICkgKyBpSWlJMTExaTExSUkgKyAiIG9yZGVyIGJ5ICIgKyAiLCIgLiBqb2luICggb3JkZXIgKSArIElJaTFJaUlpMUkxICwgaWRzX3ZhbHVlICkKIElpMTExSSA9IElJaUlpaTFJaUkxaSAuIGZldGNoYWxsICggKQogaUlJSSAuIGNsb3NlICggKQogcmV0dXJuIElpMTExSQogaWYgNzIgLSA3MjogaTFpSTEKZGVmIElJaTExaUkxMUlJMSAoIGxpbiAsIHRpdCAsIGlkICwgdHlwZSAsIHBhcmFtcyApIDoKIGl0aGlsIC4gSWlJaUlpMWlJMSAoIGxpbiAsIHRpdCAsIGkxMWkgLCBpZCAsIHR5cGUgLCAncGxheScgLCBwYXJhbXMgKQogaWYgMzEgLSAzMTogaTFpSTEKIGlmIDE4IC0gMTg6IEkxSWlJMUlJSTExaSArIElpSUkxaTFJICUgb28wbyAqIGlpMUkxaWkxSWlJaTEKZGVmIGkxaWlJaWkxaWlpSWkgKCBwYXJhbXN0cmluZyApIDoKIE9vME8wb09PMDAgPSBkaWN0ICggcGFyc2VfcXNsICggcGFyYW1zdHJpbmcgKSApCiBpZiBPbzBPMG9PTzAwIDoKICBpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09IElpaTEgOgogICBPb28wMG8wb28wbyAoICc9PScgLCAnZ2VuZXJhbCcgLCBPbzBPMG9PTzAwICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3Nlcmllc19kaWJ1am9zJyA6CiAgIE9vbzAwbzBvbzBvICggJ2xpa2UnICwgJyVkaWJ1am9zJScgLCBPbzBPMG9PTzAwICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3Nlcmllc19yZXRybycgOgogICBPb28wMG8wb28wbyAoICc9PScgLCAncmV0cm8nICwgT28wTzBvT08wMCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdzZXJpZXNfZG9jdW1lbnRhbGVzJyA6CiAgIE9vbzAwbzBvbzBvICggJ2xpa2UnICwgJyVkb2N1bWVudGFsJScgLCBPbzBPMG9PTzAwICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3Nlcmllc19tdXNpY2EnIDoKICAgT29vMDBvMG9vMG8gKCAnbGlrZScgLCAnJW11c2ljYSUnICwgT28wTzBvT08wMCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICd0ZWxlbm92ZWxhcycgOgogICBPb28wMG8wb28wbyAoICdsaWtlJyAsICcldGVsZW5vdmVsYSUnICwgT28wTzBvT08wMCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdzZXJpZXNfYW5pbWUnIDoKICAgT29vMDBvMG9vMG8gKCAnbGlrZScgLCAnJWFuaW1lJScgLCBPbzBPMG9PTzAwICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3NlYXJjaFNlcmllJyA6CiAgIElJSUkxSSAoIElJaTExSWkxICwgJ3NlcmllcycgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAnc2VhcmNoUGVsaScgOgogICBJSUlJMUkgKCBpaUkxMTExSUlpaUkgLCAncGVsaXMnICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3Nlcmllc0J5TGFuZycgOgogICBpZiAnbGFuZycgaW4gT28wTzBvT08wMCA6CiAgICBPME8wME9vb08wME8gKCBPbzBPMG9PTzAwIFsgJ2xhbmcnIF0gLCAnc2VyaWVzJyAsIE9vME8wb09PMDAgKQogICBlbHNlIDoKICAgIE8wTzAwT29vTzAwTyAoIE5vbmUgLCAnc2VyaWVzJyAsIE9vME8wb09PMDAgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAncGVsaXNCeUxhbmcnIDoKICAgaWYgJ2xhbmcnIGluIE9vME8wb09PMDAgOgogICAgTzBPMDBPb29PMDBPICggT28wTzBvT08wMCBbICdsYW5nJyBdICwgJ3BlbGlzJyAsIE9vME8wb09PMDAgKQogICBlbHNlIDoKICAgIE8wTzAwT29vTzAwTyAoIE5vbmUgLCAncGVsaXMnICwgT28wTzBvT08wMCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdzZXJpZXNCeUFaJyA6CiAgIG9PT08wbyAoIE9vME8wb09PMDAgLCAnc2VyaWUnICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3Nlcmllc19tYXNfdmlzdGFzJyA6CiAgIGkxMWlJSWkgKCAidmlld3MiICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3Nlcmllc19tYXNfdmlzdGFzX21lcycgOgogICBpMTFpSUlpICggImxhc3RfbW9udGhfdmlld3MiICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3BlbGlzX21hc192aXN0YXMnIDoKICAgT29vT29Pb29vICggWyAnc3VtKHZpZXdzKSBkZXNjJyBdICwgeyAic3FsX2NvbmQiIDogIiAgYWN0aXZlID4gMCAiICwgJ3NxbF9ncm91cCcgOiAnIGdyb3VwX2lkJyAsICdzcWxfbGltaXQnIDogJyBsaW1pdCAnICsgc3RyICggb29vMG9vT29PME9vICkgLCAnYW5ubycgOiAndHJ1ZScgLCAicHVudG9zIiA6ICJ0cnVlIiB9ICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3BlbGlzX21hc192aXN0YXNfbWVzJyA6CiAgIE9vb09vT29vbyAoIFsgJ3N1bShsYXN0X21vbnRoX3ZpZXdzKSBkZXNjJyBdICwgeyAic3FsX2NvbmQiIDogIiAgYWN0aXZlID4gMCAiICwgJ3NxbF9ncm91cCcgOiAnIGdyb3VwX2lkJyAsICdzcWxfbGltaXQnIDogJyBsaW1pdCAnICsgc3RyICggb29vMG9vT29PME9vICkgLCAnYW5ubycgOiAndHJ1ZScgLCAicHVudG9zIiA6ICJ0cnVlIiB9ICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3BlbGlzX2RpYnVqb3NfbWFzX3Zpc3RhcycgOgogICBPb29Pb09vb28gKCBbICdzdW0odmlld3MpIGRlc2MnIF0gLCB7ICJzcWxfY29uZCIgOiAiICBjYXRlZ29yeSA9ICdEaWJ1am9zJyBhbmQgYWN0aXZlID4gMCAiICwgJ3NxbF9ncm91cCcgOiAnIGdyb3VwX2lkJyAsICdzcWxfbGltaXQnIDogJyBsaW1pdCAnICsgc3RyICggb29vMG9vT29PME9vICkgLCAnYW5ubycgOiAndHJ1ZScgLCAicHVudG9zIiA6ICJ0cnVlIiB9ICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3BlbGlzX2RpYnVqb3NfbWFzX3Zpc3Rhc19tZXMnIDoKICAgT29vT29Pb29vICggWyAnc3VtKGxhc3RfbW9udGhfdmlld3MpIGRlc2MnIF0gLCB7ICJzcWxfY29uZCIgOiAiIGNhdGVnb3J5ID0gJ0RpYnVqb3MnIGFuZCBhY3RpdmUgPiAwICIgLCAnc3FsX2dyb3VwJyA6ICcgZ3JvdXBfaWQnICwgJ3NxbF9saW1pdCcgOiAnIGxpbWl0ICcgKyBzdHIgKCBvb28wb29Pb08wT28gKSAsICdhbm5vJyA6ICd0cnVlJyAsICJwdW50b3MiIDogInRydWUiIH0gKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAndWx0aW1hc19zZXJpZXMnIDoKICAgaUkxSWlpSUkxaUkgKCBJSWkxMUlpMSAsICdzZXJpZXMnICwgImFuZCBjYXRlZ29yeSBub3QgaW4gKCdEb2N1bWVudGFsJywgJ011c2ljYScsICdBbmltZScpIiApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICd1bHRpbWFzX3Nlcmllc19hbmltZScgOgogICBpSTFJaWlJSTFpSSAoIElJaTExSWkxICwgJ3NlcmllcycgLCAiYW5kIGNhdGVnb3J5ID0gKCdBbmltZScpIiApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICd1bHRpbW9zX2RvY3VtZW50YWxlcycgOgogICBpSTFJaWlJSTFpSSAoIElJaTExSWkxICwgJ3NlcmllcycgLCAiYW5kIGNhdGVnb3J5ID0gKCdEb2N1bWVudGFsJykiICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3VsdGltYXNfbXVzaWNhcycgOgogICBpSTFJaWlJSTFpSSAoIElJaTExSWkxICwgJ3NlcmllcycgLCAiYW5kIGNhdGVnb3J5ID0gKCdNdXNpY2EnKSIgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAndWx0aW1hc19wZWxpcycgOgogICBPbzBPMG9PTzAwIFsgJ3NxbF9jb25kJyBdID0gIiAgYWN0aXZlID4gMCAiCiAgIE9vME8wb09PMDAgWyAnc3FsX2dyb3VwJyBdID0gJyBncm91cF9pZCcKICAgT28wTzBvT08wMCBbICdwdW50b3MnIF0gPSAndHJ1ZScKICAgT28wTzBvT08wMCBbICdhbm5vJyBdID0gJ3RydWUnCiAgIE9vME8wb09PMDAgWyAnZGF0ZScgXSA9ICd0cnVlJwogICBPb29vT09Pb09vICggWyAnUGVsaWN1bGEnIF0gLCBbICd1cGRhdGVkIGRlc2MnICwgJ2Fubm8gZGVzYycgXSAsIE9vME8wb09PMDAgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAnc2VyaWUnIDoKICAgTzBPICggT28wTzBvT08wMCBbICdzZXJpZV9pZCcgXSApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdhZGREb3dubG9hZCcgOgogICBPb08wb29PT08gKCBPbzBPMG9PTzAwICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ2FkZGZhdicgOgogICBpaW9PMG9vMDBPME8gKCBPbzBPMG9PTzAwICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ2FkZGZhdnMnIDoKICAgaWlvTzBvbzAwTzBPICggT28wTzBvT08wMCAsIGZhdm9yaXRvcyA9IGlpSWlpMUlJaTFJICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ2FkZGZhdnAnIDoKICAgaWlvTzBvbzAwTzBPICggT28wTzBvT08wMCAsIGZhdm9yaXRvcyA9IGlJSWlJaUkxSTFJICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ2FkZGZhdmQnIDoKICAgaWlvTzBvbzAwTzBPICggT28wTzBvT08wMCAsIGZhdm9yaXRvcyA9IGlpSTFJaUkxaWlJSTEgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAncm1mYXYnIDoKICAgT29PT29PTzAgKCBPbzBPMG9PTzAwICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3JtZmF2cCcgOgogICBPb09Pb09PMCAoIE9vME8wb09PMDAgLCBmYXZvcml0b3MgPSBpSUlpSWlJMUkxSSApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdybWZhdmQnIDoKICAgT29PT29PTzAgKCBPbzBPMG9PTzAwICwgZmF2b3JpdG9zID0gaWlJMUlpSTFpaUlJMSApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdybWZhdnMnIDoKICAgT29PT29PTzAgKCBPbzBPMG9PTzAwICwgZmF2b3JpdG9zID0gaWlJaWkxSUlpMUkgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAnbGlzdGZhdicgOgogICBPMDAwMDAgKCBpSWlJaWlpSWkxSTFJICwgZmF2ID0gaTExaWlpICwgZmF2TGl0ZXJhbCA9ICcnICwgdGV4dCA9ICcnICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ2xpc3RmYXZzJyA6CiAgIE8wMDAwMCAoIGlpSWlpMUlJaTFJICwgZmF2ID0gaTExICwgZmF2TGl0ZXJhbCA9ICdzJyAsIHRleHQgPSAnU2VyaWVzJyApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdsaXN0ZmF2cCcgOgogICBPMDAwMDAgKCBpSUlpSWlJMUkxSSAsIGZhdiA9IElpaUlpMTFpSUlJMSAsIGZhdkxpdGVyYWwgPSAncCcgLCB0ZXh0ID0gJ1BlbGlzJyApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdsaXN0ZmF2ZCcgOgogICBPMDAwMDAgKCBpaUkxSWlJMWlpSUkxICwgZmF2ID0gb29JSUlJICwgZmF2TGl0ZXJhbCA9ICdkJyAsIHRleHQgPSAnRGlidWpvcycgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAndG9fdW53YXRjaCcgOgogICBpMUlJMSAoIE9vME8wb09PMDAgWyAnaWRGaWxlJyBdICwgT28wTzBvT08wMCBbICdpZFBhdGgnIF0gLCBPbzBPMG9PTzAwIFsgJ2ZpbGVOYW1lJyBdICwgRmFsc2UgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAndG9fd2F0Y2gnIDoKICAgaTFJSTEgKCBPbzBPMG9PTzAwIFsgJ2lkRmlsZScgXSAsIE9vME8wb09PMDAgWyAnaWRQYXRoJyBdICwgT28wTzBvT08wMCBbICdmaWxlTmFtZScgXSAsIFRydWUgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAndG9fc2FnYScgOgogICBPMG9vMDAgKCBPbzBPMG9PTzAwIFsgJ3NhZ2EnIF0gKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAndmlld19zZXJpZScgOgogICBJSTFJaTFJICggT28wTzBvT08wMCBbICdzZXJpZV9pZCcgXSApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICd2aWV3X3RlbXAnIDoKICAgT28wbyAoIE9vME8wb09PMDAgWyAnc2VyaWVfaWQnIF0gLCBPbzBPMG9PTzAwIFsgJ3RlbXBfaWQnIF0gKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAnbGlzdF90ZW1wJyA6CiAgIG9vTzAgKCBPbzBPMG9PTzAwIFsgJ3NlcmllX2lkJyBdICwgT28wTzBvT08wMCBbICd0ZW1wX2lkJyBdICwgT28wTzBvT08wMCBbICdjYXJhdHVsYScgXSAsIE9vME8wb09PMDAgWyAncG9zdGVyJyBdICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3BsYXknIDoKICAgSUlpMTFpSTExSUkxICggT28wTzBvT08wMCBbICdsaW4nIF0gLCBPbzBPMG9PTzAwIFsgJ3RpdCcgXSAsIE9vME8wb09PMDAgWyAnaWQnIF0gLCBPbzBPMG9PTzAwIFsgJ3R5cGUnIF0gLCBPbzBPMG9PTzAwICkKICBlbGlmIE9vME8wb09PMDAgWyAnYWN0aW9uJyBdID09ICdhbnlvJyA6CiAgIE9vME8wb09PMDAgWyAnc3FsX2NvbmQnIF0gPSAid2hlcmUgYWN0aXZlID4gMCIKICAgb09vMCAoICdhbnlvX2RldGFpbCcgLCBPbzBPMG9PTzAwICkKICBlbGlmIE9vME8wb09PMDAgWyAnYWN0aW9uJyBdID09ICdhbnlvX2RldGFpbCcgOgogICBPbzBPMG9PTzAwIFsgJ3NxbF9jb25kJyBdID0gIiAgYWN0aXZlID4gMCAiCiAgIE9vME8wb09PMDAgWyAnc3FsX2dyb3VwJyBdID0gIiBncm91cF9pZCIKICAgT28wTzBvT08wMCBbICdwdW50b3MnIF0gPSAidHJ1ZSIKICAgb28wb09vb29PME8gKCBPbzBPMG9PTzAwIFsgJ2Fubm8nIF0gLCBbICdub21icmUgYXNjJyBdICwgT28wTzBvT08wMCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgJ2FjdGlvbicgXSA9PSAndWx0aW1hc19wZWxpc19hbnlvJyA6CiAgIG9PMG9vTzBvT08wICggKQogIGVsaWYgT28wTzBvT08wMCBbICdhY3Rpb24nIF0gPT0gJ3VsdGltYXNfcGVsaXNfYW55b19kZXRhaWwnIDoKICAgb28wb09vb29PME8gKCBPbzBPMG9PTzAwIFsgJ2Fubm8nIF0gLCBbICd1cGRhdGVkIGRlc2MnIF0gLCB7ICJzcWxfY29uZCIgOiAiICBhY3RpdmUgPiAwICIgLCAnc3FsX2dyb3VwJyA6ICcgZ3JvdXBfaWQnICwgJ3NxbF9saW1pdCcgOiAnIGxpbWl0ICcgKyBzdHIgKCBvb28wb29Pb08wT28gKSAsICdkYXRlJyA6ICd0cnVlJyAsICJwdW50b3MiIDogInRydWUiIH0gKQogIGVsaWYgT28wTzBvT08wMCBbICdhY3Rpb24nIF0gPT0gJ2FueW9fdG9wJyA6CiAgIE9vME8wb09PMDAgWyAnc3FsX2NvbmQnIF0gPSAid2hlcmUgYWN0aXZlID4gMCBhbmQgcHVudG9zID4gMCIKICAgb09vMCAoICdhbnlvX3RvcF9kZXRhaWwnICwgT28wTzBvT08wMCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgJ2FjdGlvbicgXSA9PSAnYW55b190b3BfZGV0YWlsJyA6CiAgIE9vME8wb09PMDAgWyAnc3FsX2NvbmQnIF0gPSAiICBhY3RpdmUgPiAwIGFuZCBwdW50b3MgPiAwICIKICAgT28wTzBvT08wMCBbICdzcWxfZ3JvdXAnIF0gPSAiIGdyb3VwX2lkIgogICBPbzBPMG9PTzAwIFsgJ3B1bnRvcycgXSA9ICJ0cnVlIgogICBPbzBPMG9PTzAwIFsgJ3NxbF9saW1pdCcgXSA9ICcgbGltaXQgJyArIHN0ciAoIG9vbzBvb09vTzBPbyApCiAgIG9vMG9Pb29vTzBPICggT28wTzBvT08wMCBbICdhbm5vJyBdICwgWyAncHVudG9zIGRlc2MnICwgJ25vbWJyZSBhc2MnIF0gLCBPbzBPMG9PTzAwICkKICBlbGlmIE9vME8wb09PMDAgWyAnYWN0aW9uJyBdID09ICdzYWdhcycgOgogICBPT28wb29PbzAgKCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgJ2FjdGlvbicgXSA9PSAnc2FnYV9kZXRhaWwnIDoKICAgT28wTzBvT08wMCBbICdzcWxfY29uZCcgXSA9ICIgIGFjdGl2ZSA+IDAgIgogICBPbzBPMG9PTzAwIFsgJ3NxbF9ncm91cCcgXSA9ICcgZ3JvdXBfaWQnCiAgIE9vME8wb09PMDAgWyAnYW5ubycgXSA9ICd0cnVlJwogICBPbzBPMG9PTzAwIFsgJ3B1bnRvcycgXSA9ICd0cnVlJwogICBJMUlpSUkxSWlpSTFJICggT28wTzBvT08wMCBbICdzYWdhJyBdICwgT28wTzBvT08wMCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgJ2FjdGlvbicgXSA9PSAnbGlzdF9nZW5lcm9zJyA6CiAgIElJSTFJSWlJSTExICggKQogIGVsaWYgT28wTzBvT08wMCBbICdhY3Rpb24nIF0gPT0gJ2dlbmVyb19kZXRhaWwnIDoKICAgT08wT08wT08gKCBPbzBPMG9PTzAwIFsgJ2dlbmVybycgXSAsIE9vME8wb09PMDAgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAncGVsaV9pbmYnIDoKICAgT28wTzBvT08wMCBbICdzcWxfY29uZCcgXSA9ICIgIGFjdGl2ZSA+IDAgIgogICBPbzBPMG9PTzAwIFsgJ3NxbF9ncm91cCcgXSA9ICcgZ3JvdXBfaWQnCiAgIE9vME8wb09PMDAgWyAncHVudG9zJyBdID0gJ3RydWUnCiAgIE9vME8wb09PMDAgWyAnYW5ubycgXSA9ICd0cnVlJwogICBPb29vT09Pb09vICggWyAnRGlidWpvcycgXSAsIFsgJ25vbWJyZScgXSAsIE9vME8wb09PMDAgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAncGVsaV9hbmltZScgOgogICBPbzBPMG9PTzAwIFsgJ3NxbF9jb25kJyBdID0gIiAgYWN0aXZlID4gMCAiCiAgIE9vME8wb09PMDAgWyAnc3FsX2dyb3VwJyBdID0gJyBncm91cF9pZCcKICAgT28wTzBvT08wMCBbICdwdW50b3MnIF0gPSAndHJ1ZScKICAgT28wTzBvT08wMCBbICdhbm5vJyBdID0gJ3RydWUnCiAgIE9vb29PT09vT28gKCBbICdBbmltZScgXSAsIFsgJ25vbWJyZScgXSAsIE9vME8wb09PMDAgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAndG9wX3BlbGlfaW5mJyA6CiAgIE9vME8wb09PMDAgWyAnc3FsX2NvbmQnIF0gPSAiICBhY3RpdmUgPiAwICIKICAgT28wTzBvT08wMCBbICdzcWxfZ3JvdXAnIF0gPSAnIGdyb3VwX2lkJwogICBPbzBPMG9PTzAwIFsgJ3B1bnRvcycgXSA9ICd0cnVlJwogICBPbzBPMG9PTzAwIFsgJ2Fubm8nIF0gPSAndHJ1ZScKICAgT29vb09PT29PbyAoIFsgJ0RpYnVqb3MnIF0gLCBbICdwdW50b3MgZGVzYycgLCAnbm9tYnJlIGFzYycgXSAsIE9vME8wb09PMDAgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAncGVsaXNCeUFaJyA6CiAgIG9PT08wbyAoIE9vME8wb09PMDAgLCAncGVsaScgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAnbGFzdF9wZWxpX2luZicgOgogICBPbzBPMG9PTzAwIFsgJ3NxbF9jb25kJyBdID0gIiAgYWN0aXZlID4gMCAiCiAgIE9vME8wb09PMDAgWyAnc3FsX2dyb3VwJyBdID0gJyBncm91cF9pZCcKICAgT28wTzBvT08wMCBbICdwdW50b3MnIF0gPSAndHJ1ZScKICAgT28wTzBvT08wMCBbICdkYXRlJyBdID0gJ3RydWUnCiAgIE9vME8wb09PMDAgWyAnYW5ubycgXSA9ICd0cnVlJwogICBPb29vT09Pb09vICggWyAnRGlidWpvcycgXSAsIFsgJ3VwZGF0ZWQgZGVzYycgLCAnYW5ubyBkZXNjJyBdICwgT28wTzBvT08wMCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdzZXJpZXNfbWVudScgOgogICBJaUkxSUkxMSAoIEkxSTFpMWkxMUkxaSAoICdTZXJpZXMnICkgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAncGVsaXNfbWVudScgOgogICBJaUkxSUkxMSAoIEkxSTFpMWkxMUkxaSAoICdQZWxpcycgKSApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdkaWJ1am9zX21lbnUnIDoKICAgSWlJMUlJMTEgKCBJMUkxaTFpMTFJMWkgKCAnRGlidWpvcycgKSApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdhbmltZV9tZW51JyA6CiAgIElpSTFJSTExICggSTFJMWkxaTExSTFpICggJ0FuaW1lJyApICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ2RvY3VtZW50YWxlc19tZW51JyA6CiAgIElpSTFJSTExICggSTFJMWkxaTExSTFpICggJ0RvY3VtZW50YWwnICkgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAnbXVzaWNhX21lbnUnIDoKICAgSWlJMUlJMTEgKCBJMUkxaTFpMTFJMWkgKCAnTXVzaWNhJyApICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ2hlcnJhbWllbnRhc19tZW51JyA6CiAgIElpSTFJSTExICggSTFJMWkxaTExSTFpICggJ0hlcnJhbWllbnRhcycgKSApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICd2YWxpZGF0ZUZvbGRlckNvbmZpZycgOgogICBvT28gKCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdjbGVhbicgOgogICBvTzBvTyAoICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ2Rvd25sb2FkcycgOgogICBJaWkxb08wMG8wMDAwT08wTyAoICkKICBlbGlmIE9vME8wb09PMDAgWyBvT09PME8wIF0gPT0gJ3BsYXlMb2NhbCcgOgogICBpaUlJaWlJSTEgPSBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkKICAgaTExMWlpID0geGJtY2d1aSAuIExpc3RJdGVtICggcGF0aCA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggT28wTzBvT08wMCBbICdwYXRoJyBdICkgKQogICBpZiAxMSAtIDExOiBJSUlJIC8gT09vT29PMG8wbzBPTyAqIGkxaUkxIC4gSUlJSSAtIGlpMUkxaWkxSWlJaTEKICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWlJSWlpSUkxICwgVHJ1ZSAsIGkxMTFpaSApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdybURvd25sb2FkJyA6CiAgIG9vb28wbyAoIE9vME8wb09PMDAgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAndmFsaWRhdGVDcmVkZW50aWFscycgOgogICBpMUkgKCBPbzBPMG9PTzAwIFsgJ3VybCcgXSApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdjcmVhdGVDb3B5JyA6CiAgIE8wTzAwMG8gKCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdyZXN0b3JlQ29weScgOgogICBvT09vT08gKCApCiAgZWxpZiBPbzBPMG9PTzAwIFsgb09PTzBPMCBdID09ICdvcGVuU2V0dGluZ3MnIDoKICAgX19zZXR0aW5nc19fIC4gb3BlblNldHRpbmdzICggKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSAnaW5zdGFsbCcgOgogICBpMTFJaTExSUkxaSAoIE9vME8wb09PMDAgKQogIGVsaWYgT28wTzBvT08wMCBbIG9PT08wTzAgXSA9PSBJaUlJaTFJMUlpIDoKICAgTzBPTzAwMDAwMG9PMCAoIE9vME8wb09PMDAgKQogZWxzZSA6CiAgaWYgNDEgLSA0MTogaTFpSTEgKiBPT29Pb08wbzBvME9PIC4gbzAwb08wb28wTzBPMCAvIG9vCiAgSTFpSUkxaTFpICggaTExaSApCiAgSWlJMUlJMTEgKCBJMUkxaTFpMTFJMWkgKCAiZGVmYXVsdCIgKSApCiAgaWYgMTAwIC0gMTAwOiBvbzBvIC8gSUlvb29PMG9vTzBvbyArIG9PTyAuIG9vb09vTyAuIE9Pb09vTzBvMG8wT08gKyBJaQogIGlmIDcgLSA3OiBvMDBvTzBvbzBPME8wIC8gaWlJSWkxaTFJaWkgLiBvbzBvCmlmIF9fbmFtZV9fID09ICdfX21haW5fXycgOgogaTFpaUlpaTFpaWlJaSAoIHN5cyAuIGFyZ3YgWyAyIF0gWyAxIDogXSApCiBpZiAyNCAtIDI0OiBpaTFJMWlpMUlpSWkxIC0gaWlJSWkxaTFJaWkgKiBJaSAtIGkxaUkxIC8gT09vT29PMG8wbzBPTyAvIG9vb09vTwogaWYgNjMgLSA2MzogaWkxSTFpaTFJaUlpMSAuIEkxIC4gSWlJSTFJaUkgKiBJaUlJMWkxSSAvIG9vT29vTzBPT08KIGlmIDk0IC0gOTQ6IElpMUkKIGlmIDQgLSA0OiBJaUlJMUlpSSAlIEkxSWlJMUlJSTExaSAuIEkxSWlJMUlJSTExaQojIDgwN2NiMWJmZmZiMjM0ZGFjZTNmOTMwZjU3MWE5MDM5ZDc2ZjRjZjkK')